import{B as k,n as I,i as _,z as T,A as D,r as p,o as t,a,b as s,d as g,w as N,C as d,F as x,h as w,j as u,m as h,u as H,f as S,e as y,t as M,p as B,g as L}from"./index-Bo2C3Yh2.js";import{h as V}from"./moment-Cl4UOzQZ.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b=c=>(B("data-v-b4703a92"),c=c(),L(),c),F={class:"mainContainer"},$={class:"DMMenuContainer"},q={class:"DMMenu"},z={key:0,class:"DMList"},E=["onClick"],U=b(()=>s("div",{class:"Profile"},"img",-1)),j={class:"DMRoom"},A={class:"DMRoomName"},P={key:0},G={class:"DMRoomLastMessage"},J={class:"DMRoomLastMessageTime"},K={class:"DMContentContainer"},O={key:0,class:"DMContent"},Q={__name:"DMHome",setup(c){const R=k(),C=I();H().state.user_ID;const n=_("Rooms"),v=_(null),l=_([{roomID:1,roomName:"room1",lastMessage:"ㅁㅁㅁ",lastMessageTime:"마지막: 1분 전"},{roomID:2,roomName:"room2",lastMessage:"ㅋㅋㅋ",lastMessageTime:"마지막: 2분 전"},{roomID:3,roomName:"room3",lastMessage:"ㅁㄴㅇ",lastMessageTime:"마지막: 3분 전"}]),m=()=>{S.get("/Direct/print_Room").then(r=>{console.log(r.data);const{Rooms_Info:o}=r.data;l.value=o,l.value.forEach(i=>{i.lastMessageTime=V(i.lastMessageTime).format("YYYY-MM-DD HH:mm:ss")})}).catch(r=>{console.log(r)})};return T(()=>{m(),D.on("receive_message",()=>{m()}),D.on("DM_Rooms_Update",()=>{m()})}),(r,o)=>{const i=p("router-link"),f=p("router-view");return t(),a("div",F,[s("div",$,[g(i,{to:{name:"HomeFeed"},class:"logo"},{default:N(()=>[y("TripTracks")]),_:1}),s("div",q,[s("li",{class:d({select:n.value==="Rooms"}),onClick:o[0]||(o[0]=e=>n.value="Rooms")}," 채팅방 ",2),s("li",{class:d({select:n.value==="Requests"}),onClick:o[1]||(o[1]=e=>n.value="Requests")}," 요청 ",2)]),n.value==="Rooms"?(t(),a("div",z,[(t(!0),a(x,null,w(l.value,e=>(t(),a("div",{class:d(["DMRoomContainer",{select:v.value===e.Room_ID}]),onClick:X=>{v.value=e.Room_ID,h(C).push({name:"Room",params:{Room_ID:e.Room_ID}})}},[U,s("div",j,[s("div",A,M(e.User_Name),1),e.lastMessage?(t(),a("span",P,[s("div",G,M(e.lastMessage)+" |",1),s("div",J," | "+M(e.lastMessageTime),1)])):u("",!0)])],10,E))),256))])):u("",!0)]),s("div",K,[h(R).name==="DirectMessage"?(t(),a("div",O," 아마 메시지 창이 들어갈 곳 ")):u("",!0),g(f)])])}}},os=Y(Q,[["__scopeId","data-v-b4703a92"]]);export{os as default};
