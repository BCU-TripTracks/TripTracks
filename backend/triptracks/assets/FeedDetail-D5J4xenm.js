import{B as P,y as S,c as w,r as c,o as T,a as h,b as M,d as l,e as n,f as s,g as Y,h as V,t as o,x as H,l as r,C as N,F as E,k as L,w as R,m as K,n as O,q as j,i as q,p as z,j as A,u as G}from"./index-By30rEyO.js";import{l as J,s as Q}from"./save-DYftNgwL.js";import{_ as k}from"./ProfileImage-DDAmAK24.js";import{h as C}from"./moment-Cl4UOzQZ.js";import{S as i}from"./sweetalert2.all-DleYb7kt.js";/* empty css                                                                */import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const d=u=>(z("data-v-cbe76278"),u=u(),A(),u),X={key:0,class:"discription"},Z={class:"feedinfobox"},$=["src"],ss={class:"commentdetail"},es={class:"username"},ts={class:"sub"},as={class:"uploadtime"},os={class:"userbutton"},ls={key:0,class:"Ownerbox"},ns=d(()=>s("button",{class:"feedModify"},"수정",-1)),cs={key:1,class:"Audiencebox"},is={class:"slidewrap"},rs=d(()=>s("ul",{class:"slidelist"},[s("li",null,[s("a",null,[s("label",{for:"slide03",class:"left"}),s("label",{for:"slide02",class:"right"})])])],-1)),ds=["src"],us={class:"place"},ms=j('<ul class="makerdrop" data-v-cbe76278><li class="LCS" data-v-cbe76278><span class="LC" data-v-cbe76278>좋아요 4,722 댓글 115</span><span data-v-cbe76278><img src="'+J+'" alt="" class="like" data-v-cbe76278></span><span data-v-cbe76278><img src="'+Q+'" alt="" class="save" data-v-cbe76278></span></li></ul><div class="commentbox" data-v-cbe76278><span data-v-cbe76278><img src="'+k+'" alt="" class="profile" data-v-cbe76278></span><div class="commentdetail" data-v-cbe76278><div data-v-cbe76278><span class="username" data-v-cbe76278>유연우</span><span class="content" data-v-cbe76278>고우십니다^^.</span></div><div class="sub" data-v-cbe76278><span class="uploadtime" data-v-cbe76278>2024년 03월 30일 12:12</span><span class="reply" data-v-cbe76278>답글쓰기</span></div></div></div>',2),ps=d(()=>s("span",null,[s("img",{src:k,alt:"",class:"profile"})],-1)),_s={class:"commentdetail"},vs=d(()=>s("span",{class:"username"},"유연우",-1)),hs={class:"content"},fs={class:"sub"},bs={class:"uploadtime"},gs=d(()=>s("span",{class:"reply"},"답글쓰기",-1)),ws={class:"commentcontainer"},Cs={__name:"FeedDetail",setup(u){const f=P(),y=S(),v=G(),D=w(()=>v.state.User_ID),e=c(null);c(null);const m=w(()=>e.value&&D.value===e.value.post.User_ID),x=()=>{v.commit("Switch_isMsg")},I=()=>{e.value.isFollowedByCurrentUser&&i.fire({title:"정말 팔로우를 취소하시겠습니까?",text:" ",icon:"warning",showCancelButton:!0,confirmButtonText:"팔로우 취소",cancelButtonText:"취소"}).then(async t=>{t.isConfirmed&&await h.post("/user/unfollow",{userId:e.value.post.User_ID},{withCredentials:!0}).then(a=>{console.log(a.data),i.fire("팔로우 취소","팔로우가 취소되었습니다.","success"),v.commit("Update_Follow_Status",!1)}).catch(a=>{console.log(a)})})},F=async()=>{i.fire({title:"정말로 게시글을 삭제하시겠습니까?",text:"삭제된 게시글은 되돌릴 수 없습니다.",icon:"warning",showCancelButton:!0,confirmButtonText:"삭제",cancelButtonText:"취소"}).then(async t=>{t.isConfirmed?await h.post("/feeds/Post_delete",{postId:e.value.post.Post_ID},{withCredentials:!0}).then(a=>{console.log(a.data),i.fire("게시글이 삭제되었습니다!","홈화면으로 이동합니다.","success"),y.push({name:"HomeFeed"})}).catch(a=>{console.log(a)}):t.dismiss===i.DismissReason.cancel&&i.fire("게시글 삭제가 취소되었습니다.","ㅋㅋ봐줌","error")})},p=c(""),b=c([]),g=()=>{const t=C().format("YYYY년 MM월 DD일 HH:mm");b.value.push({content:p.value,timestamp:t}),p.value=""};return c(null),T(()=>{console.log("테스트1"),console.log(f.params.Post_ID),h.get("/Feeds/Post_detail/"+f.params.Post_ID,{withCredentials:!0}).then(t=>{console.log(t.data),e.value=t.data}).catch(t=>{console.log("오류발생"),console.log(t)})}),c(null),(t,a)=>{const B=M("router-link");return e.value?(l(),n("div",X,[s("div",Z,[s("span",null,[s("img",{src:e.value.post.Profile_Img,alt:"",class:"profile"},null,8,$)]),s("div",ss,[s("div",null,[s("span",es,[Y(B,{to:{name:"PersonalPage",params:{User_ID:e.value.post.User_ID}},class:"userID"},{default:V(()=>[q(o(e.value.post.User_ID),1)]),_:1},8,["to"])])]),s("div",ts,[s("span",as,o(H(C)(e.value.post.Post_Create_Timestamp).format("YYYY년 MM월 DD일 HH:mm")),1)])]),s("div",os,[m.value?(l(),n("div",ls,[ns,s("button",{class:"feeddelete",onClick:F},"삭제")])):r("",!0),m.value?r("",!0):(l(),n("div",cs)),m.value?r("",!0):(l(),n("button",{key:2,class:"follow",onClick:I,style:N({backgroundColor:e.value.isFollowedByCurrentUser?"#EFEFEF":"black",borderColor:e.value.isFollowedByCurrentUser?"#F2F2F2":"black",color:e.value.isFollowedByCurrentUser?"black":"white"})},o(e.value.isFollowedByCurrentUser?"팔로잉":"팔로우"),5)),m.value?r("",!0):(l(),n("button",{key:3,class:"message",onClick:x}," 메시지 "))])]),s("div",is,[rs,s("img",{src:e.value.post.Image_Src,alt:""},null,8,ds),s("div",null,o(e.value.post.Post_Title),1),s("div",null,o(e.value.post.Post_Caption),1)]),s("ul",us,[s("li",null,o(e.value.tags),1)]),ms,(l(!0),n(E,null,L(b.value,(_,U)=>(l(),n("div",{key:U,class:"commentbox"},[ps,s("div",_s,[s("div",null,[vs,s("span",hs,o(_.content),1)]),s("div",fs,[s("span",bs,o(_.timestamp),1),gs])])]))),128)),s("div",ws,[R(s("input",{class:"comment",type:"text",placeholder:"댓글을 입력하세요.","onUpdate:modelValue":a[0]||(a[0]=_=>p.value=_),onKeyup:O(g,["enter"])},null,544),[[K,p.value]]),s("button",{class:"commenting",onClick:g},"입력")])])):r("",!0)}}},Us=W(Cs,[["__scopeId","data-v-cbe76278"]]);export{Us as default};
