import{u as R,c as C,r as u,o as q,a as D,b as j,d as e,e as o,w as T,v as ss,f as s,g as v,h as g,i as m,j as h,F as k,p as V,k as L,l as I,t as y,m as F,n as z,q as es,s as ts,x as M,y as K,z as os}from"./index-4ydSH2Vs.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                               *//* empty css                                                                */import{_ as E}from"./dropdown-DFkPxgV_.js";import{S as as,a as ns,P as ls,N as cs}from"./pagination-D1L8o-GA.js";const is=n=>(V("data-v-f0a2ed50"),n=n(),L(),n),ds={class:"subscription_ambassador"},rs=is(()=>s("p",null,"당신도 할 수 있다 앰버서더",-1)),us={class:"header_upper_menu"},_s={class:"header"},ps={class:"header_menu"},vs={class:"header_menu_list"},ms={class:"header_menu_list"},hs={class:"header_menu_list"},gs={class:"logo"},fs={class:"header_menu"},$s={class:"header_menu_list"},bs={key:0,class:"header_menu_list"},xs={class:"header_menu_list"},ws={__name:"header",setup(n){const a=R(),p=C(()=>a.state.User_ID),$=u(0),b=()=>{console.log("로그아웃실행"),D.get("/users/logout",{withCredentials:!0}).then(d=>{a.dispatch("checkSession")}).catch(d=>{console.log(d)})};return q(()=>{D.get("/users/check_Rule",{withCredentials:!0}).then(d=>{console.log(d.data),$.value=d.data.Rule}).catch(d=>{console.log(d)})}),(d,f)=>{const c=j("router-link");return e(),o(k,null,[T(s("div",ds,[rs,v(c,{to:{name:"Subscription"}},{default:g(()=>[m(" 바로 신청하기")]),_:1})],512),[[ss,$.value===0]]),s("ul",us,[s("li",null,[v(c,{to:{name:"Ambassador"},class:"mypage"},{default:g(()=>[m(" 앰버서더 ")]),_:1})]),s("li",null,[v(c,{to:{name:"myPage"},class:"mypage"},{default:g(()=>[m(" 마이페이지 ")]),_:1})]),s("li",{onClick:f[0]||(f[0]=N=>b()),class:"Logout"},"로그아웃")]),s("div",_s,[s("div",ps,[s("ul",null,[s("li",vs,[v(c,{to:{name:"followingtab"}},{default:g(()=>[m("팔로잉 ")]),_:1})]),s("li",ms,[v(c,{to:{name:"searcingtab"}},{default:g(()=>[m("탐색 ")]),_:1})]),s("li",hs,[v(c,{to:{name:"popularitytab"}},{default:g(()=>[m("인기 ")]),_:1})])])]),s("div",gs,[s("h1",null,[v(c,{to:{name:"HomeFeed"}},{default:g(()=>[m(" TripTracks ")]),_:1})])]),s("div",fs,[s("ul",null,[s("li",$s,[v(c,{to:{name:"DirectMessage"}},{default:g(()=>[m("DirectMessage ")]),_:1})]),p.value?(e(),o("li",bs,[v(c,{to:{name:"PersonalPage",params:{User_ID:p.value}}},{default:g(()=>[m("프로필 ")]),_:1},8,["to"])])):h("",!0),s("li",xs,[v(c,{to:{name:"planner"}},{default:g(()=>[m("Planner ")]),_:1})])])])])],64)}}},ks=P(ws,[["__scopeId","data-v-f0a2ed50"]]),J="/assets/ProfileImage2-DAt-H7rB.png",ys="/assets/ProfileImage3-kxNyjHTU.png",U=n=>(V("data-v-ab10c39a"),n=n(),L(),n),Is={class:"messagecontainer"},Cs={class:"chatmenu"},Ds={class:"chatcontainer"},Us={key:0},Ss=["src"],Ts={class:"chatroom"},Ps={class:"userID"},Ns={class:"userID"},Bs=U(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),Fs={key:1,class:"chatroom"},Ms=es('<div class="roomname" data-v-ab10c39a><span data-v-ab10c39a><img src="'+J+'" alt="" class="profile" data-v-ab10c39a></span><div class="commentdetail" data-v-ab10c39a><div data-v-ab10c39a><span class="userID" data-v-ab10c39a>Juuho.0</span></div><div class="sub" data-v-ab10c39a><span class="uesrname" data-v-ab10c39a>오준호</span></div></div></div>',1),Rs={class:"conversation"},Vs=U(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),Ls=U(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),As={class:"commentdetail"},Ws={class:"me"},Hs={class:"mychat"},Ks={class:"textcontainer"},qs={key:2},js={key:3},zs=U(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),Es=["onClick"],Js=["src"],Gs={class:"userlistbox"},Os={class:"userID"},Qs={class:"sub"},Xs={class:"username"},Ys={key:4},Zs={class:"chatbox"},se=U(()=>s("span",null,[s("img",{src:ys,alt:"",class:"profile"})],-1)),ee=U(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),te=[se,ee],oe={__name:"message",setup(n){R();const a=u("messages");u("message");const p=u(""),$=u([]),b=u([]),d=u([]),f=u([]),c=()=>{$.value.push(p.value),ts.emit("sendComment",p.value),p.value=""};q(()=>{D.get("/dms/followList").then(r=>{if(console.log(r.data),!r.data.success)return console.log(`${r.data.msg}`);const{userInfoMap:t}=r.data;b.value=t.follower,d.value=t.following}).catch(r=>{console.log(r)}),D.get("/dms/dmRooms").then(r=>{console.log(r.data);const{Rooms:t}=r.data;f.value=t}).catch(r=>{console.log(r)})});const N=r=>{D.post("/dms/createDM",{targetID:r}).then(t=>{if(console.log(t.data),!t.data.success)return console.log(`${t.data.msg}`);f.value=t.data.Rooms}).catch(t=>{console.log(t)})};return(r,t)=>(e(),o("div",Is,[s("div",Cs,[s("span",{class:"messagebox",onClick:t[0]||(t[0]=i=>a.value="messages")},"메시지함"),s("span",{class:"follow",onClick:t[1]||(t[1]=i=>a.value="follow")},"팔로우"),s("span",{class:"following",onClick:t[2]||(t[2]=i=>a.value="following")},"팔로잉"),s("span",{class:"request",onClick:t[3]||(t[3]=i=>a.value="request")},"요청")]),s("div",Ds,[a.value==="messages"?(e(),o("div",Us,[(e(!0),o(k,null,I(f.value,i=>(e(),o("div",{class:"chatbox",onClick:t[4]||(t[4]=S=>a.value="message")},[s("span",null,[s("img",{src:i.Target_User.Profile_Img,alt:"",class:"profile"},null,8,Ss)]),s("div",Ts,[s("div",null,[s("span",Ps,y(i.Target_User.User_ID),1),s("span",Ns,y(i.Target_User.User_Name),1)]),Bs])]))),256))])):h("",!0),a.value==="message"?(e(),o("div",Fs,[Ms,s("div",Rs,[Vs,Ls,(e(!0),o(k,null,I($.value,(i,S)=>(e(),o("div",{key:S,class:"commentbox"},[s("div",As,[s("div",Ws,[s("span",Hs,y(i),1)])])]))),128))]),s("div",Ks,[T(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":t[5]||(t[5]=i=>p.value=i),onKeyup:z(c,["enter"])},null,544),[[F,p.value]]),s("button",{class:"send",onClick:c},"보내기")])])):h("",!0),a.value==="follow"?(e(),o("div",qs)):h("",!0),a.value==="following"?(e(),o("div",js,[zs,(e(!0),o(k,null,I(d.value,i=>(e(),o("div",{class:"chatbox",onClick:S=>N(i.User_ID)},[s("span",null,[s("img",{src:i.Profile_Img,alt:"",class:"profile"},null,8,Js)]),s("div",Gs,[s("div",null,[s("span",Os,y(i.User_ID),1)]),s("div",Qs,[s("span",Xs,y(i.User_Name),1)])])],8,Es))),256))])):h("",!0),a.value==="request"?(e(),o("div",Ys,[(e(!0),o(k,null,I(Array(6),i=>(e(),o("div",Zs,te))),256))])):h("",!0)])]))}},ae=P(oe,[["__scopeId","data-v-ab10c39a"]]),G=n=>(V("data-v-bd750d5a"),n=n(),L(),n),ne={class:"signcontainer"},le=G(()=>s("span",{class:"sign"},"새로운 알림",-1)),ce={class:"notification"},ie={class:"notibox"},de=G(()=>s("div",{class:"feedinfobox"},[s("span",null,[s("img",{src:J,alt:"",class:"profile"})]),s("div",{class:"commentdetail"},[s("div",null,[s("span",{class:"username"},"오준호님이 회원님을 팔로우하기 시작했습니다.")])])],-1)),re=[de],ue={__name:"notification",setup(n){return(a,p)=>(e(),o("div",ne,[le,s("div",ce,[(e(!0),o(k,null,I(Array(20),$=>(e(),o("div",ie,re))),256))])]))}},_e=P(ue,[["__scopeId","data-v-bd750d5a"]]),A=n=>(V("data-v-558ffaf7"),n=n(),L(),n),pe={class:"writepot"},ve={class:"writecontainer"},me=A(()=>s("span",{class:"newarticle"},"새 게시물 작성",-1)),he={class:"articlebox"},ge={class:"photobox"},fe={key:0,for:"chooseFile",class:"selectphoto"},$e={key:1,class:"photobox",pagination:"true",modules:"[Pagination]"},be=["src"],xe={class:"commentbox"},we={class:"userinfo"},ke=["src"],ye={class:"userid"},Ie={class:"articlecomment"},Ce=A(()=>s("img",{src:E,alt:"",class:"down-icon"},null,-1)),De={key:0,class:"tagbox"},Ue={id:"result",class:"tagresult"},Se=["onClick"],Te=A(()=>s("img",{src:E,alt:"",class:"down-icon"},null,-1)),Pe={key:1,class:"locatebox"},Ne=A(()=>s("div",{id:"map"},null,-1)),Be=[Ne],Fe={class:"buttonzone"},Me={__name:"write",setup(n){const a=R(),p=C(()=>a.state.User_ID),$=C(()=>a.state.Profile_Img),b=u(""),d=u([]),f=u(""),c=u(""),N=u(null),r=u([]),t=u([]),i=()=>{d.value.push(b.value),b.value=""};function S(x){const l=x.target.files;for(let _=0;_<l.length;_++){const w=l[_];if(r.value.push(w),w&&w.type.startsWith("image")){const B=new FileReader;B.onload=()=>{t.value.push(B.result)},B.readAsDataURL(w)}else alert("이미지 파일을 선택해주세요.")}}const O=()=>{const x=new FormData;x.append("Title",f.value),x.append("comment",c.value),x.append("tag",d.value),r.value.forEach(l=>{x.append("image",l)}),D.post("/Feeds/Post_Save",x,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(l=>{l.status==200&&(a.commit("Switch_isWrite"),location.reload()),console.log(l)}).catch(l=>{console.log("오류발생"),console.log(l)})},Q=x=>{d.value.splice(x,1)},W=u(!1),H=u(!1),X=()=>{W.value=!W.value},Y=()=>{H.value=!H.value},Z=[ls,cs];return(x,l)=>(e(),o("div",pe,[s("div",ve,[me,s("div",he,[s("div",ge,[t.value.length===0?(e(),o("label",fe," 👉 CLICK 👈 ")):h("",!0),s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},ref_key:"Input_Img",ref:N,multiple:"",onChange:S},null,544),t.value.length>0?(e(),o("div",$e,[v(K(ns),{spaceBetween:10,slidesPerView:1,pagination:!0,navigation:!0,modules:Z,class:"mySwiper"},{default:g(()=>[(e(!0),o(k,null,I(t.value,(_,w)=>(e(),M(K(as),{key:w},{default:g(()=>[s("img",{src:_,alt:"Image preview",style:{width:"500px",height:"580px"}},null,8,be)]),_:2},1024))),128))]),_:1})])):h("",!0)]),s("div",xe,[s("div",we,[s("span",null,[s("img",{src:$.value,alt:"",class:"ProfileImg"},null,8,ke)]),s("span",ye,y(p.value),1)]),s("div",null,[s("span",null,[T(s("input",{class:"Title",type:"text","onUpdate:modelValue":l[0]||(l[0]=_=>f.value=_),placeholder:"제목을 입력하세요."},null,512),[[F,f.value]])])]),s("div",Ie,[T(s("textarea",{class:"Content",type:"text",placeholder:"글내용을 입력하세요.","onUpdate:modelValue":l[1]||(l[1]=_=>c.value=_)},null,512),[[F,c.value]]),s("button",{class:"dropdown-button",onClick:X},[m(" add tag "),Ce]),W.value?(e(),o("div",De,[T(s("input",{class:"inputtag",type:"text","onUpdate:modelValue":l[2]||(l[2]=_=>b.value=_),onKeyup:z(i,["enter"]),placeholder:"이 곳에서 Tag를 추가해보세요."},null,544),[[F,b.value]]),s("div",Ue,[(e(!0),o(k,null,I(d.value,(_,w)=>(e(),o("span",{key:w,class:"tag"},[m(y(_)+" ",1),s("button",{class:"deleteTagButton",onClick:B=>Q(w)},"x",8,Se)]))),128))])])):h("",!0),s("button",{class:"dropdown-button",onClick:Y},[m(" add location "),Te]),H.value?(e(),o("div",Pe,Be)):h("",!0),s("div",Fe,[s("button",{class:"complete",onClick:l[3]||(l[3]=_=>O())},"완료")])])])])]),s("div",{class:"blur",onClick:l[4]||(l[4]=_=>K(a).commit("Switch_isWrite"))})]))}},Re=P(Me,[["__scopeId","data-v-558ffaf7"]]),Ve={class:"main-container"},Le={class:"section"},Ae={__name:"Home",setup(n){const a=R(),p=C(()=>a.state.isNoti),$=C(()=>a.state.isMsg),b=C(()=>a.state.isWrite);return os(),(d,f)=>{const c=j("router-view");return e(),o(k,null,[b.value?(e(),M(Re,{key:0})):h("",!0),p.value?(e(),M(_e,{key:1})):h("",!0),$.value?(e(),M(ae,{key:2})):h("",!0),v(ks),s("div",Ve,[s("div",Le,[s("div",null,[v(c)])])])],64)}}},Ee=P(Ae,[["__scopeId","data-v-57ebdcf0"]]);export{Ee as default};
