import{u as R,c as D,r,o as q,a as S,b as j,d as e,e as o,w as P,v as ss,f as s,g as m,h as g,i as v,j as h,F as y,p as V,k as L,l as C,t as I,m as F,n as z,q as es,s as ts,x as M,y as K,z as os}from"./index-CP0vrUw_.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                               *//* empty css                                                                */import{_ as E}from"./dropdown-DFkPxgV_.js";import{S as as,a as ns,P as ls,N as cs}from"./pagination-CP7eCGQQ.js";const is=n=>(V("data-v-f4a8d2b9"),n=n(),L(),n),ds={class:"subscription_ambassador"},rs=is(()=>s("p",null,"당신도 할 수 있다 앰버서더",-1)),us={class:"header_upper_menu"},_s={class:"header"},ps={class:"header_menu"},ms={class:"header_menu_list"},vs={class:"header_menu_list"},hs={class:"header_menu_list"},gs={class:"logo"},fs={class:"header_menu"},$s={class:"header_menu_list"},bs={key:0,class:"header_menu_list"},ws={class:"header_menu_list"},xs={__name:"header",setup(n){const a=R(),p=D(()=>a.state.User_ID),$=r(0),b=()=>{a.commit("Switch_isNoti")},w=()=>{console.log("로그아웃실행"),S.get("/users/logout",{withCredentials:!0}).then(d=>{a.dispatch("checkSession")}).catch(d=>{console.log(d)})};return q(()=>{S.get("/users/check_Rule",{withCredentials:!0}).then(d=>{console.log(d.data),$.value=d.data.Rule}).catch(d=>{console.log(d)})}),(d,f)=>{const _=j("router-link");return e(),o(y,null,[P(s("div",ds,[rs,m(_,{to:{name:"Subscription"}},{default:g(()=>[v(" 바로 신청하기")]),_:1})],512),[[ss,$.value===0]]),s("ul",us,[s("li",null,[m(_,{to:{name:"Ambassador"},class:"mypage"},{default:g(()=>[v(" 앰버서더 ")]),_:1})]),s("li",{onClick:b,class:"noti"},"알림"),s("li",null,[m(_,{to:{name:"myPage"},class:"mypage"},{default:g(()=>[v(" 마이페이지 ")]),_:1})]),s("li",{onClick:f[0]||(f[0]=i=>w()),class:"Logout"},"로그아웃")]),s("div",_s,[s("div",ps,[s("ul",null,[s("li",ms,[m(_,{to:{name:"followingtab"}},{default:g(()=>[v("팔로잉 ")]),_:1})]),s("li",vs,[m(_,{to:{name:"searcingtab"}},{default:g(()=>[v("탐색 ")]),_:1})]),s("li",hs,[m(_,{to:{name:"popularitytab"}},{default:g(()=>[v("인기 ")]),_:1})])])]),s("div",gs,[s("h1",null,[m(_,{to:{name:"HomeFeed"}},{default:g(()=>[v(" TripTracks ")]),_:1})])]),s("div",fs,[s("ul",null,[s("li",$s,[m(_,{to:{name:"DirectMessage"}},{default:g(()=>[v("DirectMessage ")]),_:1})]),p.value?(e(),o("li",bs,[m(_,{to:{name:"PersonalPage",params:{User_ID:p.value}}},{default:g(()=>[v("프로필 ")]),_:1},8,["to"])])):h("",!0),s("li",ws,[m(_,{to:{name:"planner"}},{default:g(()=>[v("Planner ")]),_:1})])])])])],64)}}},ks=N(xs,[["__scopeId","data-v-f4a8d2b9"]]),J="/assets/ProfileImage2-DAt-H7rB.png",ys="/assets/ProfileImage3-kxNyjHTU.png",U=n=>(V("data-v-ab10c39a"),n=n(),L(),n),Is={class:"messagecontainer"},Cs={class:"chatmenu"},Ds={class:"chatcontainer"},Ss={key:0},Us=["src"],Ts={class:"chatroom"},Ps={class:"userID"},Ns={class:"userID"},Bs=U(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),Fs={key:1,class:"chatroom"},Ms=es('<div class="roomname" data-v-ab10c39a><span data-v-ab10c39a><img src="'+J+'" alt="" class="profile" data-v-ab10c39a></span><div class="commentdetail" data-v-ab10c39a><div data-v-ab10c39a><span class="userID" data-v-ab10c39a>Juuho.0</span></div><div class="sub" data-v-ab10c39a><span class="uesrname" data-v-ab10c39a>오준호</span></div></div></div>',1),Rs={class:"conversation"},Vs=U(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),Ls=U(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),As={class:"commentdetail"},Ws={class:"me"},Hs={class:"mychat"},Ks={class:"textcontainer"},qs={key:2},js={key:3},zs=U(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),Es=["onClick"],Js=["src"],Gs={class:"userlistbox"},Os={class:"userID"},Qs={class:"sub"},Xs={class:"username"},Ys={key:4},Zs={class:"chatbox"},se=U(()=>s("span",null,[s("img",{src:ys,alt:"",class:"profile"})],-1)),ee=U(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),te=[se,ee],oe={__name:"message",setup(n){R();const a=r("messages");r("message");const p=r(""),$=r([]),b=r([]),w=r([]),d=r([]),f=()=>{$.value.push(p.value),ts.emit("sendComment",p.value),p.value=""};q(()=>{S.get("/dms/followList").then(i=>{if(console.log(i.data),!i.data.success)return console.log(`${i.data.msg}`);const{userInfoMap:t}=i.data;b.value=t.follower,w.value=t.following}).catch(i=>{console.log(i)}),S.get("/dms/dmRooms").then(i=>{console.log(i.data);const{Rooms:t}=i.data;d.value=t}).catch(i=>{console.log(i)})});const _=i=>{S.post("/dms/createDM",{targetID:i}).then(t=>{if(console.log(t.data),!t.data.success)return console.log(`${t.data.msg}`);d.value=t.data.Rooms}).catch(t=>{console.log(t)})};return(i,t)=>(e(),o("div",Is,[s("div",Cs,[s("span",{class:"messagebox",onClick:t[0]||(t[0]=c=>a.value="messages")},"메시지함"),s("span",{class:"follow",onClick:t[1]||(t[1]=c=>a.value="follow")},"팔로우"),s("span",{class:"following",onClick:t[2]||(t[2]=c=>a.value="following")},"팔로잉"),s("span",{class:"request",onClick:t[3]||(t[3]=c=>a.value="request")},"요청")]),s("div",Ds,[a.value==="messages"?(e(),o("div",Ss,[(e(!0),o(y,null,C(d.value,c=>(e(),o("div",{class:"chatbox",onClick:t[4]||(t[4]=T=>a.value="message")},[s("span",null,[s("img",{src:c.Target_User.Profile_Img,alt:"",class:"profile"},null,8,Us)]),s("div",Ts,[s("div",null,[s("span",Ps,I(c.Target_User.User_ID),1),s("span",Ns,I(c.Target_User.User_Name),1)]),Bs])]))),256))])):h("",!0),a.value==="message"?(e(),o("div",Fs,[Ms,s("div",Rs,[Vs,Ls,(e(!0),o(y,null,C($.value,(c,T)=>(e(),o("div",{key:T,class:"commentbox"},[s("div",As,[s("div",Ws,[s("span",Hs,I(c),1)])])]))),128))]),s("div",Ks,[P(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":t[5]||(t[5]=c=>p.value=c),onKeyup:z(f,["enter"])},null,544),[[F,p.value]]),s("button",{class:"send",onClick:f},"보내기")])])):h("",!0),a.value==="follow"?(e(),o("div",qs)):h("",!0),a.value==="following"?(e(),o("div",js,[zs,(e(!0),o(y,null,C(w.value,c=>(e(),o("div",{class:"chatbox",onClick:T=>_(c.User_ID)},[s("span",null,[s("img",{src:c.Profile_Img,alt:"",class:"profile"},null,8,Js)]),s("div",Gs,[s("div",null,[s("span",Os,I(c.User_ID),1)]),s("div",Qs,[s("span",Xs,I(c.User_Name),1)])])],8,Es))),256))])):h("",!0),a.value==="request"?(e(),o("div",Ys,[(e(!0),o(y,null,C(Array(6),c=>(e(),o("div",Zs,te))),256))])):h("",!0)])]))}},ae=N(oe,[["__scopeId","data-v-ab10c39a"]]),G=n=>(V("data-v-bd750d5a"),n=n(),L(),n),ne={class:"signcontainer"},le=G(()=>s("span",{class:"sign"},"새로운 알림",-1)),ce={class:"notification"},ie={class:"notibox"},de=G(()=>s("div",{class:"feedinfobox"},[s("span",null,[s("img",{src:J,alt:"",class:"profile"})]),s("div",{class:"commentdetail"},[s("div",null,[s("span",{class:"username"},"오준호님이 회원님을 팔로우하기 시작했습니다.")])])],-1)),re=[de],ue={__name:"notification",setup(n){return(a,p)=>(e(),o("div",ne,[le,s("div",ce,[(e(!0),o(y,null,C(Array(20),$=>(e(),o("div",ie,re))),256))])]))}},_e=N(ue,[["__scopeId","data-v-bd750d5a"]]),A=n=>(V("data-v-558ffaf7"),n=n(),L(),n),pe={class:"writepot"},me={class:"writecontainer"},ve=A(()=>s("span",{class:"newarticle"},"새 게시물 작성",-1)),he={class:"articlebox"},ge={class:"photobox"},fe={key:0,for:"chooseFile",class:"selectphoto"},$e={key:1,class:"photobox",pagination:"true",modules:"[Pagination]"},be=["src"],we={class:"commentbox"},xe={class:"userinfo"},ke=["src"],ye={class:"userid"},Ie={class:"articlecomment"},Ce=A(()=>s("img",{src:E,alt:"",class:"down-icon"},null,-1)),De={key:0,class:"tagbox"},Se={id:"result",class:"tagresult"},Ue=["onClick"],Te=A(()=>s("img",{src:E,alt:"",class:"down-icon"},null,-1)),Pe={key:1,class:"locatebox"},Ne=A(()=>s("div",{id:"map"},null,-1)),Be=[Ne],Fe={class:"buttonzone"},Me={__name:"write",setup(n){const a=R(),p=D(()=>a.state.User_ID),$=D(()=>a.state.Profile_Img),b=r(""),w=r([]),d=r(""),f=r(""),_=r(null),i=r([]),t=r([]),c=()=>{w.value.push(b.value),b.value=""};function T(x){const l=x.target.files;for(let u=0;u<l.length;u++){const k=l[u];if(i.value.push(k),k&&k.type.startsWith("image")){const B=new FileReader;B.onload=()=>{t.value.push(B.result)},B.readAsDataURL(k)}else alert("이미지 파일을 선택해주세요.")}}const O=()=>{const x=new FormData;x.append("Title",d.value),x.append("comment",f.value),x.append("tag",w.value),i.value.forEach(l=>{x.append("image",l)}),S.post("/Feeds/Post_Save",x,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(l=>{l.status==200&&(a.commit("Switch_isWrite"),location.reload()),console.log(l)}).catch(l=>{console.log("오류발생"),console.log(l)})},Q=x=>{w.value.splice(x,1)},W=r(!1),H=r(!1),X=()=>{W.value=!W.value},Y=()=>{H.value=!H.value},Z=[ls,cs];return(x,l)=>(e(),o("div",pe,[s("div",me,[ve,s("div",he,[s("div",ge,[t.value.length===0?(e(),o("label",fe," 👉 CLICK 👈 ")):h("",!0),s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},ref_key:"Input_Img",ref:_,multiple:"",onChange:T},null,544),t.value.length>0?(e(),o("div",$e,[m(K(ns),{spaceBetween:10,slidesPerView:1,pagination:!0,navigation:!0,modules:Z,class:"mySwiper"},{default:g(()=>[(e(!0),o(y,null,C(t.value,(u,k)=>(e(),M(K(as),{key:k},{default:g(()=>[s("img",{src:u,alt:"Image preview",style:{width:"500px",height:"580px"}},null,8,be)]),_:2},1024))),128))]),_:1})])):h("",!0)]),s("div",we,[s("div",xe,[s("span",null,[s("img",{src:$.value,alt:"",class:"ProfileImg"},null,8,ke)]),s("span",ye,I(p.value),1)]),s("div",null,[s("span",null,[P(s("input",{class:"Title",type:"text","onUpdate:modelValue":l[0]||(l[0]=u=>d.value=u),placeholder:"제목을 입력하세요."},null,512),[[F,d.value]])])]),s("div",Ie,[P(s("textarea",{class:"Content",type:"text",placeholder:"글내용을 입력하세요.","onUpdate:modelValue":l[1]||(l[1]=u=>f.value=u)},null,512),[[F,f.value]]),s("button",{class:"dropdown-button",onClick:X},[v(" add tag "),Ce]),W.value?(e(),o("div",De,[P(s("input",{class:"inputtag",type:"text","onUpdate:modelValue":l[2]||(l[2]=u=>b.value=u),onKeyup:z(c,["enter"]),placeholder:"이 곳에서 Tag를 추가해보세요."},null,544),[[F,b.value]]),s("div",Se,[(e(!0),o(y,null,C(w.value,(u,k)=>(e(),o("span",{key:k,class:"tag"},[v(I(u)+" ",1),s("button",{class:"deleteTagButton",onClick:B=>Q(k)},"x",8,Ue)]))),128))])])):h("",!0),s("button",{class:"dropdown-button",onClick:Y},[v(" add location "),Te]),H.value?(e(),o("div",Pe,Be)):h("",!0),s("div",Fe,[s("button",{class:"complete",onClick:l[3]||(l[3]=u=>O())},"완료")])])])])]),s("div",{class:"blur",onClick:l[4]||(l[4]=u=>K(a).commit("Switch_isWrite"))})]))}},Re=N(Me,[["__scopeId","data-v-558ffaf7"]]),Ve={class:"main-container"},Le={class:"section"},Ae={__name:"Home",setup(n){const a=R(),p=D(()=>a.state.isNoti),$=D(()=>a.state.isMsg),b=D(()=>a.state.isWrite);return os(),(w,d)=>{const f=j("router-view");return e(),o(y,null,[b.value?(e(),M(Re,{key:0})):h("",!0),p.value?(e(),M(_e,{key:1})):h("",!0),$.value?(e(),M(ae,{key:2})):h("",!0),m(ks),s("div",Ve,[s("div",Le,[s("div",null,[m(f)])])])],64)}}},Ee=N(Ae,[["__scopeId","data-v-57ebdcf0"]]);export{Ee as default};
