import{u as V,c as U,r as B,o as e,a,b as s,d as g,w as b,e as x,F as k,f as S,p as T,g as M,h as d,i as j,j as w,t as I,k as f,l as P,v as F,m as L,n as z,s as E,q as J,x as O,y as R}from"./index-Caqp0ysd.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                */import{P as X}from"./ProfileImage-B4Awu9kj.js";const G="/assets/messageIcon-MKfStX56.png",Q=o=>(T("data-v-b1ac7be6"),o=o(),M(),o),Y={class:"header_upper_menu"},Z={class:"header"},ss={class:"header_menu"},es={class:"header_menu_list"},ts={class:"header_menu_list"},os={class:"header_menu_list"},as={class:"logo"},ls={class:"header_menu"},ns={class:"header_menu_list"},cs={class:"header_menu_list"},is=Q(()=>s("li",{class:"header_menu_list"},"SHOP",-1)),ds={__name:"header",setup(o){const l=V(),p=U(()=>l.state.User_ID),v=()=>{l.commit("Switch_isNoti")},h=()=>{console.log("로그아웃실행"),S.get("/users/logout",{withCredentials:!0}).then(r=>{console.log("asdasdsadsadsadasd"),console.log(r.data),r.data.success&&l.dispatch("checkSession")}).catch(r=>{console.log(r)})};return(r,m)=>{const i=B("router-link");return e(),a(k,null,[s("ul",Y,[s("li",{onClick:v,class:"noti"},"알림"),s("li",null,[g(i,{to:{name:"myPage"},class:"mypage"},{default:b(()=>[x(" 마이페이지 ")]),_:1})]),s("li",{onClick:m[0]||(m[0]=y=>h()),class:"Logout"},"로그아웃")]),s("div",Z,[s("div",ss,[s("ul",null,[s("li",es,[g(i,{to:{name:"followingtab"}},{default:b(()=>[x("팔로잉 ")]),_:1})]),s("li",ts,[g(i,{to:{name:"searcingtab"}},{default:b(()=>[x("탐색 ")]),_:1})]),s("li",os,[g(i,{to:{name:"popularitytab"}},{default:b(()=>[x("인기 ")]),_:1})])])]),s("div",as,[s("h1",null,[g(i,{to:{name:"HomeFeed"}},{default:b(()=>[x(" TripTracks ")]),_:1})])]),s("div",ls,[s("ul",null,[s("li",ns,[g(i,{to:{name:"DirectMessage"}},{default:b(()=>[x("DirectMessage ")]),_:1})]),s("li",cs,[g(i,{to:{name:"PersonalPage",params:{User_ID:p.value}}},{default:b(()=>[x("프로필 ")]),_:1},8,["to"])]),is])])])],64)}}},rs=N(ds,[["__scopeId","data-v-b1ac7be6"]]),W="/assets/ProfileImage2-DAt-H7rB.png",_s="/assets/ProfileImage3-kxNyjHTU.png",C=o=>(T("data-v-ab10c39a"),o=o(),M(),o),us={class:"messagecontainer"},ps={class:"chatmenu"},vs={class:"chatcontainer"},ms={key:0},hs=["src"],gs={class:"chatroom"},fs={class:"userID"},$s={class:"userID"},bs=C(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),xs={key:1,class:"chatroom"},ks=z('<div class="roomname" data-v-ab10c39a><span data-v-ab10c39a><img src="'+W+'" alt="" class="profile" data-v-ab10c39a></span><div class="commentdetail" data-v-ab10c39a><div data-v-ab10c39a><span class="userID" data-v-ab10c39a>Juuho.0</span></div><div class="sub" data-v-ab10c39a><span class="uesrname" data-v-ab10c39a>오준호</span></div></div></div>',1),ys={class:"conversation"},Is=C(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),ws=C(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),Cs={class:"commentdetail"},Ds={class:"me"},Us={class:"mychat"},Ss={class:"textcontainer"},Ts={key:2},Ms={key:3},Ns=C(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),Ps=["onClick"],Fs=["src"],Vs={class:"userlistbox"},Rs={class:"userID"},Bs={class:"sub"},Hs={class:"username"},Ls={key:4},Ws={class:"chatbox"},As=C(()=>s("span",null,[s("img",{src:_s,alt:"",class:"profile"})],-1)),Ks=C(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),qs=[As,Ks],js={__name:"message",setup(o){V();const l=d("messages");d("message");const p=d(""),v=d([]),h=d([]),r=d([]),m=d([]),i=()=>{v.value.push(p.value),E.emit("sendComment",p.value),p.value=""};j(()=>{S.get("/dms/followList").then(c=>{if(console.log(c.data),!c.data.success)return console.log(`${c.data.msg}`);const{userInfoMap:t}=c.data;h.value=t.follower,r.value=t.following}).catch(c=>{console.log(c)}),S.get("/dms/dmRooms").then(c=>{console.log(c.data);const{Rooms:t}=c.data;m.value=t}).catch(c=>{console.log(c)})});const y=c=>{S.post("/dms/createDM",{targetID:c}).then(t=>{if(console.log(t.data),!t.data.success)return console.log(`${t.data.msg}`);m.value=t.data.Rooms}).catch(t=>{console.log(t)})};return(c,t)=>(e(),a("div",us,[s("div",ps,[s("span",{class:"messagebox",onClick:t[0]||(t[0]=n=>l.value="messages")},"메시지함"),s("span",{class:"follow",onClick:t[1]||(t[1]=n=>l.value="follow")},"팔로우"),s("span",{class:"following",onClick:t[2]||(t[2]=n=>l.value="following")},"팔로잉"),s("span",{class:"request",onClick:t[3]||(t[3]=n=>l.value="request")},"요청")]),s("div",vs,[l.value==="messages"?(e(),a("div",ms,[(e(!0),a(k,null,w(m.value,n=>(e(),a("div",{class:"chatbox",onClick:t[4]||(t[4]=D=>l.value="message")},[s("span",null,[s("img",{src:n.Target_User.Profile_Img,alt:"",class:"profile"},null,8,hs)]),s("div",gs,[s("div",null,[s("span",fs,I(n.Target_User.User_ID),1),s("span",$s,I(n.Target_User.User_Name),1)]),bs])]))),256))])):f("",!0),l.value==="message"?(e(),a("div",xs,[ks,s("div",ys,[Is,ws,(e(!0),a(k,null,w(v.value,(n,D)=>(e(),a("div",{key:D,class:"commentbox"},[s("div",Cs,[s("div",Ds,[s("span",Us,I(n),1)])])]))),128))]),s("div",Ss,[P(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":t[5]||(t[5]=n=>p.value=n),onKeyup:L(i,["enter"])},null,544),[[F,p.value]]),s("button",{class:"send",onClick:i},"보내기")])])):f("",!0),l.value==="follow"?(e(),a("div",Ts)):f("",!0),l.value==="following"?(e(),a("div",Ms,[Ns,(e(!0),a(k,null,w(r.value,n=>(e(),a("div",{class:"chatbox",onClick:D=>y(n.User_ID)},[s("span",null,[s("img",{src:n.Profile_Img,alt:"",class:"profile"},null,8,Fs)]),s("div",Vs,[s("div",null,[s("span",Rs,I(n.User_ID),1)]),s("div",Bs,[s("span",Hs,I(n.User_Name),1)])])],8,Ps))),256))])):f("",!0),l.value==="request"?(e(),a("div",Ls,[(e(!0),a(k,null,w(Array(6),n=>(e(),a("div",Ws,qs))),256))])):f("",!0)])]))}},zs=N(js,[["__scopeId","data-v-ab10c39a"]]),A=o=>(T("data-v-bd750d5a"),o=o(),M(),o),Es={class:"signcontainer"},Js=A(()=>s("span",{class:"sign"},"새로운 알림",-1)),Os={class:"notification"},Xs={class:"notibox"},Gs=A(()=>s("div",{class:"feedinfobox"},[s("span",null,[s("img",{src:W,alt:"",class:"profile"})]),s("div",{class:"commentdetail"},[s("div",null,[s("span",{class:"username"},"오준호님이 회원님을 팔로우하기 시작했습니다.")])])],-1)),Qs=[Gs],Ys={__name:"notification",setup(o){return(l,p)=>(e(),a("div",Es,[Js,s("div",Os,[(e(!0),a(k,null,w(Array(20),v=>(e(),a("div",Xs,Qs))),256))])]))}},Zs=N(Ys,[["__scopeId","data-v-bd750d5a"]]),K=o=>(T("data-v-bdfb834e"),o=o(),M(),o),se={class:"writepot"},ee={class:"writecontainer"},te=K(()=>s("span",{class:"newarticle"},"새 게시물 작성",-1)),oe={class:"articlebox"},ae={class:"photobox"},le={key:0,for:"chooseFile",class:"selectphoto"},ne={key:1,class:"photobox"},ce=["src"],ie={class:"commentbox"},de={class:"userinfo"},re=K(()=>s("span",null,[s("img",{src:X,alt:"",class:"profile"})],-1)),_e={class:"userid"},ue={class:"articlecomment"},pe={class:"tagbox"},ve={id:"result",class:"tagresult"},me=["onClick"],he={class:"buttonzone"},ge={__name:"write",setup(o){const l=V(),p=U(()=>l.state.User_ID),v=d(""),h=d([]);d(null);const r=d(""),m=d(""),i=d(""),y=d(null),c=d(null),t=()=>{h.value.push(v.value),v.value=""};function n($){const _=$.target.files[0];if(c.value=y.value.files[0],_&&_.type.startsWith("image")){const u=new FileReader;u.onload=()=>{r.value=u.result},u.readAsDataURL(_)}else alert("이미지 파일을 선택해주세요.")}const D=()=>{console.log(c.value),S.post("/Feeds/Post_Save",{Title:m.value,comment:i.value,tag:h.value,image:c.value},{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then($=>{$.status==200&&l.commit("Switch_isWrite"),console.log($)}).catch($=>{console.log("오류발생"),console.log($)})},q=$=>{h.value.splice($,1)};return($,_)=>(e(),a("div",se,[s("div",ee,[te,s("div",oe,[s("div",ae,[r.value?f("",!0):(e(),a("label",le," 👉 CLICK 👈 ")),s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},ref_key:"Input_Img",ref:y,onChange:n},null,544),r.value?(e(),a("div",ne,[s("img",{src:r.value,alt:"Image preview",style:{width:"500px",height:"580px"}},null,8,ce)])):f("",!0)]),s("div",ie,[s("div",de,[re,s("span",_e,I(p.value),1)]),s("div",null,[s("span",null,[P(s("input",{class:"Title",type:"text","onUpdate:modelValue":_[0]||(_[0]=u=>m.value=u),placeholder:"이 곳에 제목을 입력하세요."},null,512),[[F,m.value]])])]),s("div",ue,[P(s("textarea",{class:"Content",type:"text",placeholder:"글내용을 입력하세요.","onUpdate:modelValue":_[1]||(_[1]=u=>i.value=u)},null,512),[[F,i.value]]),s("span",pe,[P(s("input",{class:"inputtag",type:"text","onUpdate:modelValue":_[2]||(_[2]=u=>v.value=u),onKeyup:L(t,["enter"]),placeholder:"이 곳에 Tag를 추가하세요."},null,544),[[F,v.value]])]),s("div",ve,[(e(!0),a(k,null,w(h.value,(u,H)=>(e(),a("span",{key:H,class:"tag"},[x(I(u)+" ",1),s("button",{class:"deleteTagButton",onClick:Ie=>q(H)}," x ",8,me)]))),128))]),s("div",he,[s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},onChange:n},null,32),s("button",{class:"complete",onClick:_[3]||(_[3]=u=>D())},"완료")])])])])]),s("div",{class:"blur",onClick:_[4]||(_[4]=u=>J(l).commit("Switch_isWrite"))})]))}},fe=N(ge,[["__scopeId","data-v-bdfb834e"]]),$e=o=>(T("data-v-6e2b53f1"),o=o(),M(),o),be=$e(()=>s("img",{src:G,alt:"",class:"airplane"},null,-1)),xe={class:"main-container"},ke={class:"section"},ye={__name:"Home",setup(o){const l=V(),p=U(()=>l.state.isNoti),v=U(()=>l.state.isMsg),h=U(()=>l.state.isWrite);return O(),(r,m)=>{const i=B("router-link"),y=B("router-view");return e(),a(k,null,[h.value?(e(),R(fe,{key:0})):f("",!0),p.value?(e(),R(Zs,{key:1})):f("",!0),v.value?(e(),R(zs,{key:2})):f("",!0),g(rs),g(i,{to:"/DirectMessage",class:"write"},{default:b(()=>[be]),_:1}),s("div",xe,[s("div",ke,[s("div",null,[g(y)])])])],64)}}},Se=N(ye,[["__scopeId","data-v-6e2b53f1"]]);export{Se as default};
