import{u as R,c as S,r as i,o as K,a as C,b as W,d as e,e as t,w as T,v as O,f as s,g as m,h as $,i as h,j as g,F as y,p as M,k as N,l as I,t as w,m as P,n as q,q as Q,s as Y,x as Z,y as A,z as ss}from"./index-Vsuo-NJs.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                */import{_ as es}from"./ProfileImage-DDAmAK24.js";import{_ as j}from"./dropdown-DFkPxgV_.js";const ts="/assets/messageIcon-MKfStX56.png",os=a=>(M("data-v-2de0e3f2"),a=a(),N(),a),as={class:"subscription_ambassador"},ls=os(()=>s("p",null,"당신도 할 수 있다 앰버서더",-1)),ns={class:"header_upper_menu"},cs={class:"header"},is={class:"header_menu"},ds={class:"header_menu_list"},_s={class:"header_menu_list"},rs={class:"header_menu_list"},us={class:"logo"},vs={class:"header_menu"},ps={class:"header_menu_list"},ms={key:0,class:"header_menu_list"},hs={class:"header_menu_list"},gs={__name:"header",setup(a){const l=R(),u=S(()=>l.state.User_ID),v=i(0),b=()=>{l.commit("Switch_isNoti")},k=()=>{console.log("로그아웃실행"),C.get("/users/logout",{withCredentials:!0}).then(d=>{l.dispatch("checkSession")}).catch(d=>{console.log(d)})};return K(()=>{C.get("/users/check_Rule",{withCredentials:!0}).then(d=>{console.log(d.data),v.value=d.data.Rule}).catch(d=>{console.log(d)})}),(d,f)=>{const _=W("router-link");return e(),t(y,null,[T(s("div",as,[ls,m(_,{to:{name:"Subscription"}},{default:$(()=>[h(" 바로 신청하기")]),_:1})],512),[[O,v.value===0]]),s("ul",ns,[s("li",null,[m(_,{to:{name:"Ambassador"},class:"mypage"},{default:$(()=>[h(" 앰버서더 ")]),_:1})]),s("li",{onClick:b,class:"noti"},"알림"),s("li",null,[m(_,{to:{name:"myPage"},class:"mypage"},{default:$(()=>[h(" 마이페이지 ")]),_:1})]),s("li",{onClick:f[0]||(f[0]=c=>k()),class:"Logout"},"로그아웃")]),s("div",cs,[s("div",is,[s("ul",null,[s("li",ds,[m(_,{to:{name:"followingtab"}},{default:$(()=>[h("팔로잉 ")]),_:1})]),s("li",_s,[m(_,{to:{name:"searcingtab"}},{default:$(()=>[h("탐색 ")]),_:1})]),s("li",rs,[m(_,{to:{name:"popularitytab"}},{default:$(()=>[h("인기 ")]),_:1})])])]),s("div",us,[s("h1",null,[m(_,{to:{name:"HomeFeed"}},{default:$(()=>[h(" TripTracks ")]),_:1})])]),s("div",vs,[s("ul",null,[s("li",ps,[m(_,{to:{name:"DirectMessage"}},{default:$(()=>[h("DirectMessage ")]),_:1})]),u.value?(e(),t("li",ms,[m(_,{to:{name:"PersonalPage",params:{User_ID:u.value}}},{default:$(()=>[h("프로필 ")]),_:1},8,["to"])])):g("",!0),s("li",hs,[m(_,{to:{name:"planner"}},{default:$(()=>[h("Planner ")]),_:1})])])])])],64)}}},fs=F(gs,[["__scopeId","data-v-2de0e3f2"]]),z="/assets/ProfileImage2-DAt-H7rB.png",$s="/assets/ProfileImage3-kxNyjHTU.png",D=a=>(M("data-v-ab10c39a"),a=a(),N(),a),bs={class:"messagecontainer"},ks={class:"chatmenu"},xs={class:"chatcontainer"},ys={key:0},ws=["src"],Is={class:"chatroom"},Cs={class:"userID"},Ds={class:"userID"},Us=D(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),Ss={key:1,class:"chatroom"},Ts=Q('<div class="roomname" data-v-ab10c39a><span data-v-ab10c39a><img src="'+z+'" alt="" class="profile" data-v-ab10c39a></span><div class="commentdetail" data-v-ab10c39a><div data-v-ab10c39a><span class="userID" data-v-ab10c39a>Juuho.0</span></div><div class="sub" data-v-ab10c39a><span class="uesrname" data-v-ab10c39a>오준호</span></div></div></div>',1),Ms={class:"conversation"},Ns=D(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),Fs=D(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),Bs={class:"commentdetail"},Ps={class:"me"},Rs={class:"mychat"},Vs={class:"textcontainer"},Ls={key:2},As={key:3},Ws=D(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),Hs=["onClick"],Ks=["src"],qs={class:"userlistbox"},js={class:"userID"},zs={class:"sub"},Es={class:"username"},Js={key:4},Xs={class:"chatbox"},Gs=D(()=>s("span",null,[s("img",{src:$s,alt:"",class:"profile"})],-1)),Os=D(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),Qs=[Gs,Os],Ys={__name:"message",setup(a){R();const l=i("messages");i("message");const u=i(""),v=i([]),b=i([]),k=i([]),d=i([]),f=()=>{v.value.push(u.value),Y.emit("sendComment",u.value),u.value=""};K(()=>{C.get("/dms/followList").then(c=>{if(console.log(c.data),!c.data.success)return console.log(`${c.data.msg}`);const{userInfoMap:o}=c.data;b.value=o.follower,k.value=o.following}).catch(c=>{console.log(c)}),C.get("/dms/dmRooms").then(c=>{console.log(c.data);const{Rooms:o}=c.data;d.value=o}).catch(c=>{console.log(c)})});const _=c=>{C.post("/dms/createDM",{targetID:c}).then(o=>{if(console.log(o.data),!o.data.success)return console.log(`${o.data.msg}`);d.value=o.data.Rooms}).catch(o=>{console.log(o)})};return(c,o)=>(e(),t("div",bs,[s("div",ks,[s("span",{class:"messagebox",onClick:o[0]||(o[0]=n=>l.value="messages")},"메시지함"),s("span",{class:"follow",onClick:o[1]||(o[1]=n=>l.value="follow")},"팔로우"),s("span",{class:"following",onClick:o[2]||(o[2]=n=>l.value="following")},"팔로잉"),s("span",{class:"request",onClick:o[3]||(o[3]=n=>l.value="request")},"요청")]),s("div",xs,[l.value==="messages"?(e(),t("div",ys,[(e(!0),t(y,null,I(d.value,n=>(e(),t("div",{class:"chatbox",onClick:o[4]||(o[4]=U=>l.value="message")},[s("span",null,[s("img",{src:n.Target_User.Profile_Img,alt:"",class:"profile"},null,8,ws)]),s("div",Is,[s("div",null,[s("span",Cs,w(n.Target_User.User_ID),1),s("span",Ds,w(n.Target_User.User_Name),1)]),Us])]))),256))])):g("",!0),l.value==="message"?(e(),t("div",Ss,[Ts,s("div",Ms,[Ns,Fs,(e(!0),t(y,null,I(v.value,(n,U)=>(e(),t("div",{key:U,class:"commentbox"},[s("div",Bs,[s("div",Ps,[s("span",Rs,w(n),1)])])]))),128))]),s("div",Vs,[T(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":o[5]||(o[5]=n=>u.value=n),onKeyup:q(f,["enter"])},null,544),[[P,u.value]]),s("button",{class:"send",onClick:f},"보내기")])])):g("",!0),l.value==="follow"?(e(),t("div",Ls)):g("",!0),l.value==="following"?(e(),t("div",As,[Ws,(e(!0),t(y,null,I(k.value,n=>(e(),t("div",{class:"chatbox",onClick:U=>_(n.User_ID)},[s("span",null,[s("img",{src:n.Profile_Img,alt:"",class:"profile"},null,8,Ks)]),s("div",qs,[s("div",null,[s("span",js,w(n.User_ID),1)]),s("div",zs,[s("span",Es,w(n.User_Name),1)])])],8,Hs))),256))])):g("",!0),l.value==="request"?(e(),t("div",Js,[(e(!0),t(y,null,I(Array(6),n=>(e(),t("div",Xs,Qs))),256))])):g("",!0)])]))}},Zs=F(Ys,[["__scopeId","data-v-ab10c39a"]]),E=a=>(M("data-v-bd750d5a"),a=a(),N(),a),se={class:"signcontainer"},ee=E(()=>s("span",{class:"sign"},"새로운 알림",-1)),te={class:"notification"},oe={class:"notibox"},ae=E(()=>s("div",{class:"feedinfobox"},[s("span",null,[s("img",{src:z,alt:"",class:"profile"})]),s("div",{class:"commentdetail"},[s("div",null,[s("span",{class:"username"},"오준호님이 회원님을 팔로우하기 시작했습니다.")])])],-1)),le=[ae],ne={__name:"notification",setup(a){return(l,u)=>(e(),t("div",se,[ee,s("div",te,[(e(!0),t(y,null,I(Array(20),v=>(e(),t("div",oe,le))),256))])]))}},ce=F(ne,[["__scopeId","data-v-bd750d5a"]]),B=a=>(M("data-v-0c48a97d"),a=a(),N(),a),ie={class:"writepot"},de={class:"writecontainer"},_e=B(()=>s("span",{class:"newarticle"},"새 게시물 작성",-1)),re={class:"articlebox"},ue={class:"photobox"},ve={key:0,for:"chooseFile",class:"selectphoto"},pe={key:1,class:"photobox"},me=["src"],he={class:"commentbox"},ge={class:"userinfo"},fe=B(()=>s("span",null,[s("img",{src:es,alt:"",class:"profile"})],-1)),$e={class:"userid"},be={class:"articlecomment"},ke=B(()=>s("img",{src:j,alt:"",class:"down-icon"},null,-1)),xe={key:0,class:"tagbox"},ye={id:"result",class:"tagresult"},we=["onClick"],Ie=B(()=>s("img",{src:j,alt:"",class:"down-icon"},null,-1)),Ce={key:1,class:"locatebox"},De=B(()=>s("div",{id:"map"},null,-1)),Ue=[De],Se={class:"buttonzone"},Te={__name:"write",setup(a){const l=R(),u=S(()=>l.state.User_ID),v=i(""),b=i([]);i(null);const k=i(""),d=i(""),f=i(""),_=i(null),c=i(null),o=()=>{b.value.push(v.value),v.value=""};function n(x){const r=x.target.files[0];if(c.value=_.value.files[0],r&&r.type.startsWith("image")){const p=new FileReader;p.onload=()=>{k.value=p.result},p.readAsDataURL(r)}else alert("이미지 파일을 선택해주세요.")}const U=()=>{console.log(c.value),C.post("/Feeds/Post_Save",{Title:d.value,comment:f.value,tag:b.value,image:c.value},{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(x=>{x.status==200&&l.commit("Switch_isWrite"),console.log(x)}).catch(x=>{console.log("오류발생"),console.log(x)})},J=x=>{b.value.splice(x,1)},V=i(!1),L=i(!1),X=()=>{V.value=!V.value},G=()=>{L.value=!L.value};return(x,r)=>(e(),t("div",ie,[s("div",de,[_e,s("div",re,[s("div",ue,[k.value?g("",!0):(e(),t("label",ve," 👉 CLICK 👈 ")),s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},ref_key:"Input_Img",ref:_,onChange:n},null,544),k.value?(e(),t("div",pe,[s("div",null,[s("img",{src:k.value,alt:"Image preview",style:{width:"500px",height:"580px"}},null,8,me)])])):g("",!0)]),s("div",he,[s("div",ge,[fe,s("span",$e,w(u.value),1)]),s("div",null,[s("span",null,[T(s("input",{class:"Title",type:"text","onUpdate:modelValue":r[0]||(r[0]=p=>d.value=p),placeholder:"제목을 입력하세요."},null,512),[[P,d.value]])])]),s("div",be,[T(s("textarea",{class:"Content",type:"text",placeholder:"글내용을 입력하세요.","onUpdate:modelValue":r[1]||(r[1]=p=>f.value=p)},null,512),[[P,f.value]]),s("button",{class:"dropdown-button",onClick:X},[h(" add tag"),ke]),V.value?(e(),t("div",xe,[T(s("input",{class:"inputtag",type:"text","onUpdate:modelValue":r[2]||(r[2]=p=>v.value=p),onKeyup:q(o,["enter"]),placeholder:"이 곳에서 Tag를 추가해보세요."},null,544),[[P,v.value]]),s("div",ye,[(e(!0),t(y,null,I(b.value,(p,H)=>(e(),t("span",{key:H,class:"tag"},[h(w(p)+" ",1),s("button",{class:"deleteTagButton",onClick:Ve=>J(H)}," x ",8,we)]))),128))])])):g("",!0),s("button",{class:"dropdown-button",onClick:G},[h(" add location"),Ie]),L.value?(e(),t("div",Ce,Ue)):g("",!0),s("div",Se,[s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},onChange:n},null,32),s("button",{class:"complete",onClick:r[3]||(r[3]=p=>U())},"완료")])])])])]),s("div",{class:"blur",onClick:r[4]||(r[4]=p=>Z(l).commit("Switch_isWrite"))})]))}},Me=F(Te,[["__scopeId","data-v-0c48a97d"]]),Ne=a=>(M("data-v-1d7ba0e8"),a=a(),N(),a),Fe=Ne(()=>s("img",{src:ts,alt:"",class:"airplane"},null,-1)),Be={class:"main-container"},Pe={class:"section"},Re={__name:"Home",setup(a){const l=R(),u=S(()=>l.state.isNoti),v=S(()=>l.state.isMsg),b=S(()=>l.state.isWrite);return ss(),(k,d)=>{const f=W("router-link"),_=W("router-view");return e(),t(y,null,[b.value?(e(),A(Me,{key:0})):g("",!0),u.value?(e(),A(ce,{key:1})):g("",!0),v.value?(e(),A(Zs,{key:2})):g("",!0),m(fs),m(f,{to:"/DirectMessage",class:"write"},{default:$(()=>[Fe]),_:1}),s("div",Be,[s("div",Pe,[s("div",null,[m(_)])])])],64)}}},qe=F(Re,[["__scopeId","data-v-1d7ba0e8"]]);export{qe as default};
