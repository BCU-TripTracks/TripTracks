import{u as V,c as U,r as B,o as e,a,b as s,d as k,w as C,e as D,F as $,f as S,p as T,g as M,h as i,i as z,j as y,t as x,k as g,l as P,v as F,m as L,n as E,s as J,q as O,x as X,y as R}from"./index-BFauZIeX.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                */import{P as G}from"./ProfileImage-B4Awu9kj.js";const Q="/assets/messageIcon-MKfStX56.png",W=o=>(T("data-v-f51f0568"),o=o(),M(),o),Y={class:"header_upper_menu"},Z={class:"header"},ss=W(()=>s("div",{class:"header_menu"},[s("ul",null,[s("li",{class:"header_menu_list"},"팔로잉"),s("li",{class:"header_menu_list"},"탐색"),s("li",{class:"header_menu_list"},"인기")])],-1)),es={class:"logo"},ts={class:"header_menu"},os={class:"header_menu_list"},as={class:"header_menu_list"},ls=W(()=>s("li",{class:"header_menu_list"},"SHOP",-1)),ns={__name:"header",setup(o){const l=V(),p=U(()=>l.state.User_ID),v=()=>{l.commit("Switch_isNoti")},h=()=>{console.log("로그아웃실행"),S.get("/users/logout",{withCredentials:!0}).then(d=>{console.log("asdasdsadsadsadasd"),console.log(d.data),d.data.success&&l.dispatch("checkSession")}).catch(d=>{console.log(d)})};return(d,m)=>{const _=B("router-link");return e(),a($,null,[s("ul",Y,[s("li",{onClick:v,class:"noti"},"알림"),s("li",null,[k(_,{to:{name:"myPage"},class:"mypage"},{default:C(()=>[D(" 마이페이지 ")]),_:1})]),s("li",{onClick:m[0]||(m[0]=b=>h()),class:"Logout"},"로그아웃")]),s("div",Z,[ss,s("div",es,[s("h1",null,[k(_,{to:{name:"HomeFeed"}},{default:C(()=>[D(" TripTracks ")]),_:1})])]),s("div",ts,[s("ul",null,[s("li",os,[k(_,{to:{name:"DirectMessage"}},{default:C(()=>[D("DirectMessage ")]),_:1})]),s("li",as,[k(_,{to:{name:"PersonalPage",params:{User_ID:p.value}}},{default:C(()=>[D("프로필 ")]),_:1},8,["to"])]),ls])])])],64)}}},cs=N(ns,[["__scopeId","data-v-f51f0568"]]),A="/assets/ProfileImage2-DAt-H7rB.png",is="/assets/ProfileImage3-kxNyjHTU.png",I=o=>(T("data-v-ab10c39a"),o=o(),M(),o),ds={class:"messagecontainer"},rs={class:"chatmenu"},_s={class:"chatcontainer"},us={key:0},ps=["src"],vs={class:"chatroom"},ms={class:"userID"},hs={class:"userID"},gs=I(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),fs={key:1,class:"chatroom"},$s=E('<div class="roomname" data-v-ab10c39a><span data-v-ab10c39a><img src="'+A+'" alt="" class="profile" data-v-ab10c39a></span><div class="commentdetail" data-v-ab10c39a><div data-v-ab10c39a><span class="userID" data-v-ab10c39a>Juuho.0</span></div><div class="sub" data-v-ab10c39a><span class="uesrname" data-v-ab10c39a>오준호</span></div></div></div>',1),bs={class:"conversation"},xs=I(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),ks=I(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),ys={class:"commentdetail"},Is={class:"me"},ws={class:"mychat"},Cs={class:"textcontainer"},Ds={key:2},Us={key:3},Ss=I(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),Ts=["onClick"],Ms=["src"],Ns={class:"userlistbox"},Ps={class:"userID"},Fs={class:"sub"},Vs={class:"username"},Rs={key:4},Bs={class:"chatbox"},Hs=I(()=>s("span",null,[s("img",{src:is,alt:"",class:"profile"})],-1)),Ls=I(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),Ws=[Hs,Ls],As={__name:"message",setup(o){V();const l=i("messages");i("message");const p=i(""),v=i([]),h=i([]),d=i([]),m=i([]),_=()=>{v.value.push(p.value),J.emit("sendComment",p.value),p.value=""};z(()=>{S.get("/dms/followList").then(c=>{if(console.log(c.data),!c.data.success)return console.log(`${c.data.msg}`);const{userInfoMap:t}=c.data;h.value=t.follower,d.value=t.following}).catch(c=>{console.log(c)}),S.get("/dms/dmRooms").then(c=>{console.log(c.data);const{Rooms:t}=c.data;m.value=t}).catch(c=>{console.log(c)})});const b=c=>{S.post("/dms/createDM",{targetID:c}).then(t=>{if(console.log(t.data),!t.data.success)return console.log(`${t.data.msg}`);m.value=t.data.Rooms}).catch(t=>{console.log(t)})};return(c,t)=>(e(),a("div",ds,[s("div",rs,[s("span",{class:"messagebox",onClick:t[0]||(t[0]=n=>l.value="messages")},"메시지함"),s("span",{class:"follow",onClick:t[1]||(t[1]=n=>l.value="follow")},"팔로우"),s("span",{class:"following",onClick:t[2]||(t[2]=n=>l.value="following")},"팔로잉"),s("span",{class:"request",onClick:t[3]||(t[3]=n=>l.value="request")},"요청")]),s("div",_s,[l.value==="messages"?(e(),a("div",us,[(e(!0),a($,null,y(m.value,n=>(e(),a("div",{class:"chatbox",onClick:t[4]||(t[4]=w=>l.value="message")},[s("span",null,[s("img",{src:n.Target_User.Profile_Img,alt:"",class:"profile"},null,8,ps)]),s("div",vs,[s("div",null,[s("span",ms,x(n.Target_User.User_ID),1),s("span",hs,x(n.Target_User.User_Name),1)]),gs])]))),256))])):g("",!0),l.value==="message"?(e(),a("div",fs,[$s,s("div",bs,[xs,ks,(e(!0),a($,null,y(v.value,(n,w)=>(e(),a("div",{key:w,class:"commentbox"},[s("div",ys,[s("div",Is,[s("span",ws,x(n),1)])])]))),128))]),s("div",Cs,[P(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":t[5]||(t[5]=n=>p.value=n),onKeyup:L(_,["enter"])},null,544),[[F,p.value]]),s("button",{class:"send",onClick:_},"보내기")])])):g("",!0),l.value==="follow"?(e(),a("div",Ds)):g("",!0),l.value==="following"?(e(),a("div",Us,[Ss,(e(!0),a($,null,y(d.value,n=>(e(),a("div",{class:"chatbox",onClick:w=>b(n.User_ID)},[s("span",null,[s("img",{src:n.Profile_Img,alt:"",class:"profile"},null,8,Ms)]),s("div",Ns,[s("div",null,[s("span",Ps,x(n.User_ID),1)]),s("div",Fs,[s("span",Vs,x(n.User_Name),1)])])],8,Ts))),256))])):g("",!0),l.value==="request"?(e(),a("div",Rs,[(e(!0),a($,null,y(Array(6),n=>(e(),a("div",Bs,Ws))),256))])):g("",!0)])]))}},Ks=N(As,[["__scopeId","data-v-ab10c39a"]]),K=o=>(T("data-v-bd750d5a"),o=o(),M(),o),qs={class:"signcontainer"},js=K(()=>s("span",{class:"sign"},"새로운 알림",-1)),zs={class:"notification"},Es={class:"notibox"},Js=K(()=>s("div",{class:"feedinfobox"},[s("span",null,[s("img",{src:A,alt:"",class:"profile"})]),s("div",{class:"commentdetail"},[s("div",null,[s("span",{class:"username"},"오준호님이 회원님을 팔로우하기 시작했습니다.")])])],-1)),Os=[Js],Xs={__name:"notification",setup(o){return(l,p)=>(e(),a("div",qs,[js,s("div",zs,[(e(!0),a($,null,y(Array(20),v=>(e(),a("div",Es,Os))),256))])]))}},Gs=N(Xs,[["__scopeId","data-v-bd750d5a"]]),q=o=>(T("data-v-bdfb834e"),o=o(),M(),o),Qs={class:"writepot"},Ys={class:"writecontainer"},Zs=q(()=>s("span",{class:"newarticle"},"새 게시물 작성",-1)),se={class:"articlebox"},ee={class:"photobox"},te={key:0,for:"chooseFile",class:"selectphoto"},oe={key:1,class:"photobox"},ae=["src"],le={class:"commentbox"},ne={class:"userinfo"},ce=q(()=>s("span",null,[s("img",{src:G,alt:"",class:"profile"})],-1)),ie={class:"userid"},de={class:"articlecomment"},re={class:"tagbox"},_e={id:"result",class:"tagresult"},ue=["onClick"],pe={class:"buttonzone"},ve={__name:"write",setup(o){const l=V(),p=U(()=>l.state.User_ID),v=i(""),h=i([]);i(null);const d=i(""),m=i(""),_=i(""),b=i(null),c=i(null),t=()=>{h.value.push(v.value),v.value=""};function n(f){const r=f.target.files[0];if(c.value=b.value.files[0],r&&r.type.startsWith("image")){const u=new FileReader;u.onload=()=>{d.value=u.result},u.readAsDataURL(r)}else alert("이미지 파일을 선택해주세요.")}const w=()=>{console.log(c.value),S.post("/Feeds/Post_Save",{Title:m.value,comment:_.value,tag:h.value,image:c.value},{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(f=>{f.status==200&&l.commit("Switch_isWrite"),console.log(f)}).catch(f=>{console.log("오류발생"),console.log(f)})},j=f=>{h.value.splice(f,1)};return(f,r)=>(e(),a("div",Qs,[s("div",Ys,[Zs,s("div",se,[s("div",ee,[d.value?g("",!0):(e(),a("label",te," 👉 CLICK 👈 ")),s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},ref_key:"Input_Img",ref:b,onChange:n},null,544),d.value?(e(),a("div",oe,[s("img",{src:d.value,alt:"Image preview",style:{width:"500px",height:"580px"}},null,8,ae)])):g("",!0)]),s("div",le,[s("div",ne,[ce,s("span",ie,x(p.value),1)]),s("div",null,[s("span",null,[P(s("input",{class:"Title",type:"text","onUpdate:modelValue":r[0]||(r[0]=u=>m.value=u),placeholder:"이 곳에 제목을 입력하세요."},null,512),[[F,m.value]])])]),s("div",de,[P(s("textarea",{class:"Content",type:"text",placeholder:"글내용을 입력하세요.","onUpdate:modelValue":r[1]||(r[1]=u=>_.value=u)},null,512),[[F,_.value]]),s("span",re,[P(s("input",{class:"inputtag",type:"text","onUpdate:modelValue":r[2]||(r[2]=u=>v.value=u),onKeyup:L(t,["enter"]),placeholder:"이 곳에 Tag를 추가하세요."},null,544),[[F,v.value]])]),s("div",_e,[(e(!0),a($,null,y(h.value,(u,H)=>(e(),a("span",{key:H,class:"tag"},[D(x(u)+" ",1),s("button",{class:"deleteTagButton",onClick:xe=>j(H)}," x ",8,ue)]))),128))]),s("div",pe,[s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},onChange:n},null,32),s("button",{class:"complete",onClick:r[3]||(r[3]=u=>w())},"완료")])])])])]),s("div",{class:"blur",onClick:r[4]||(r[4]=u=>O(l).commit("Switch_isWrite"))})]))}},me=N(ve,[["__scopeId","data-v-bdfb834e"]]),he=o=>(T("data-v-6e2b53f1"),o=o(),M(),o),ge=he(()=>s("img",{src:Q,alt:"",class:"airplane"},null,-1)),fe={class:"main-container"},$e={class:"section"},be={__name:"Home",setup(o){const l=V(),p=U(()=>l.state.isNoti),v=U(()=>l.state.isMsg),h=U(()=>l.state.isWrite);return X(),(d,m)=>{const _=B("router-link"),b=B("router-view");return e(),a($,null,[h.value?(e(),R(me,{key:0})):g("",!0),p.value?(e(),R(Gs,{key:1})):g("",!0),v.value?(e(),R(Ks,{key:2})):g("",!0),k(cs),k(_,{to:"/DirectMessage",class:"write"},{default:C(()=>[ge]),_:1}),s("div",fe,[s("div",$e,[s("div",null,[k(b)])])])],64)}}},Ce=N(be,[["__scopeId","data-v-6e2b53f1"]]);export{Ce as default};
