import{u as V,c as T,r,o as q,a as D,b as j,d as e,e as t,w as N,v as Z,f as s,g as v,h as f,i as h,j as g,F as y,p as L,k as A,l as C,t as I,m as M,n as z,q as ss,s as es,x as R,y as K,z as ts}from"./index-BwUDjIj7.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                               *//* empty css                                                                */import{_ as os}from"./ProfileImage-DDAmAK24.js";import{_ as E}from"./dropdown-DFkPxgV_.js";import{S as as,a as ns,P as ls,N as cs}from"./pagination-BqqyFQLH.js";const is=n=>(L("data-v-f4a8d2b9"),n=n(),A(),n),ds={class:"subscription_ambassador"},rs=is(()=>s("p",null,"당신도 할 수 있다 앰버서더",-1)),us={class:"header_upper_menu"},_s={class:"header"},ps={class:"header_menu"},ms={class:"header_menu_list"},vs={class:"header_menu_list"},hs={class:"header_menu_list"},gs={class:"logo"},fs={class:"header_menu"},$s={class:"header_menu_list"},bs={key:0,class:"header_menu_list"},ws={class:"header_menu_list"},xs={__name:"header",setup(n){const a=V(),p=T(()=>a.state.User_ID),m=r(0),$=()=>{a.commit("Switch_isNoti")},w=()=>{console.log("로그아웃실행"),D.get("/users/logout",{withCredentials:!0}).then(d=>{a.dispatch("checkSession")}).catch(d=>{console.log(d)})};return q(()=>{D.get("/users/check_Rule",{withCredentials:!0}).then(d=>{console.log(d.data),m.value=d.data.Rule}).catch(d=>{console.log(d)})}),(d,x)=>{const u=j("router-link");return e(),t(y,null,[N(s("div",ds,[rs,v(u,{to:{name:"Subscription"}},{default:f(()=>[h(" 바로 신청하기")]),_:1})],512),[[Z,m.value===0]]),s("ul",us,[s("li",null,[v(u,{to:{name:"Ambassador"},class:"mypage"},{default:f(()=>[h(" 앰버서더 ")]),_:1})]),s("li",{onClick:$,class:"noti"},"알림"),s("li",null,[v(u,{to:{name:"myPage"},class:"mypage"},{default:f(()=>[h(" 마이페이지 ")]),_:1})]),s("li",{onClick:x[0]||(x[0]=l=>w()),class:"Logout"},"로그아웃")]),s("div",_s,[s("div",ps,[s("ul",null,[s("li",ms,[v(u,{to:{name:"followingtab"}},{default:f(()=>[h("팔로잉 ")]),_:1})]),s("li",vs,[v(u,{to:{name:"searcingtab"}},{default:f(()=>[h("탐색 ")]),_:1})]),s("li",hs,[v(u,{to:{name:"popularitytab"}},{default:f(()=>[h("인기 ")]),_:1})])])]),s("div",gs,[s("h1",null,[v(u,{to:{name:"HomeFeed"}},{default:f(()=>[h(" TripTracks ")]),_:1})])]),s("div",fs,[s("ul",null,[s("li",$s,[v(u,{to:{name:"DirectMessage"}},{default:f(()=>[h("DirectMessage ")]),_:1})]),p.value?(e(),t("li",bs,[v(u,{to:{name:"PersonalPage",params:{User_ID:p.value}}},{default:f(()=>[h("프로필 ")]),_:1},8,["to"])])):g("",!0),s("li",ws,[v(u,{to:{name:"planner"}},{default:f(()=>[h("Planner ")]),_:1})])])])])],64)}}},ks=P(xs,[["__scopeId","data-v-f4a8d2b9"]]),J="/assets/ProfileImage2-DAt-H7rB.png",ys="/assets/ProfileImage3-kxNyjHTU.png",S=n=>(L("data-v-ab10c39a"),n=n(),A(),n),Is={class:"messagecontainer"},Cs={class:"chatmenu"},Ds={class:"chatcontainer"},Ss={key:0},Us=["src"],Ts={class:"chatroom"},Ns={class:"userID"},Ps={class:"userID"},Bs=S(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),Fs={key:1,class:"chatroom"},Ms=ss('<div class="roomname" data-v-ab10c39a><span data-v-ab10c39a><img src="'+J+'" alt="" class="profile" data-v-ab10c39a></span><div class="commentdetail" data-v-ab10c39a><div data-v-ab10c39a><span class="userID" data-v-ab10c39a>Juuho.0</span></div><div class="sub" data-v-ab10c39a><span class="uesrname" data-v-ab10c39a>오준호</span></div></div></div>',1),Rs={class:"conversation"},Vs=S(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),Ls=S(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),As={class:"commentdetail"},Ws={class:"me"},Hs={class:"mychat"},Ks={class:"textcontainer"},qs={key:2},js={key:3},zs=S(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),Es=["onClick"],Js=["src"],Gs={class:"userlistbox"},Os={class:"userID"},Qs={class:"sub"},Xs={class:"username"},Ys={key:4},Zs={class:"chatbox"},se=S(()=>s("span",null,[s("img",{src:ys,alt:"",class:"profile"})],-1)),ee=S(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),te=[se,ee],oe={__name:"message",setup(n){V();const a=r("messages");r("message");const p=r(""),m=r([]),$=r([]),w=r([]),d=r([]),x=()=>{m.value.push(p.value),es.emit("sendComment",p.value),p.value=""};q(()=>{D.get("/dms/followList").then(l=>{if(console.log(l.data),!l.data.success)return console.log(`${l.data.msg}`);const{userInfoMap:o}=l.data;$.value=o.follower,w.value=o.following}).catch(l=>{console.log(l)}),D.get("/dms/dmRooms").then(l=>{console.log(l.data);const{Rooms:o}=l.data;d.value=o}).catch(l=>{console.log(l)})});const u=l=>{D.post("/dms/createDM",{targetID:l}).then(o=>{if(console.log(o.data),!o.data.success)return console.log(`${o.data.msg}`);d.value=o.data.Rooms}).catch(o=>{console.log(o)})};return(l,o)=>(e(),t("div",Is,[s("div",Cs,[s("span",{class:"messagebox",onClick:o[0]||(o[0]=i=>a.value="messages")},"메시지함"),s("span",{class:"follow",onClick:o[1]||(o[1]=i=>a.value="follow")},"팔로우"),s("span",{class:"following",onClick:o[2]||(o[2]=i=>a.value="following")},"팔로잉"),s("span",{class:"request",onClick:o[3]||(o[3]=i=>a.value="request")},"요청")]),s("div",Ds,[a.value==="messages"?(e(),t("div",Ss,[(e(!0),t(y,null,C(d.value,i=>(e(),t("div",{class:"chatbox",onClick:o[4]||(o[4]=U=>a.value="message")},[s("span",null,[s("img",{src:i.Target_User.Profile_Img,alt:"",class:"profile"},null,8,Us)]),s("div",Ts,[s("div",null,[s("span",Ns,I(i.Target_User.User_ID),1),s("span",Ps,I(i.Target_User.User_Name),1)]),Bs])]))),256))])):g("",!0),a.value==="message"?(e(),t("div",Fs,[Ms,s("div",Rs,[Vs,Ls,(e(!0),t(y,null,C(m.value,(i,U)=>(e(),t("div",{key:U,class:"commentbox"},[s("div",As,[s("div",Ws,[s("span",Hs,I(i),1)])])]))),128))]),s("div",Ks,[N(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":o[5]||(o[5]=i=>p.value=i),onKeyup:z(x,["enter"])},null,544),[[M,p.value]]),s("button",{class:"send",onClick:x},"보내기")])])):g("",!0),a.value==="follow"?(e(),t("div",qs)):g("",!0),a.value==="following"?(e(),t("div",js,[zs,(e(!0),t(y,null,C(w.value,i=>(e(),t("div",{class:"chatbox",onClick:U=>u(i.User_ID)},[s("span",null,[s("img",{src:i.Profile_Img,alt:"",class:"profile"},null,8,Js)]),s("div",Gs,[s("div",null,[s("span",Os,I(i.User_ID),1)]),s("div",Qs,[s("span",Xs,I(i.User_Name),1)])])],8,Es))),256))])):g("",!0),a.value==="request"?(e(),t("div",Ys,[(e(!0),t(y,null,C(Array(6),i=>(e(),t("div",Zs,te))),256))])):g("",!0)])]))}},ae=P(oe,[["__scopeId","data-v-ab10c39a"]]),G=n=>(L("data-v-bd750d5a"),n=n(),A(),n),ne={class:"signcontainer"},le=G(()=>s("span",{class:"sign"},"새로운 알림",-1)),ce={class:"notification"},ie={class:"notibox"},de=G(()=>s("div",{class:"feedinfobox"},[s("span",null,[s("img",{src:J,alt:"",class:"profile"})]),s("div",{class:"commentdetail"},[s("div",null,[s("span",{class:"username"},"오준호님이 회원님을 팔로우하기 시작했습니다.")])])],-1)),re=[de],ue={__name:"notification",setup(n){return(a,p)=>(e(),t("div",ne,[le,s("div",ce,[(e(!0),t(y,null,C(Array(20),m=>(e(),t("div",ie,re))),256))])]))}},_e=P(ue,[["__scopeId","data-v-bd750d5a"]]),B=n=>(L("data-v-40a06e7f"),n=n(),A(),n),pe={class:"writepot"},me={class:"writecontainer"},ve=B(()=>s("span",{class:"newarticle"},"새 게시물 작성",-1)),he={class:"articlebox"},ge={class:"photobox"},fe={key:0,for:"chooseFile",class:"selectphoto"},$e={key:1,class:"photobox",pagination:"true",modules:"[Pagination]"},be=["src"],we={class:"commentbox"},xe={class:"userinfo"},ke=B(()=>s("span",null,[s("img",{src:os,alt:"",class:"profile"})],-1)),ye={class:"userid"},Ie={class:"articlecomment"},Ce=B(()=>s("img",{src:E,alt:"",class:"down-icon"},null,-1)),De={key:0,class:"tagbox"},Se={id:"result",class:"tagresult"},Ue=["onClick"],Te=B(()=>s("img",{src:E,alt:"",class:"down-icon"},null,-1)),Ne={key:1,class:"locatebox"},Pe=B(()=>s("div",{id:"map"},null,-1)),Be=[Pe],Fe={class:"buttonzone"},Me={__name:"write",setup(n){const a=V(),p=T(()=>a.state.User_ID),m=r(""),$=r([]),w=r(""),d=r(""),x=r(null),u=r([]),l=r([]),o=()=>{$.value.push(m.value),m.value=""};function i(b){const c=b.target.files;for(let _=0;_<c.length;_++){const k=c[_];if(u.value.push(k),k&&k.type.startsWith("image")){const F=new FileReader;F.onload=()=>{l.value.push(F.result)},F.readAsDataURL(k)}else alert("이미지 파일을 선택해주세요.")}}const U=()=>{const b=new FormData;b.append("Title",w.value),b.append("comment",d.value),b.append("tag",$.value),u.value.forEach(c=>{b.append("image",c)}),D.post("/Feeds/Post_Save",b,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(c=>{c.status==200&&a.commit("Switch_isWrite"),console.log(c)}).catch(c=>{console.log("오류발생"),console.log(c)})},O=b=>{$.value.splice(b,1)},W=r(!1),H=r(!1),Q=()=>{W.value=!W.value},X=()=>{H.value=!H.value},Y=[ls,cs];return(b,c)=>(e(),t("div",pe,[s("div",me,[ve,s("div",he,[s("div",ge,[l.value.length===0?(e(),t("label",fe," 👉 CLICK 👈 ")):g("",!0),s("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},ref_key:"Input_Img",ref:x,multiple:"",onChange:i},null,544),l.value.length>0?(e(),t("div",$e,[v(K(ns),{spaceBetween:10,slidesPerView:1,pagination:!0,navigation:!0,modules:Y,class:"mySwiper"},{default:f(()=>[(e(!0),t(y,null,C(l.value,(_,k)=>(e(),R(K(as),{key:k},{default:f(()=>[s("img",{src:_,alt:"Image preview",style:{width:"500px",height:"580px"}},null,8,be)]),_:2},1024))),128))]),_:1})])):g("",!0)]),s("div",we,[s("div",xe,[ke,s("span",ye,I(p.value),1)]),s("div",null,[s("span",null,[N(s("input",{class:"Title",type:"text","onUpdate:modelValue":c[0]||(c[0]=_=>w.value=_),placeholder:"제목을 입력하세요."},null,512),[[M,w.value]])])]),s("div",Ie,[N(s("textarea",{class:"Content",type:"text",placeholder:"글내용을 입력하세요.","onUpdate:modelValue":c[1]||(c[1]=_=>d.value=_)},null,512),[[M,d.value]]),s("button",{class:"dropdown-button",onClick:Q},[h(" add tag "),Ce]),W.value?(e(),t("div",De,[N(s("input",{class:"inputtag",type:"text","onUpdate:modelValue":c[2]||(c[2]=_=>m.value=_),onKeyup:z(o,["enter"]),placeholder:"이 곳에서 Tag를 추가해보세요."},null,544),[[M,m.value]]),s("div",Se,[(e(!0),t(y,null,C($.value,(_,k)=>(e(),t("span",{key:k,class:"tag"},[h(I(_)+" ",1),s("button",{class:"deleteTagButton",onClick:F=>O(k)}," x ",8,Ue)]))),128))])])):g("",!0),s("button",{class:"dropdown-button",onClick:X},[h(" add location "),Te]),H.value?(e(),t("div",Ne,Be)):g("",!0),s("div",Fe,[s("button",{class:"complete",onClick:c[3]||(c[3]=_=>U())},"완료")])])])])]),s("div",{class:"blur",onClick:c[4]||(c[4]=_=>K(a).commit("Switch_isWrite"))})]))}},Re=P(Me,[["__scopeId","data-v-40a06e7f"]]),Ve={class:"main-container"},Le={class:"section"},Ae={__name:"Home",setup(n){const a=V(),p=T(()=>a.state.isNoti),m=T(()=>a.state.isMsg),$=T(()=>a.state.isWrite);return ts(),(w,d)=>{const x=j("router-view");return e(),t(y,null,[$.value?(e(),R(Re,{key:0})):g("",!0),p.value?(e(),R(_e,{key:1})):g("",!0),m.value?(e(),R(ae,{key:2})):g("",!0),v(ks),s("div",Ve,[s("div",Le,[s("div",null,[v(x)])])])],64)}}},Je=P(Ae,[["__scopeId","data-v-57ebdcf0"]]);export{Je as default};
