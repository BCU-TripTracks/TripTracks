import{c as E,r as a,A as C,e as u,f as l,i as D,t as i,j as p,B as L,w as V,m as A,F as w,l as P,a as _,d as n,x as M,h as x,g as z,p as T,k as $,C as j,z as q,u as G,b as H}from"./index-D1XIqiWT.js";/* empty css                                                                */import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U=d=>(T("data-v-8e3a33fc"),d=d(),$(),d),K={class:"Profile_Container"},O={class:"Profile_Photo"},Q=["src"],W={class:"ID"},X={key:0,class:"userID_Info"},Y=U(()=>l("span",null,"게시물 9 ",-1)),Z=U(()=>l("span",null,null,-1)),ee={key:0,class:"userList"},le={class:"Feed_Container"},oe=U(()=>l("div",{class:"Feed_discription"},[l("ul",null,[l("li",null,"게시물 9"),l("li",null,"태그장소 17")])],-1)),se={class:"Feed"},te={class:"Article"},ae=["src"],ne={__name:"PersonalPage",setup(d){const v=j(),b=q(),R=G(),f=E(()=>R.state.User_ID),r=a(!0),s=a({}),k=a([]),S=a([]),F=a(0),y=a(0),m=a([]),h=e=>{_.get(`/profile/search/${e}`).then(o=>{console.log(o.data);const c=o.data;s.value=c.userInfoResult,k.value=c.follower,S.value=c.following,F.value=c.follower_Len,y.value=c.following_Len,r.value=k.value.includes(f.value)}).catch(o=>{console.log(o)}),_.post("/profile/posts_list",{User_ID:e}).then(o=>{m.value=o.data,console.log(m.value)})};C(()=>v.params.User_ID,e=>{e&&h(e)},{immediate:!0});const N=async()=>{await _.post("/Direct/search_Room",{toUser_ID:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data);const{Room_ID:o}=e.data;b.push({name:"Room",params:{Room_ID:o}})}).catch(e=>{console.log(e)})},B=async()=>{r.value?await _.post("/profile/unfollow",{fromUser:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),r.value=!1}).catch(e=>{console.log(e)}).finally(()=>{h(v.params.User_ID)}):await _.post("/profile/follow",{fromUser:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),r.value=!0}).catch(e=>{console.log(e)}).finally(()=>{h(v.params.User_ID)})},g=a(""),I=a([]);return C(g,e=>{e.length>0&&_.get(`/profile/usersFind/${e}`).then(o=>{console.log(o.data),I.value=o.data.users}).catch(o=>{console.log(o)})}),(e,o)=>{const c=H("router-link");return n(),u(w,null,[l("div",K,[l("div",O,[l("li",null,[l("img",{src:s.value.Profile_Img,alt:"",class:"profile"},null,8,Q)])]),l("ul",null,[l("li",W,[s.value?(n(),u("div",X,[D(" @"+i(s.value.User_ID),1),l("span",null,i(s.value.User_Name),1)])):p("",!0),s.value.User_ID!==f.value?(n(),u("button",{key:1,onClick:B,style:L({backgroundColor:r.value?"#EFEFEF":"black",borderColor:r.value?"#F2F2F2":"black",color:r.value?"black":"white"})},i(r.value?"팔로잉":"팔로우"),5)):p("",!0),s.value.User_ID!==f.value?(n(),u("button",{key:2,class:"message",onClick:N}," 메시지 ")):p("",!0)]),l("li",null,[Y,D("팔로워 "+i(F.value)+" ",1),Z,l("span",null,"팔로잉 "+i(y.value),1)]),l("li",null,i(s.value.User_Msg),1),V(l("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>g.value=t)},null,512),[[A,g.value]]),I.value.length>0?(n(),u("ul",ee,[(n(!0),u(w,null,P(I.value,t=>(n(),M(c,{to:{name:"PersonalPage",params:{User_ID:t.User_ID}},key:t},{default:x(()=>[D(i(t.User_ID)+" - "+i(t.User_Name),1)]),_:2},1032,["to"]))),128))])):p("",!0)])]),l("div",le,[oe,l("div",se,[l("div",te,[l("ul",null,[(n(!0),u(w,null,P(m.value,t=>(n(),u("li",null,[z(c,{to:{name:"FeedDetail",params:{Post_ID:t.Post_ID}}},{default:x(()=>[l("img",{src:t.Image_Src,alt:"",class:"FeedArticle"},null,8,ae)]),_:2},1032,["to"])]))),256))])])])])],64)}}},ie=J(ne,[["__scopeId","data-v-8e3a33fc"]]);export{ie as default};
