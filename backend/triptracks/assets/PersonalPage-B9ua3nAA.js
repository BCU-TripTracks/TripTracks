import{c as L,r as a,o as M,A as F,e as u,f as e,w as V,m as A,B as P,F as y,l as C,j as f,i as b,t as i,C as $,a as _,d as n,x as z,h as x,g as T,p as j,k as H,z as q,u as G,b as J}from"./index-BTanikTS.js";/* empty css                                                                */import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const m=p=>(j("data-v-6c13d08b"),p=p(),H(),p),O={class:"Profile_Page"},Q={class:"Profile_Find"},W=m(()=>e("h3",null,"프로필 찾아보기",-1)),X={class:"input-container"},Y=["src"],Z={class:"Profile_Container"},ee={class:"Profile_Photo"},se=["src"],le={class:"ID"},oe={key:0,class:"userID_Info"},te=m(()=>e("span",null,"게시물 9 ",-1)),ae=m(()=>e("span",null,null,-1)),ne={class:"Feed_Container"},re=m(()=>e("div",{class:"Feed_discription"},[e("ul",null,[e("li",null,"게시물 9"),e("li",null,"태그장소 17")])],-1)),ce={class:"Feed"},ue={class:"Article"},ie=["src"],_e={__name:"PersonalPage",setup(p){const v=$(),R=q(),S=G(),g=L(()=>S.state.User_ID),r=a(!0),o=a({}),w=a([]),N=a([]),U=a(0),k=a(0),I=a([]),h=s=>{_.get(`/profile/search/${s}`).then(l=>{console.log(l.data);const c=l.data;o.value=c.userInfoResult,w.value=c.follower,N.value=c.following,U.value=c.follower_Len,k.value=c.following_Len,r.value=w.value.includes(g.value)}).catch(l=>{console.log(l)}),_.post("/profile/posts_list",{User_ID:s}).then(l=>{I.value=l.data,console.log(I.value)})};M(()=>{h(v.params.User_ID)}),F(()=>v.params.User_ID,s=>{s&&(h(s),d.value="")});const B=async()=>{await _.post("/Direct/search_Room",{toUser_ID:o.value.User_ID},{withCredentials:!0}).then(s=>{console.log(s.data);const{Room_ID:l}=s.data;R.push({name:"Room",params:{Room_ID:l}})}).catch(s=>{console.log(s)})},E=async()=>{r.value?await _.post("/profile/unfollow",{fromUser:o.value.User_ID},{withCredentials:!0}).then(s=>{console.log(s.data),r.value=!1}).catch(s=>{console.log(s)}).finally(()=>{h(v.params.User_ID)}):await _.post("/profile/follow",{fromUser:o.value.User_ID},{withCredentials:!0}).then(s=>{console.log(s.data),r.value=!0}).catch(s=>{console.log(s)}).finally(()=>{h(v.params.User_ID)})},d=a(""),D=a([]);return F(d,s=>{s.length>0&&_.get(`/profile/usersFind/${s}`).then(l=>{console.log(l.data),D.value=l.data.users}).catch(l=>{console.log(l)})}),(s,l)=>{const c=J("router-link");return n(),u("div",O,[e("div",Q,[W,e("div",X,[V(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t),placeholder:"검색하고 싶은 프로필의 아이디를 적어주세요",ref:"userInput"},null,512),[[A,d.value]]),D.value.length>0&&d.value!==""?(n(),u("ul",{key:0,class:"userList",style:P({top:`${s.inputHeight}px`})},[(n(!0),u(y,null,C(D.value,t=>(n(),z(c,{to:{name:"PersonalPage",params:{User_ID:t.User_ID}},key:t.User_ID,class:"router-link-none userItem"},{default:x(()=>[e("img",{src:t.Profile_Img,width:"25px"},null,8,Y),e("p",null,i(t.User_ID)+" - "+i(t.User_Name),1)]),_:2},1032,["to"]))),128))],4)):f("",!0)])]),e("div",Z,[e("div",ee,[e("li",null,[e("img",{src:o.value.Profile_Img,alt:"",class:"profile"},null,8,se)])]),e("ul",null,[e("li",le,[o.value?(n(),u("div",oe,[b(" @"+i(o.value.User_ID),1),e("span",null,i(o.value.User_Name),1)])):f("",!0),o.value.User_ID!==g.value?(n(),u("button",{key:1,onClick:E,style:P({backgroundColor:r.value?"#EFEFEF":"black",borderColor:r.value?"#F2F2F2":"black",color:r.value?"black":"white"})},i(r.value?"팔로잉":"팔로우"),5)):f("",!0),o.value.User_ID!==g.value?(n(),u("button",{key:2,class:"message",onClick:B},"메시지")):f("",!0)]),e("li",null,[te,b("팔로워 "+i(U.value)+" ",1),ae,e("span",null,"팔로잉 "+i(k.value),1)]),e("li",null,i(o.value.User_Msg),1)])]),e("div",ne,[re,e("div",ce,[e("div",ue,[e("ul",null,[(n(!0),u(y,null,C(I.value,t=>(n(),u("li",null,[T(c,{to:{name:"FeedDetail",params:{Post_ID:t.Post_ID}}},{default:x(()=>[e("img",{src:t.Image_Src,alt:"",class:"FeedArticle"},null,8,ie)]),_:2},1032,["to"])]))),256))])])])])])}}},he=K(_e,[["__scopeId","data-v-6c13d08b"]]);export{he as default};
