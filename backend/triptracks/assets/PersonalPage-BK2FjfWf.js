import{A as S,n as B,c as V,h as n,B as F,r as E,o as c,a as i,b as e,e as g,t as u,i as k,x as L,j as M,v as T,F as I,g as y,m as _,q as $,w as U,d as j,l as q,p as z,f as Y,u as G}from"./index-hSpd0J-h.js";import{_ as H}from"./ProfileImage-DDAmAK24.js";/* empty css                                                                */import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K="/assets/FeedArticle-D06YVoeu.png",d=p=>(z("data-v-24215d16"),p=p(),Y(),p),O={class:"Profile_Container"},Q=d(()=>e("div",{class:"Profile_Photo"},[e("li",null,[e("img",{src:H,alt:"",class:"profile"})])],-1)),W={class:"ID"},X={key:0,class:"userID_Info"},Z=d(()=>e("span",null,"게시물 9 ",-1)),ee=d(()=>e("span",null,null,-1)),oe=d(()=>e("li",null,"안녕하세요.",-1)),se={key:0,class:"userList"},le={class:"Feed_Container"},te=d(()=>e("div",{class:"Feed_discription"},[e("ul",null,[e("li",null,"게시물 9"),e("li",null,"태그장소 17")])],-1)),ae={class:"Feed"},ne={class:"Article"},re=["src"],ce={__name:"PersonalPage",setup(p){const f=S(),x=B(),C=G(),P=V(()=>C.state.user_ID),a=n(!1),r=n({}),b=n([]),R=n([]),D=n(0),w=n(0),m=o=>{_.get(`/profile/search/${o}`).then(s=>{console.log(s.data);const l=s.data;r.value=l.userInfoResult,b.value=l.follower,R.value=l.following,D.value=l.follower_Len,w.value=l.following_Len;for(const t of l.followers)t===P&&(a.value=!0)}).catch(s=>{console.log(s)})};F(()=>f.params.userID,o=>{o&&m(o)},{immediate:!0});const A=async()=>{await _.post("/Direct/search_Room",{toUser_ID:r.value.User_ID}).then(o=>{console.log(o.data);const{Room_ID:s}=o.data;x.push({name:"Room",params:{Room_ID:s}})}).catch(o=>{console.log(o)})},N=async()=>{a.value?await _.post("/profile/unfollow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),a.value=!1}).catch(o=>{console.log(o)}).finally(()=>{m(f.params.userID)}):await _.post("/profile/follow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),a.value=!0}).catch(o=>{console.log(o)}).finally(()=>{m(f.params.userID)})},v=n(""),h=n([]);return F(v,o=>{o.length>0&&_.get(`/profile/usersFind/${o}`).then(s=>{console.log(s.data),h.value=s.data.users}).catch(s=>{console.log(s)})}),(o,s)=>{const l=E("router-link");return c(),i(I,null,[e("div",O,[Q,e("ul",null,[e("li",W,[r.value?(c(),i("div",X,[g(" @"+u(r.value.User_ID),1),e("span",null,u(r.value.User_Name),1)])):k("",!0),e("button",{onClick:N,style:L({backgroundColor:a.value?"#EFEFEF":"black",borderColor:a.value?"#F2F2F2":"black",color:a.value?"black":"white"})},u(a.value?"팔로잉":"팔로우"),5),e("button",{class:"message",onClick:A},"메시지")]),e("li",null,[Z,g("팔로워 "+u(D.value)+" ",1),ee,e("span",null,"팔로잉 "+u(w.value),1)]),oe,M(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>v.value=t)},null,512),[[T,v.value]]),h.value.length>0?(c(),i("ul",se,[(c(!0),i(I,null,y(h.value,t=>(c(),$(l,{to:{name:"PersonalPage",params:{userID:t.User_ID}},key:t},{default:U(()=>[g(u(t.User_ID)+" - "+u(t.User_Name),1)]),_:2},1032,["to"]))),128))])):k("",!0)])]),e("div",le,[te,e("div",ae,[e("div",ne,[e("ul",null,[(c(!0),i(I,null,y(Array(12),t=>(c(),i("li",null,[j(l,{to:{name:"FeedDetail"}},{default:U(()=>[e("img",{src:q(K),alt:"",class:"FeedArticle"},null,8,re)]),_:1})]))),256))])])])])],64)}}},pe=J(ce,[["__scopeId","data-v-24215d16"]]);export{pe as default};
