import{c as L,r as a,o as M,A as F,e as u,f as o,w as V,m as $,B as P,F as y,l as C,j as f,i as x,t as i,C as z,a as _,d as n,x as A,h as b,g as T,p as j,k as H,z as q,u as G,b as J}from"./index-CP0vrUw_.js";/* empty css                                                                */import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const m=p=>(j("data-v-1a8a2581"),p=p(),H(),p),O={class:"Profile_Page"},Q={class:"Profile_Find"},W=m(()=>o("h3",null,"프로필 찾아보기",-1)),X={class:"input-container"},Y=["src"],Z={class:"Profile_Container"},ee={class:"Profile_Photo"},oe=["src"],le={class:"ID"},se={key:0,class:"userID_Info"},te=m(()=>o("span",null,"게시물 9 ",-1)),ae=m(()=>o("span",null,null,-1)),ne=m(()=>o("ul",{class:"Feed_discription"},[o("li",null,"게시물 9"),o("li",null,"태그장소 17")],-1)),re={class:"Feed_Container"},ce=["src"],ue={__name:"PersonalPage",setup(p){const v=z(),R=q(),S=G(),g=L(()=>S.state.User_ID),r=a(!0),s=a({}),w=a([]),N=a([]),U=a(0),k=a(0),I=a([]),h=e=>{_.get(`/profile/search/${e}`).then(l=>{console.log(l.data);const c=l.data;s.value=c.userInfoResult,w.value=c.follower,N.value=c.following,U.value=c.follower_Len,k.value=c.following_Len,r.value=w.value.includes(g.value)}).catch(l=>{console.log(l)}),_.post("/profile/posts_list",{User_ID:e}).then(l=>{I.value=l.data,console.log(I.value)})};M(()=>{h(v.params.User_ID)}),F(()=>v.params.User_ID,e=>{e&&(h(e),d.value="")});const B=async()=>{await _.post("/Direct/search_Room",{toUser_ID:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data);const{Room_ID:l}=e.data;R.push({name:"Room",params:{Room_ID:l}})}).catch(e=>{console.log(e)})},E=async()=>{r.value?await _.post("/profile/unfollow",{fromUser:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),r.value=!1}).catch(e=>{console.log(e)}).finally(()=>{h(v.params.User_ID)}):await _.post("/profile/follow",{fromUser:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),r.value=!0}).catch(e=>{console.log(e)}).finally(()=>{h(v.params.User_ID)})},d=a(""),D=a([]);return F(d,e=>{e.length>0&&_.get(`/profile/usersFind/${e}`).then(l=>{console.log(l.data),D.value=l.data.users}).catch(l=>{console.log(l)})}),(e,l)=>{const c=J("router-link");return n(),u("div",O,[o("div",Q,[W,o("div",X,[V(o("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t),placeholder:"검색하고 싶은 프로필의 아이디를 적어주세요",ref:"userInput"},null,512),[[$,d.value]]),D.value.length>0&&d.value!==""?(n(),u("ul",{key:0,class:"userList",style:P({top:`${e.inputHeight}px`})},[(n(!0),u(y,null,C(D.value,t=>(n(),A(c,{to:{name:"PersonalPage",params:{User_ID:t.User_ID}},key:t.User_ID,class:"router-link-none userItem"},{default:b(()=>[o("img",{src:t.Profile_Img,width:"25px"},null,8,Y),o("p",null,i(t.User_ID)+" - "+i(t.User_Name),1)]),_:2},1032,["to"]))),128))],4)):f("",!0)])]),o("div",Z,[o("div",ee,[o("li",null,[o("img",{src:s.value.Profile_Img,alt:"",class:"profile"},null,8,oe)])]),o("ul",null,[o("li",le,[s.value?(n(),u("div",se,[x(" @"+i(s.value.User_ID),1),o("span",null,i(s.value.User_Name),1)])):f("",!0),s.value.User_ID!==g.value?(n(),u("button",{key:1,onClick:E,style:P({backgroundColor:r.value?"#EFEFEF":"black",borderColor:r.value?"#F2F2F2":"black",color:r.value?"black":"white"})},i(r.value?"팔로잉":"팔로우"),5)):f("",!0),s.value.User_ID!==g.value?(n(),u("button",{key:2,class:"message",onClick:B},"메시지")):f("",!0)]),o("li",null,[te,x("팔로워 "+i(U.value)+" ",1),ae,o("span",null,"팔로잉 "+i(k.value),1)]),o("li",null,i(s.value.User_Msg),1)])]),ne,o("ul",re,[(n(!0),u(y,null,C(I.value,t=>(n(),u("li",null,[T(c,{to:{name:"FeedDetail",params:{Post_ID:t.Post_ID}}},{default:b(()=>[o("img",{src:t.Image_Src,alt:"",class:"FeedArticle"},null,8,ce)]),_:2},1032,["to"])]))),256))])])}}},pe=K(ue,[["__scopeId","data-v-1a8a2581"]]);export{pe as default};
