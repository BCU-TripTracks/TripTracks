import{A as S,n as B,c as V,h as n,B as D,r as E,o as c,a as i,b as e,e as v,t as u,i as w,x as L,j as M,v as T,F as h,g as F,m as _,q as $,w as k,d as j,l as q,p as z,f as Y,u as G}from"./index-D1pVIrvs.js";import{_ as H}from"./ProfileImage-DDAmAK24.js";/* empty css                                                                */import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K="/assets/FeedArticle-D06YVoeu.png",d=p=>(z("data-v-3980fe10"),p=p(),Y(),p),O={class:"Profile_Container"},Q=d(()=>e("div",{class:"Profile_Photo"},[e("li",null,[e("img",{src:H,alt:"",class:"profile"})])],-1)),W={class:"ID"},X={key:0,class:"userID_Info"},Z=d(()=>e("span",null,"게시물 9 ",-1)),ee=d(()=>e("span",null,null,-1)),oe=d(()=>e("li",null,"안녕하세요.",-1)),se={key:0,class:"userList"},le={class:"Feed_Container"},te=d(()=>e("div",{class:"Feed_discription"},[e("ul",null,[e("li",null,"게시물 9"),e("li",null,"태그장소 17")])],-1)),ae={class:"Feed"},ne={class:"Article"},re=["src"],ce={__name:"PersonalPage",setup(p){const U=S(),x=B(),y=G(),C=V(()=>y.state.user_ID),a=n(!1),r=n({}),P=n([]),b=n([]),g=n(0),I=n(0),R=o=>{_.get(`/profile/search/${o}`).then(s=>{console.log(s.data);const l=s.data;r.value=l.userInfoResult,P.value=l.follower,b.value=l.following,g.value=l.follower_Len,I.value=l.following_Len;for(const t of l.followers)t===C&&(a.value=!0)}).catch(s=>{console.log(s)})};D(()=>U.params.userID,o=>{o&&R(o)},{immediate:!0});const A=async()=>{await _.post("/Direct/search_Room",{toUser_ID:r.value.User_ID}).then(o=>{console.log(o.data);const{Room_ID:s}=o.data;x.push({name:"Room",params:{Room_ID:s}})}).catch(o=>{console.log(o)})},N=()=>{a.value?_.post("/profile/unfollow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),a.value=!1}).catch(o=>{console.log(o)}):_.post("/profile/follow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),a.value=!0}).catch(o=>{console.log(o)})},f=n(""),m=n([]);return D(f,o=>{o.length>0&&_.get(`/profile/usersFind/${o}`).then(s=>{console.log(s.data),m.value=s.data.users}).catch(s=>{console.log(s)})}),(o,s)=>{const l=E("router-link");return c(),i(h,null,[e("div",O,[Q,e("ul",null,[e("li",W,[r.value?(c(),i("div",X,[v(" @"+u(r.value.User_ID),1),e("span",null,u(r.value.User_Name),1)])):w("",!0),e("button",{onClick:N,style:L({backgroundColor:a.value?"#EFEFEF":"black",borderColor:a.value?"#F2F2F2":"black",color:a.value?"black":"white"})},u(a.value?"팔로잉":"팔로우"),5),e("button",{class:"message",onClick:A},"메시지")]),e("li",null,[Z,v("팔로워 "+u(g.value)+" ",1),ee,e("span",null,"팔로잉 "+u(I.value),1)]),oe,M(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t)},null,512),[[T,f.value]]),m.value.length>0?(c(),i("ul",se,[(c(!0),i(h,null,F(m.value,t=>(c(),$(l,{to:{name:"PersonalPage",params:{userID:t.User_ID}},key:t},{default:k(()=>[v(u(t.User_ID)+" - "+u(t.User_Name),1)]),_:2},1032,["to"]))),128))])):w("",!0)])]),e("div",le,[te,e("div",ae,[e("div",ne,[e("ul",null,[(c(!0),i(h,null,F(Array(12),t=>(c(),i("li",null,[j(l,{to:{name:"FeedDetail"}},{default:k(()=>[e("img",{src:q(K),alt:"",class:"FeedArticle"},null,8,re)]),_:1})]))),256))])])])])],64)}}},pe=J(ce,[["__scopeId","data-v-3980fe10"]]);export{pe as default};
