import{c as M,r as a,o as $,A as P,e as r,f as e,w as B,m as L,D as y,F as C,l as x,j as p,i as g,t as c,E as V,a as _,d as n,x as A,h as b,g as T,p as j,k as H,z as W,u as q,b as G}from"./index-4ydSH2Vs.js";/* empty css                                                                */import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K=v=>(j("data-v-6adc327e"),v=v(),H(),v),O={class:"Profile_Page"},Q={class:"Profile_Find"},X=K(()=>e("h3",null,"프로필 찾아보기",-1)),Y={class:"input-container"},Z=["src"],ee={class:"Profile_Container"},se={class:"Profile_Photo"},oe=["src"],le={class:"ID"},te={key:0,class:"userID_Info"},ae={class:"profileWrap"},ne={class:"userInfo"},re={class:"userInfo"},ce={class:"userInfo"},ue={class:"Feed_discription"},ie={key:0,class:"Feed"},_e={class:"Article"},de=["src"],pe={__name:"PersonalPage",setup(v){const f=V(),z=W(),R=q(),I=M(()=>R.state.User_ID),u=a(!0),t=a({}),k=a([]),S=a([]),U=a(0),F=a(0),h=a([]);a([]);const D=a("feedzone"),m=s=>{_.get(`/profile/search/${s}`).then(o=>{console.log(o.data);const i=o.data;t.value=i.userInfoResult,k.value=i.follower,S.value=i.following,U.value=i.follower_Len,F.value=i.following_Len,u.value=k.value.includes(I.value)}).catch(o=>{console.log(o)}),_.post("/profile/posts_list",{User_ID:s}).then(o=>{h.value=o.data,console.log(h.value)})};$(()=>{m(f.params.User_ID)}),P(()=>f.params.User_ID,s=>{s&&(m(s),d.value="")});const N=async()=>{await _.post("/Direct/search_Room",{toUser_ID:t.value.User_ID},{withCredentials:!0}).then(s=>{console.log(s.data);const{Room_ID:o}=s.data;z.push({name:"Room",params:{Room_ID:o}})}).catch(s=>{console.log(s)})},E=async()=>{u.value?await _.post("/profile/unfollow",{fromUser:t.value.User_ID},{withCredentials:!0}).then(s=>{console.log(s.data),u.value=!1}).catch(s=>{console.log(s)}).finally(()=>{m(f.params.User_ID)}):await _.post("/profile/follow",{fromUser:t.value.User_ID},{withCredentials:!0}).then(s=>{console.log(s.data),u.value=!0}).catch(s=>{console.log(s)}).finally(()=>{m(f.params.User_ID)})},d=a(""),w=a([]);return P(d,s=>{s.length>0&&_.get(`/profile/usersFind/${s}`).then(o=>{console.log(o.data),w.value=o.data.users}).catch(o=>{console.log(o)})}),(s,o)=>{const i=G("router-link");return n(),r("div",O,[e("div",Q,[X,e("div",Y,[B(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=l=>d.value=l),placeholder:"검색하고 싶은 프로필의 아이디를 적어주세요",ref:"userInput"},null,512),[[L,d.value]]),w.value.length>0&&d.value!==""?(n(),r("ul",{key:0,class:"userList",style:y({top:`${s.inputHeight}px`})},[(n(!0),r(C,null,x(w.value,l=>(n(),A(i,{to:{name:"PersonalPage",params:{User_ID:l.User_ID}},key:l.User_ID,class:"router-link-none userItem"},{default:b(()=>[e("img",{src:l.Profile_Img,width:"25px"},null,8,Z),e("p",null,c(l.User_ID)+" - "+c(l.User_Name),1)]),_:2},1032,["to"]))),128))],4)):p("",!0)])]),e("div",ee,[e("div",se,[e("li",null,[e("img",{src:t.value.Profile_Img,alt:"",class:"profile"},null,8,oe)])]),e("ul",null,[e("li",le,[t.value?(n(),r("div",te,[g(" @"+c(t.value.User_ID),1),e("span",null,c(t.value.User_Name),1)])):p("",!0),t.value.User_ID!==I.value?(n(),r("button",{key:1,onClick:E,style:y({backgroundColor:u.value?"#EFEFEF":"black",borderColor:u.value?"#F2F2F2":"black",color:u.value?"black":"white"})},c(u.value?"팔로잉":"팔로우"),5)):p("",!0),t.value.User_ID!==I.value?(n(),r("button",{key:2,class:"message",onClick:N}," 메시지 ")):p("",!0)]),e("li",ae,[g(" 게시물 "),e("span",ne,c(h.value.length),1),g(" 팔로워 "),e("span",re,c(U.value),1),g(" 팔로잉 "),e("span",ce,c(F.value),1)]),e("li",null,c(t.value.User_Msg),1)])]),e("div",ue,[e("span",{class:"feedzone",onClick:o[1]||(o[1]=l=>D.value="feedzone")},"게시물"),e("span",{class:"savezone",onClick:o[2]||(o[2]=l=>D.value="savezone")},"저장된 게시물")]),D.value==="feedzone"?(n(),r("div",ie,[e("div",_e,[e("ul",null,[(n(!0),r(C,null,x(h.value,l=>(n(),r("li",null,[T(i,{to:{name:"FeedDetail",params:{Post_ID:l.Post_ID}}},{default:b(()=>[e("img",{src:l.Image_Src,alt:"",class:"FeedArticle"},null,8,de)]),_:2},1032,["to"])]))),256))])])])):p("",!0)])}}},me=J(pe,[["__scopeId","data-v-6adc327e"]]);export{me as default};
