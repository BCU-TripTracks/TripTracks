import{B,n as E,c as L,i as n,s as k,r as V,o as c,a as u,b as e,e as g,t as i,j as F,x as A,k as M,v as T,F as I,h as U,f as _,q as $,w as y,d as j,m as q,p as z,g as G,u as H}from"./index-aZut90aN.js";import{P as J}from"./ProfileImage-B4Awu9kj.js";/* empty css                                                                */import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as O}from"./FeedArticle-Bvw2Ycqv.js";const d=p=>(z("data-v-a2bada92"),p=p(),G(),p),Q={class:"Profile_Container"},W=d(()=>e("div",{class:"Profile_Photo"},[e("li",null,[e("img",{src:J,alt:"",class:"profile"})])],-1)),X={class:"ID"},Y={key:0,class:"userID_Info"},Z=d(()=>e("span",null,"게시물 9 ",-1)),ee=d(()=>e("span",null,null,-1)),oe=d(()=>e("li",null,"안녕하세요.",-1)),se={key:0,class:"userList"},le={class:"Feed_Container"},ae=d(()=>e("div",{class:"Feed_discription"},[e("ul",null,[e("li",null,"게시물 9"),e("li",null,"태그장소 17")])],-1)),te={class:"Feed"},ne={class:"Article"},re=["src"],ce={__name:"PersonalPage",setup(p){const f=B(),P=E(),b=H(),x=L(()=>b.state.user_ID),t=n(!1),r=n({}),C=n([]),R=n([]),D=n(0),w=n(0),m=o=>{_.get(`/profile/search/${o}`).then(s=>{console.log(s.data);const l=s.data;r.value=l.userInfoResult,C.value=l.follower,R.value=l.following,D.value=l.follower_Len,w.value=l.following_Len;for(const a of l.followers)a===x&&(t.value=!0)}).catch(s=>{console.log(s)})};k(()=>f.params.User_ID,o=>{o&&m(o)},{immediate:!0});const N=async()=>{await _.post("/Direct/search_Room",{toUser_ID:r.value.User_ID}).then(o=>{console.log(o.data);const{Room_ID:s}=o.data;P.push({name:"Room",params:{Room_ID:s}})}).catch(o=>{console.log(o)})},S=async()=>{t.value?await _.post("/profile/unfollow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),t.value=!1}).catch(o=>{console.log(o)}).finally(()=>{m(f.params.User_ID)}):await _.post("/profile/follow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),t.value=!0}).catch(o=>{console.log(o)}).finally(()=>{m(f.params.User_ID)})},v=n(""),h=n([]);return k(v,o=>{o.length>0&&_.get(`/profile/usersFind/${o}`).then(s=>{console.log(s.data),h.value=s.data.users}).catch(s=>{console.log(s)})}),(o,s)=>{const l=V("router-link");return c(),u(I,null,[e("div",Q,[W,e("ul",null,[e("li",X,[r.value?(c(),u("div",Y,[g(" @"+i(r.value.User_ID),1),e("span",null,i(r.value.User_Name),1)])):F("",!0),e("button",{onClick:S,style:A({backgroundColor:t.value?"#EFEFEF":"black",borderColor:t.value?"#F2F2F2":"black",color:t.value?"black":"white"})},i(t.value?"팔로잉":"팔로우"),5),e("button",{class:"message",onClick:N},"메시지")]),e("li",null,[Z,g("팔로워 "+i(D.value)+" ",1),ee,e("span",null,"팔로잉 "+i(w.value),1)]),oe,M(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>v.value=a)},null,512),[[T,v.value]]),h.value.length>0?(c(),u("ul",se,[(c(!0),u(I,null,U(h.value,a=>(c(),$(l,{to:{name:"PersonalPage",params:{userID:a.User_ID}},key:a},{default:y(()=>[g(i(a.User_ID)+" - "+i(a.User_Name),1)]),_:2},1032,["to"]))),128))])):F("",!0)])]),e("div",le,[ae,e("div",te,[e("div",ne,[e("ul",null,[(c(!0),u(I,null,U(Array(12),a=>(c(),u("li",null,[j(l,{to:{name:"FeedDetail"}},{default:y(()=>[e("img",{src:q(O),alt:"",class:"FeedArticle"},null,8,re)]),_:1})]))),256))])])])])],64)}}},fe=K(ce,[["__scopeId","data-v-a2bada92"]]);export{fe as default};
