import{B as E,y as L,c as V,r as a,A as C,b as A,d as n,e as u,f as l,i as w,t as i,l as p,C as z,w as M,m as T,F as k,k as P,a as _,z as $,h as b,g as j,p as q,j as G,u as H}from"./index-CNOOLXwi.js";/* empty css                                                                */import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v=d=>(q("data-v-78d41350"),d=d(),G(),d),K={class:"Profile_Container"},O={class:"Profile_Photo"},Q=["src"],W={class:"ID"},X={key:0,class:"userID_Info"},Y=v(()=>l("span",null,"게시물 9 ",-1)),Z=v(()=>l("span",null,null,-1)),ee=v(()=>l("li",null,"안녕하세요.",-1)),le={key:0,class:"userList"},oe={class:"Feed_Container"},se=v(()=>l("div",{class:"Feed_discription"},[l("ul",null,[l("li",null,"게시물 9"),l("li",null,"태그장소 17")])],-1)),te={class:"Feed"},ae={class:"Article"},ne=["src"],re={__name:"PersonalPage",setup(d){const f=E(),x=L(),R=H(),h=V(()=>R.state.User_ID),r=a(!0),s=a({}),U=a([]),S=a([]),F=a(0),y=a(0),m=a([]),g=e=>{_.get(`/profile/search/${e}`).then(o=>{console.log(o.data);const c=o.data;s.value=c.userInfoResult,U.value=c.follower,S.value=c.following,F.value=c.follower_Len,y.value=c.following_Len,r.value=U.value.includes(h.value)}).catch(o=>{console.log(o)}),_.post("/profile/posts_list",{User_ID:e}).then(o=>{m.value=o.data,console.log(m.value)})};C(()=>f.params.User_ID,e=>{e&&g(e)},{immediate:!0});const N=async()=>{await _.post("/Direct/search_Room",{toUser_ID:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data);const{Room_ID:o}=e.data;x.push({name:"Room",params:{Room_ID:o}})}).catch(e=>{console.log(e)})},B=async()=>{r.value?await _.post("/profile/unfollow",{fromUser:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),r.value=!1}).catch(e=>{console.log(e)}).finally(()=>{g(f.params.User_ID)}):await _.post("/profile/follow",{fromUser:s.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),r.value=!0}).catch(e=>{console.log(e)}).finally(()=>{g(f.params.User_ID)})},I=a(""),D=a([]);return C(I,e=>{e.length>0&&_.get(`/profile/usersFind/${e}`).then(o=>{console.log(o.data),D.value=o.data.users}).catch(o=>{console.log(o)})}),(e,o)=>{const c=A("router-link");return n(),u(k,null,[l("div",K,[l("div",O,[l("li",null,[l("img",{src:s.value.Profile_Img,alt:"",class:"profile"},null,8,Q)])]),l("ul",null,[l("li",W,[s.value?(n(),u("div",X,[w(" @"+i(s.value.User_ID),1),l("span",null,i(s.value.User_Name),1)])):p("",!0),s.value.User_ID!==h.value?(n(),u("button",{key:1,onClick:B,style:z({backgroundColor:r.value?"#EFEFEF":"black",borderColor:r.value?"#F2F2F2":"black",color:r.value?"black":"white"})},i(r.value?"팔로잉":"팔로우"),5)):p("",!0),s.value.User_ID!==h.value?(n(),u("button",{key:2,class:"message",onClick:N}," 메시지 ")):p("",!0)]),l("li",null,[Y,w("팔로워 "+i(F.value)+" ",1),Z,l("span",null,"팔로잉 "+i(y.value),1)]),ee,M(l("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>I.value=t)},null,512),[[T,I.value]]),D.value.length>0?(n(),u("ul",le,[(n(!0),u(k,null,P(D.value,t=>(n(),$(c,{to:{name:"PersonalPage",params:{User_ID:t.User_ID}},key:t},{default:b(()=>[w(i(t.User_ID)+" - "+i(t.User_Name),1)]),_:2},1032,["to"]))),128))])):p("",!0)])]),l("div",oe,[se,l("div",te,[l("div",ae,[l("ul",null,[(n(!0),u(k,null,P(m.value,t=>(n(),u("li",null,[j(c,{to:{name:"FeedDetail",params:{Post_ID:t.Post_ID}}},{default:b(()=>[l("img",{src:t.Image_Src,alt:"",class:"FeedArticle"},null,8,ne)]),_:2},1032,["to"])]))),256))])])])])],64)}}},_e=J(re,[["__scopeId","data-v-78d41350"]]);export{_e as default};
