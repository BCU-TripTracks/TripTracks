import{c as E,r,o as V,y as x,e as a,f as o,w as $,m as T,C as z,F as k,k as U,j as _,i as I,t as c,D as j,a as d,d as t,p as S,h as w,g as H,x as W,u as q,b as G}from"./index-Dd8u3veE.js";/* empty css                                                                */import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"Profile_Page"},O={class:"Profile_Find"},Q={class:"input-container"},X=["src"],Y={class:"Profile_Container"},Z={class:"Profile_Photo"},ee=["src"],se={class:"ID"},oe={key:0,class:"userID_Info"},le={class:"profileWrap"},te={class:"userInfo"},ae={class:"userInfo"},ne={class:"userInfo"},re={class:"Feed_discription"},ue={key:0,class:"Feed"},ce={class:"Article"},ie=["src"],_e={key:1,class:"Feed"},de={class:"Article"},ve=["src"],pe={__name:"PersonalPage",setup(fe){const v=j(),b=W(),R=q(),f=E(()=>R.state.User_ID),i=r(!0),n=r({}),y=r([]),N=r([]),F=r(0),P=r(0),m=r([]),C=r([]),h=r("feedzone"),L=()=>{d.post("/Feeds/Save_List",{User_ID:v.params.User_ID},{withCredentials:!0}).then(e=>{console.log(e),C.value=e.data}).catch(e=>{console.log(e)})},M=()=>{h.value="savezone",L()},g=e=>{d.get(`/profile/search/${e}`).then(s=>{console.log(s.data);const u=s.data;n.value=u.userInfoResult,y.value=u.follower,N.value=u.following,F.value=u.follower_Len,P.value=u.following_Len,i.value=y.value.includes(f.value)}).catch(s=>{console.log(s)}),d.post("/profile/posts_list",{User_ID:e}).then(s=>{m.value=s.data,console.log(m.value)})};V(()=>{g(v.params.User_ID)}),x(()=>v.params.User_ID,e=>{e&&(g(e),p.value="")});const A=async()=>{await d.post("/Direct/search_Room",{toUser_ID:n.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data);const{Room_ID:s}=e.data;b.push({name:"Room",params:{Room_ID:s}})}).catch(e=>{console.log(e)})},B=async()=>{i.value?await d.post("/profile/unfollow",{fromUser:n.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),i.value=!1}).catch(e=>{console.log(e)}).finally(()=>{g(v.params.User_ID)}):await d.post("/profile/follow",{fromUser:n.value.User_ID},{withCredentials:!0}).then(e=>{console.log(e.data),i.value=!0}).catch(e=>{console.log(e)}).finally(()=>{g(v.params.User_ID)})},p=r(""),D=r([]);return x(p,e=>{e.length>0&&d.get(`/profile/usersFind/${e}`).then(s=>{console.log(s.data),D.value=s.data.users}).catch(s=>{console.log(s)})}),(e,s)=>{const u=G("router-link");return t(),a("div",K,[o("div",O,[s[2]||(s[2]=o("h3",null,"프로필 찾아보기",-1)),o("div",Q,[$(o("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>p.value=l),placeholder:"검색하고 싶은 프로필의 아이디를 적어주세요",ref:"userInput"},null,512),[[T,p.value]]),D.value.length>0&&p.value!==""?(t(),a("ul",{key:0,class:"userList",style:z({top:`${e.inputHeight}px`})},[(t(!0),a(k,null,U(D.value,l=>(t(),S(u,{to:{name:"PersonalPage",params:{User_ID:l.User_ID}},key:l.User_ID,class:"router-link-none userItem"},{default:w(()=>[o("img",{src:l.Profile_Img,width:"25px"},null,8,X),o("p",null,c(l.User_ID)+" - "+c(l.User_Name),1)]),_:2},1032,["to"]))),128))],4)):_("",!0)])]),o("div",Y,[o("div",Z,[o("li",null,[o("img",{src:n.value.Profile_Img,alt:"",class:"profile"},null,8,ee)])]),o("ul",null,[o("li",se,[n.value?(t(),a("div",oe,[I(" @"+c(n.value.User_ID),1),o("span",null,c(n.value.User_Name),1)])):_("",!0),n.value.User_ID!==f.value?(t(),a("button",{key:1,onClick:B,style:z({backgroundColor:i.value?"#EFEFEF":"black",borderColor:i.value?"#F2F2F2":"black",color:i.value?"black":"white"})},c(i.value?"팔로잉":"팔로우"),5)):_("",!0),n.value.User_ID!==f.value?(t(),a("button",{key:2,class:"message",onClick:A}," 메시지 ")):_("",!0)]),o("li",le,[s[3]||(s[3]=I(" 게시물 ")),o("span",te,c(m.value.length),1),s[4]||(s[4]=I(" 팔로워 ")),o("span",ae,c(F.value),1),s[5]||(s[5]=I(" 팔로잉 ")),o("span",ne,c(P.value),1)]),o("li",null,c(n.value.User_Msg),1)])]),o("div",re,[o("span",{class:"feedzone",onClick:s[1]||(s[1]=l=>h.value="feedzone")},"게시물"),n.value.User_ID==f.value?(t(),a("span",{key:0,class:"savezone",onClick:M}," 저장된 게시물 ")):_("",!0)]),h.value==="feedzone"?(t(),a("div",ue,[o("div",ce,[o("ul",null,[(t(!0),a(k,null,U(m.value,l=>(t(),a("li",null,[H(u,{to:{name:"FeedDetail",params:{Post_ID:l.Post_ID}}},{default:w(()=>[o("img",{src:l.Image_Src,alt:"",class:"FeedArticle"},null,8,ie)]),_:2},1032,["to"])]))),256))])])])):_("",!0),h.value==="savezone"?(t(),a("div",_e,[o("div",de,[o("ul",null,[(t(!0),a(k,null,U(C.value,l=>(t(),a("li",{key:l.Post_ID},[l.Post_ID?(t(),S(u,{key:0,to:{name:"FeedDetail",params:{Post_ID:l.Post_ID}}},{default:w(()=>[o("img",{src:l.Image_Src,alt:"",class:"FeedArticle"},null,8,ve)]),_:2},1032,["to"])):_("",!0)]))),128))])])])):_("",!0)])}}},Ie=J(pe,[["__scopeId","data-v-94894ae8"]]);export{Ie as default};
