import{A as B,n as R,c as V,h as n,B as D,r as E,o as c,a as i,b as e,e as h,t as u,i as w,x as L,j as M,v as $,F as m,g as F,m as _,q as T,w as k,d as j,l as q,p as z,f as Y,u as G}from"./index-Ba0hQ8vK.js";import{_ as H}from"./ProfileImage-DDAmAK24.js";/* empty css                                                                */import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K="/assets/FeedArticle-D06YVoeu.png",d=f=>(z("data-v-7eb22f7c"),f=f(),Y(),f),O={class:"Profile_Container"},Q=d(()=>e("div",{class:"Profile_Photo"},[e("li",null,[e("img",{src:H,alt:"",class:"profile"})])],-1)),W={class:"ID"},X={key:0,class:"userID_Info"},Z=d(()=>e("span",null,"게시물 9 ",-1)),ee=d(()=>e("span",null,null,-1)),oe=d(()=>e("li",null,"안녕하세요.",-1)),se={key:0,class:"userList"},le={class:"Feed_Container"},te=d(()=>e("div",{class:"Feed_discription"},[e("ul",null,[e("li",null,"게시물 9"),e("li",null,"태그장소 17")])],-1)),ae={class:"Feed"},ne={class:"Article"},re=["src"],ce={__name:"PersonalPage",setup(f){const U=B(),b=R(),x=G(),y=V(()=>x.state.user_ID),a=n(!1),r=n({}),C=n([]),P=n([]),g=n(0),I=n(0),A=o=>{_.get(`/profile/search/${o}`).then(s=>{console.log(s.data);const l=s.data;r.value=l.userInfoResult,C.value=l.follower,P.value=l.following,g.value=l.follower_Len,I.value=l.following_Len;for(const t of l.followers)t===y&&(a.value=!0)}).catch(s=>{console.log(s)})};D(()=>U.params.userID,o=>{o&&A(o)},{immediate:!0});const N=async()=>{await _.post("/Direct/search_Room",{toUser_ID:r.value.User_ID}).then(o=>{console.log(o.data);const{Room_ID:s}=o.data;b.push(`/DirectMessage/${s}`)}).catch(o=>{console.log(o)})},S=()=>{a.value?_.post("/profile/unfollow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),a.value=!1}).catch(o=>{console.log(o)}):_.post("/profile/follow",{fromUser:r.value.User_ID}).then(o=>{console.log(o.data),a.value=!0}).catch(o=>{console.log(o)})},p=n(""),v=n([]);return D(p,o=>{o.length>0&&_.get(`/profile/usersFind/${o}`).then(s=>{console.log(s.data),v.value=s.data.users}).catch(s=>{console.log(s)})}),(o,s)=>{const l=E("router-link");return c(),i(m,null,[e("div",O,[Q,e("ul",null,[e("li",W,[r.value?(c(),i("div",X,[h(" @"+u(r.value.User_ID),1),e("span",null,u(r.value.User_Name),1)])):w("",!0),e("button",{onClick:S,style:L({backgroundColor:a.value?"#EFEFEF":"black",borderColor:a.value?"#F2F2F2":"black",color:a.value?"black":"white"})},u(a.value?"팔로잉":"팔로우"),5),e("button",{class:"message",onClick:N},"메시지")]),e("li",null,[Z,h("팔로워 "+u(g.value)+" ",1),ee,e("span",null,"팔로잉 "+u(I.value),1)]),oe,M(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t)},null,512),[[$,p.value]]),v.value.length>0?(c(),i("ul",se,[(c(!0),i(m,null,F(v.value,t=>(c(),T(l,{to:{name:"PersonalPage",params:{userID:t.User_ID}},key:t},{default:k(()=>[h(u(t.User_ID)+" - "+u(t.User_Name),1)]),_:2},1032,["to"]))),128))])):w("",!0)])]),e("div",le,[te,e("div",ae,[e("div",ne,[e("ul",null,[(c(!0),i(m,null,F(Array(12),t=>(c(),i("li",null,[j(l,{to:{name:"FeedDetail"}},{default:k(()=>[e("img",{src:q(K),alt:"",class:"FeedArticle"},null,8,re)]),_:1})]))),256))])])])])],64)}}},fe=J(ce,[["__scopeId","data-v-7eb22f7c"]]);export{fe as default};
