import{c as E,r as o,o as U,a as l,e as n,f as a,w as Q,m as B,n as V,F as k,k as S,j as D,d as r,i as v,t as m,g as h,h as A,q as d,x,u as N,b as Z}from"./index-HUFp0Dkx.js";import{l as I,s as C}from"./like-Cq13m2ZL.js";import{l as F}from"./likeed-BS52KISc.js";import{s as R,m as P}from"./saveed-DRyjRmH-.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAAMaSURBVEhLtZZNSzJRFMevU4ZFIRRI71i2itRWUdCmjYVEuz5AGyEieqNPENWmD+CiVZusIIIWtYkiCEUxrBYFrQrdSBgVaS/Yee453LmOOvak1g+Gc7nn5T8z986ZawAOK8Dn5yc7Pz9nfr+f3d7eslgsxj4+PlhLSwuzWq2sr6+PDQwMsNraWpHxA1BQj83NTWhsbMSb+fYymUywtLQE7+/vIvN78gSfn59hdHRUt3hbWxvY7XYwGAx5vu7ubuBvQVQpTJbg3d0dJapFKioqYHZ2Fvb39+Hh4UFEAby+vsLJyQmsrKxAfX29jK+rq4OjoyMRpY8UTCQS0NXVJZOdTidEIhHhLUw8HoexsTGZV11dDaFQSHjzkYKDg4MyaWpqCviGEZ6fsbGxIfMbGhroRvQgwZ2dHRnscDggnU6Ts1imp6dlHVwKPRgW7+jooKCqqiq4vr4WruJJpVJgs9lkrfv7e+HJwE5PT+Vdra2tienSCQaDchevrq6K2QxseXlZCiaTSTFdHj09PVTP7XaLmQzKzc0N9zFmNpsZ32E0Lpf29nayam0tyuPjIw3UoN+ANwiyam0tCvZLhC8y2d+gpqaG7NvbG1ktCv9maHB1dcW+vr5oXC4XFxdkLRYLWS2KOol/Ab13XgrhcJhsc3MzWS1Kf3+/GDLGW5kYlQ7vx+zp6YnG2toS/BSw//Eh9Pb2Ft3ScpmcnJSfWSAQELMZqLUtLi7KoLm5OXKUwt7enqzDn07MZkOC/BVQw1WDd3d3yVkMh4eHYDQaZY1Cfwz5tzg+Pqb+h8HYmmZmZqg3/gSv1wuVlZVSbGJiQnjykYLIwcGBXE+8sBGfnZ0Jbz78jAMul0vGa6+trS0RlU2WIHJ5eQmtra1ZyU1NTTA0NAQejwcWFhZgZGQEOjs7QVEUGYNnm/n5+aw8PdE8QeTl5YWOD9p1LXThMuDOjEajlIsiWn+uqK6gCq4hbqDx8XE66/AGT68cjyLDw8Owvr5OR5NcckW3t7eF5z+C5VBI9M8EERTRivp8vr8VRLSieKb9c0EEnwzFfD4f/AMVOokLrvop4AAAAABJRU5ErkJggg==",G={class:"grid-container"},J={class:"bodytop"},j={class:"container"},q={class:"search-container"},K={class:"Searchbox"},M={class:"tagbox"},z={id:"result",class:"tagresult"},O=["onClick"],H={key:0,class:"feedSlider"},X=["src"],$={class:"profile-container"},ee=["src"],se=["src","onClick"],te=["src","onClick"],ae=["src","onClick"],oe={__name:"SearcingTab",setup(ie){x();const f=N();E(()=>f.state.User_ID),o(!1),o(!1),o(I),o(C),o([]),o([]),o([]);const u=o([]),i=o([]),_=o("");U(async()=>{await l.get("/Feeds/searching_tab/",{withCredentials:!0}).then(e=>{const s=e.data;i.value=s}).catch(e=>{console.error("사용자 태그 가져오기 오류",e)}),p()});const w=()=>{var e=_.value.trim();e!==""&&(i.value.push(e),_.value="",console.log(`태그 추가됨: ${e}
태그 목록:
    ${JSON.stringify(i.value)}`),p())},L=e=>{var s=i.value[e];i.value.splice(e,1),console.log(`태그 삭제됨: ${s}
태그 목록: ${JSON.stringify(i.value)}`),p()},p=async()=>{console.log("태그 검색 중..."),await l.post("/Feeds/searching_tab/searchByTags",{tags:i.value},{withCredentials:!0}).then(e=>{u.value=e.data.map(s=>({...s,isLike:s.isLike??!1,isSave:s.isSave??!1}))}).catch(e=>{console.error("게시글 검색 중 오류 발생",e)})},y=e=>{e.isLike?l.post("/feeds/Like/remove",{postId:e.Post_ID},{withCredentials:!0}).then(()=>{e.isLike=!e.isLike}).catch(s=>{s.response.status===400&&console.log("좋아요 취소 실패")}):l.post("/feeds/Like/add",{postId:e.Post_ID},{withCredentials:!0}).then(()=>{e.isLike=!e.isLike}).catch(s=>{s.response.status===400&&console.log("좋아요 실패")})},T=e=>{e.isSave?l.post("/feeds/Post_Store/delete",{postId:e.Post_ID},{withCredentials:!0}).then(()=>{e.isSave=!e.isSave}).catch(s=>{s.response.status===400&&console.log("저장 취소 실패")}):l.post("/feeds/Post_Store/add",{postId:e.Post_ID},{withCredentials:!0}).then(()=>{e.isSave=!e.isSave}).catch(s=>{s.response.status===400&&console.log("저장 실패")})},b=e=>{const{Post_ID:s}=e;f.commit("Switch_isPostDM",s),console.log("메시지 버튼 클릭")};return(e,s)=>{const g=Z("router-link");return r(),n("div",G,[a("div",J,[a("div",j,[a("div",q,[a("div",K,[a("span",M,[Q(a("input",{class:"SearchTag",type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>_.value=t),onKeyup:V(w,["enter"]),placeholder:"관심있는 태그를 검색해보세요."},null,544),[[B,_.value]])]),s[1]||(s[1]=a("img",{src:Y,alt:"Search",class:"searchImg"},null,-1))])])])]),a("span",z,[(r(!0),n(k,null,S(i.value,(t,c)=>(r(),n("span",{key:c,class:"tag"},[v(m(t)+" ",1),a("button",{class:"deleteTagButton",onClick:le=>L(c)},"x",8,O)]))),128))]),u.value?(r(),n("div",H,[u.value?(r(!0),n(k,{key:0},S(u.value,t=>(r(),n("div",{class:"grid-article",key:t.Post_ID},[h(g,{to:{name:"FeedDetail",params:{Post_ID:t.Post_ID}}},{default:A(()=>[a("img",{src:t.Image_Src,alt:"",class:"Eximage"},null,8,X)]),_:2},1032,["to"]),a("ul",null,[a("li",$,[a("img",{src:t.Profile_Img,alt:"",class:"profile"},null,8,ee),h(g,{to:{name:"PersonalPage",params:{User_ID:t.User_ID}},class:"userID"},{default:A(()=>[v(m(t.User_ID),1)]),_:2},1032,["to"]),a("img",{src:t.isLike?d(F):d(I),alt:"like",class:"like",onClick:c=>y(t)},null,8,se),a("img",{src:t.isSave?d(R):d(C),alt:"save",class:"save",onClick:c=>T(t)},null,8,te),a("img",{src:d(P),alt:"message",class:"message",onClick:c=>b(t)},null,8,ae)]),a("li",null,[h(g,{to:{name:"FeedDetail",params:{Post_ID:t.Post_ID}},class:"title"},{default:A(()=>[v(m(t.Post_Title),1)]),_:2},1032,["to"])]),a("li",null,[h(g,{to:{name:"FeedDetail",params:{Post_ID:t.Post_ID}},class:"discription"},{default:A(()=>[v(m(t.Post_Caption),1)]),_:2},1032,["to"])])])]))),128)):D("",!0)])):D("",!0)])}}},_e=W(oe,[["__scopeId","data-v-7e8fb975"]]);export{_e as default};
