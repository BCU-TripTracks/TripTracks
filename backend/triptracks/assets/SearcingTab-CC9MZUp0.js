import{c as b,r as l,o as C,a as f,A as Q,e as c,f as t,w as V,m as x,n as Z,F as I,l as P,j as k,d as n,i as A,t as h,g as v,h as m,p as L,k as N,z as R,u as B,b as F}from"./index-BwUDjIj7.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAAMaSURBVEhLtZZNSzJRFMevU4ZFIRRI71i2itRWUdCmjYVEuz5AGyEieqNPENWmD+CiVZusIIIWtYkiCEUxrBYFrQrdSBgVaS/Yee453LmOOvak1g+Gc7nn5T8z986ZawAOK8Dn5yc7Pz9nfr+f3d7eslgsxj4+PlhLSwuzWq2sr6+PDQwMsNraWpHxA1BQj83NTWhsbMSb+fYymUywtLQE7+/vIvN78gSfn59hdHRUt3hbWxvY7XYwGAx5vu7ubuBvQVQpTJbg3d0dJapFKioqYHZ2Fvb39+Hh4UFEAby+vsLJyQmsrKxAfX29jK+rq4OjoyMRpY8UTCQS0NXVJZOdTidEIhHhLUw8HoexsTGZV11dDaFQSHjzkYKDg4MyaWpqCviGEZ6fsbGxIfMbGhroRvQgwZ2dHRnscDggnU6Ts1imp6dlHVwKPRgW7+jooKCqqiq4vr4WruJJpVJgs9lkrfv7e+HJwE5PT+Vdra2tienSCQaDchevrq6K2QxseXlZCiaTSTFdHj09PVTP7XaLmQzKzc0N9zFmNpsZ32E0Lpf29nayam0tyuPjIw3UoN+ANwiyam0tCvZLhC8y2d+gpqaG7NvbG1ktCv9maHB1dcW+vr5oXC4XFxdkLRYLWS2KOol/Ab13XgrhcJhsc3MzWS1Kf3+/GDLGW5kYlQ7vx+zp6YnG2toS/BSw//Eh9Pb2Ft3ScpmcnJSfWSAQELMZqLUtLi7KoLm5OXKUwt7enqzDn07MZkOC/BVQw1WDd3d3yVkMh4eHYDQaZY1Cfwz5tzg+Pqb+h8HYmmZmZqg3/gSv1wuVlZVSbGJiQnjykYLIwcGBXE+8sBGfnZ0Jbz78jAMul0vGa6+trS0RlU2WIHJ5eQmtra1ZyU1NTTA0NAQejwcWFhZgZGQEOjs7QVEUGYNnm/n5+aw8PdE8QeTl5YWOD9p1LXThMuDOjEajlIsiWn+uqK6gCq4hbqDx8XE66/AGT68cjyLDw8Owvr5OR5NcckW3t7eF5z+C5VBI9M8EERTRivp8vr8VRLSieKb9c0EEnwzFfD4f/AMVOokLrvop4AAAAABJRU5ErkJggg==",G=i=>(L("data-v-cb1d1c62"),i=i(),N(),i),j={class:"grid-container"},z={class:"bodytop"},K={class:"container"},q={class:"search-container"},J={class:"Searchbox"},M={class:"tagbox"},H=G(()=>t("img",{src:Y,alt:"Search",class:"searchImg"},null,-1)),O={id:"result",class:"tagresult"},X=["onClick"],$={key:0,class:"feedSlider"},ee=["src"],se={class:"profile-container"},te=["src"],ae={__name:"SearcingTab",setup(i){R();const T=B();b(()=>T.state.User_ID);const p=l([]),d=l([]),u=l([]),r=l([]),_=l(""),D=async()=>{try{const e=await f.get("/Feeds/Posts_list",{withCredentials:!0});d.value=e.data,await S()}catch(e){console.error("오류 발생",e)}},S=async()=>{try{const e=d.value.map(async a=>{const o=await f.get(`/posts/${a.Post_ID}/tags`);a.Tags=o.data});await Promise.all(e),g()}catch(e){console.error("태그 정보를 가져오는 중 오류 발생",e)}},g=()=>{const e=[...r.value,...p.value.User_Tag];e.length>0?u.value=d.value.filter(a=>a.Tags&&a.Tags.length>0&&e.some(s=>a.Tags.includes(s)||a.Post_Title.includes(s)||a.Post_Caption.includes(s))):u.value=d.value};C(async()=>{await y(),await D()});const y=async()=>{try{const e=await f.get("/profile/profile_load",{withCredentials:!0});p.value=e.data,r.value=p.value.User_Tag}catch(e){console.error("프로필 정보를 가져오는 중 오류 발생",e)}},E=()=>{const e=_.value.trim();e&&(r.value.push(e),_.value="",g())},U=e=>{r.value.splice(e,1),g()};return Q(r,g,{deep:!0}),(e,a)=>{const o=F("router-link");return n(),c("div",j,[t("div",z,[t("div",K,[t("div",q,[t("div",J,[t("span",M,[V(t("input",{class:"SearchTag",type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>_.value=s),onKeyup:Z(E,["enter"]),placeholder:"관심있는 태그를 검색해보세요."},null,544),[[x,_.value]])]),H])])])]),t("span",O,[(n(!0),c(I,null,P(r.value,(s,w)=>(n(),c("span",{key:w,class:"tag"},[A(h(s)+" ",1),t("button",{class:"deleteTagButton",onClick:oe=>U(w)},"x",8,X)]))),128))]),u.value.length>0?(n(),c("div",$,[(n(!0),c(I,null,P(u.value,s=>(n(),c("div",{class:"grid-article",key:s.Post_ID},[v(o,{to:{name:"FeedDetail",params:{Post_ID:s.Post_ID}}},{default:m(()=>[t("img",{src:s.Image_Src,alt:"",class:"Eximage"},null,8,ee)]),_:2},1032,["to"]),t("ul",null,[t("li",se,[t("img",{src:s.Profile_Img,alt:"",class:"profile"},null,8,te),v(o,{to:{name:"PersonalPage",params:{User_ID:s.User_ID}},class:"userID"},{default:m(()=>[A(h(s.User_ID),1)]),_:2},1032,["to"])]),t("li",null,[v(o,{to:{name:"FeedDetail",params:{Post_ID:s.Post_ID}},class:"title"},{default:m(()=>[A(h(s.Post_Title),1)]),_:2},1032,["to"])]),t("li",null,[v(o,{to:{name:"FeedDetail",params:{Post_ID:s.Post_ID}},class:"discription"},{default:m(()=>[A(h(s.Post_Caption),1)]),_:2},1032,["to"])])])]))),128))])):k("",!0)])}}},ne=W(ae,[["__scopeId","data-v-cb1d1c62"]]);export{ne as default};
