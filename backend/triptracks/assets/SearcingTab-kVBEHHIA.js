import{r as l,c as E,o as U,a as g,e as n,f as s,w as Q,m as B,n as N,F as I,l as D,j as w,d as i,i as v,t as m,g as h,h as A,y as k,p as V,k as Z,z as x,u as F,b as P}from"./index-CXkyRgCv.js";import{l as R,s as W}from"./like-Cq13m2ZL.js";import{m as Y,s as G}from"./saveed-DRyjRmH-.js";import{l as J}from"./likeed-BS52KISc.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAAMaSURBVEhLtZZNSzJRFMevU4ZFIRRI71i2itRWUdCmjYVEuz5AGyEieqNPENWmD+CiVZusIIIWtYkiCEUxrBYFrQrdSBgVaS/Yee453LmOOvak1g+Gc7nn5T8z986ZawAOK8Dn5yc7Pz9nfr+f3d7eslgsxj4+PlhLSwuzWq2sr6+PDQwMsNraWpHxA1BQj83NTWhsbMSb+fYymUywtLQE7+/vIvN78gSfn59hdHRUt3hbWxvY7XYwGAx5vu7ubuBvQVQpTJbg3d0dJapFKioqYHZ2Fvb39+Hh4UFEAby+vsLJyQmsrKxAfX29jK+rq4OjoyMRpY8UTCQS0NXVJZOdTidEIhHhLUw8HoexsTGZV11dDaFQSHjzkYKDg4MyaWpqCviGEZ6fsbGxIfMbGhroRvQgwZ2dHRnscDggnU6Ts1imp6dlHVwKPRgW7+jooKCqqiq4vr4WruJJpVJgs9lkrfv7e+HJwE5PT+Vdra2tienSCQaDchevrq6K2QxseXlZCiaTSTFdHj09PVTP7XaLmQzKzc0N9zFmNpsZ32E0Lpf29nayam0tyuPjIw3UoN+ANwiyam0tCvZLhC8y2d+gpqaG7NvbG1ktCv9maHB1dcW+vr5oXC4XFxdkLRYLWS2KOol/Ab13XgrhcJhsc3MzWS1Kf3+/GDLGW5kYlQ7vx+zp6YnG2toS/BSw//Eh9Pb2Ft3ScpmcnJSfWSAQELMZqLUtLi7KoLm5OXKUwt7enqzDn07MZkOC/BVQw1WDd3d3yVkMh4eHYDQaZY1Cfwz5tzg+Pqb+h8HYmmZmZqg3/gSv1wuVlZVSbGJiQnjykYLIwcGBXE+8sBGfnZ0Jbz78jAMul0vGa6+trS0RlU2WIHJ5eQmtra1ZyU1NTTA0NAQejwcWFhZgZGQEOjs7QVEUGYNnm/n5+aw8PdE8QeTl5YWOD9p1LXThMuDOjEajlIsiWn+uqK6gCq4hbqDx8XE66/AGT68cjyLDw8Owvr5OR5NcckW3t7eF5z+C5VBI9M8EERTRivp8vr8VRLSieKb9c0EEnwzFfD4f/AMVOokLrvop4AAAAABJRU5ErkJggg==",K=r=>(V("data-v-b80f570d"),r=r(),Z(),r),M={class:"grid-container"},O={class:"bodytop"},q={class:"container"},H={class:"search-container"},X={class:"Searchbox"},$={class:"tagbox"},ee=K(()=>s("img",{src:z,alt:"Search",class:"searchImg"},null,-1)),se={id:"result",class:"tagresult"},ae=["onClick"],te={key:0,class:"feedSlider"},oe=["src"],le={class:"profile-container"},ne=["src"],ie=["src","onClick"],ce=["src"],re=["src","onClick"],de={__name:"SearcingTab",setup(r){l(!1);const p=l(!1);x();const S=F();E(()=>S.state.User_ID),l([]),l([]),l([]);const C=async e=>{console.log(e);const{Post_ID:t}=e;S.commit("Switch_isPostDM",t),console.log("메세지버튼클릭")},y=e=>{e.isLike?g.post("/feeds/Like/remove",{postId:e.Post_ID},{withCredentials:!0}).then(t=>{e.isLike=!e.isLike}).catch(t=>{t.response.status==400}):g.post("/feeds/Like/add",{postId:e.Post_ID},{withCredentials:!0}).then(t=>{e.isLike=!e.isLike}).catch(t=>{t.response.status==400})},L=()=>{p.value=!p.value,saveImage.value=p.value?G:W},c=l([]),o=l([]),d=l("");U(async()=>{await g.get("/Feeds/searching_tab/",{withCredentials:!0}).then(e=>{const t=e.data;o.value=t}).catch(e=>{console.error("사용자 태그 가져오기 오류",e)}),f()});const b=()=>{var e=d.value.trim();e!==""&&(o.value.push(e),d.value="",console.log(`태그 추가됨: ${e}
태그 목록:
    ${JSON.stringify(o.value)}`),f())},T=e=>{var t=o.value[e];o.value.splice(e,1),console.log(`태그 삭제됨: ${t}
태그 목록: ${JSON.stringify(o.value)}`),f()},f=async()=>{console.log("태그 검색 중..."),await g.post("/Feeds/searching_tab/searchByTags",{tags:o.value},{withCredentials:!0}).then(e=>{c.value=e.data,console.log(JSON.stringify(c.value))}).catch(e=>{console.error("게시글 검색 중 오류 발생",e)})};return(e,t)=>{const u=P("router-link");return i(),n("div",M,[s("div",O,[s("div",q,[s("div",H,[s("div",X,[s("span",$,[Q(s("input",{class:"SearchTag",type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),onKeyup:N(b,["enter"]),placeholder:"관심있는 태그를 검색해보세요."},null,544),[[B,d.value]])]),ee])])])]),s("span",se,[(i(!0),n(I,null,D(o.value,(a,_)=>(i(),n("span",{key:_,class:"tag"},[v(m(a)+" ",1),s("button",{class:"deleteTagButton",onClick:ue=>T(_)},"x",8,ae)]))),128))]),c.value?(i(),n("div",te,[c.value?(i(!0),n(I,{key:0},D(c.value,a=>(i(),n("div",{class:"grid-article",key:a.Post_ID},[h(u,{to:{name:"FeedDetail",params:{Post_ID:a.Post_ID}}},{default:A(()=>[s("img",{src:a.Image_Src,alt:"",class:"Eximage"},null,8,oe)]),_:2},1032,["to"]),s("ul",null,[s("li",le,[s("img",{src:a.Profile_Img,alt:"",class:"profile"},null,8,ne),h(u,{to:{name:"PersonalPage",params:{User_ID:a.User_ID}},class:"userID"},{default:A(()=>[v(m(a.User_ID),1)]),_:2},1032,["to"]),s("img",{src:a.isLike?k(J):k(R),alt:"",class:"like",onClick:_=>y(a)},null,8,ie),s("img",{src:e.saveImage,alt:"",class:"save",onClick:L},null,8,ce),s("img",{src:k(Y),alt:"",class:"message",onClick:_=>C(a)},null,8,re)]),s("li",null,[h(u,{to:{name:"FeedDetail",params:{Post_ID:a.Post_ID}},class:"title"},{default:A(()=>[v(m(a.Post_Title),1)]),_:2},1032,["to"])]),s("li",null,[h(u,{to:{name:"FeedDetail",params:{Post_ID:a.Post_ID}},class:"discription"},{default:A(()=>[v(m(a.Post_Caption),1)]),_:2},1032,["to"])])])]))),128)):w("",!0)])):w("",!0)])}}},Ae=j(de,[["__scopeId","data-v-b80f570d"]]);export{Ae as default};
