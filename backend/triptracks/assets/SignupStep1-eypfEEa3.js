import{u as w,g as o,m as k,c as i,w as m,v as p,b as r,q as v,s as E,o as d}from"./index-BVVAyT9k.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"Infobox"},x={key:0},y={key:1},A={key:2},C={__name:"SignupStep1",setup(N){const f=w(),l=o(""),u=o(""),n=o(""),c=o(""),t=o({EmailFormat:!0,EmailAlread:!0});k(l,s=>{if(l.value=="")return t.value={EmailAlread:!0,EmailFormat:!0};/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?(t.value.EmailFormat=!0,E.post("/users/check_email",{user_Email:l.value}).then(a=>{const{success:_}=a.data;_==!0&&(t.value.EmailAlread=!0)}).catch(a=>{a.response.data.err_Code=="EmailAlreadyExists"&&(t.value.EmailAlread=!1)})):t.value.EmailFormat=!1});const h=()=>{if(u.value!==n.value)return console.log("비밀번호 불일치");if(!t.value.EmailAlread||!t.value.EmailFormat)return console("이메일 인증 문제");E.post("/users/signup",{user_Email:l.value,user_Passwd:u.value,user_Name:c.value}).then(s=>{const e=s.data;if(console.log(e),e.message==="success")return localStorage.setItem("user_Email",l.value),f.push({name:"Step2"})}).catch(s=>{console.log(s)})};return(s,e)=>(d(),i("div",P,[m(r("input",{class:"Email",type:"email",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a)},null,512),[[p,l.value]]),t.value.EmailFormat?v("",!0):(d(),i("p",x,"이메일 형식이 아닙니다.")),t.value.EmailAlread?v("",!0):(d(),i("p",y,"중복된 이메일 입니다.")),m(r("input",{class:"Passwd mt20",type:"pwd",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a)},null,512),[[p,u.value]]),m(r("input",{class:"PasswdCh mb20",type:"pwdcheck",placeholder:"Password Check","onUpdate:modelValue":e[2]||(e[2]=a=>n.value=a)},null,512),[[p,n.value]]),u.value!=n.value?(d(),i("p",A,"비밀번호가 일치하지 않습니다.")):v("",!0),m(r("input",{class:"Name mb20",type:"name",placeholder:"Name","onUpdate:modelValue":e[3]||(e[3]=a=>c.value=a)},null,512),[[p,c.value]]),r("button",{onClick:e[4]||(e[4]=a=>h())},"Next Level")]))}},V=g(C,[["__scopeId","data-v-54d1677a"]]);export{V as default};
