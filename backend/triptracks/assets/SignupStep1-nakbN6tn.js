import{n as k,g as o,y as w,o as i,c as m,i as p,v as d,a as r,h as v,l as E}from"./index-CHDl9ihJ.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={class:"Infobox"},P={key:0},x={key:1},A={key:2},C={__name:"SignupStep1",setup(N){const f=k(),t=o(""),u=o(""),n=o(""),c=o(""),l=o({EmailFormat:!0,EmailAlread:!0});w(t,s=>{if(t.value=="")return l.value={EmailAlread:!0,EmailFormat:!0};/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?(l.value.EmailFormat=!0,E.post("/users/check_email",{user_Email:t.value}).then(a=>{const{success:_}=a.data;_==!0&&(l.value.EmailAlread=!0)}).catch(a=>{a.response.data.err_Code=="EmailAlreadyExists"&&(l.value.EmailAlread=!1)})):l.value.EmailFormat=!1});const h=()=>{if(u.value!==n.value)return console.log("비밀번호 불일치");if(!l.value.EmailAlread||!l.value.EmailFormat)return console("이메일 인증 문제");E.post("/users/signup",{user_Email:t.value,user_Passwd:u.value,user_Name:c.value}).then(s=>{const e=s.data;if(console.log(e),e.message==="success")return localStorage.setItem("user_Email",t.value),f.push({name:"Step2"})}).catch(s=>{console.log(s)})};return(s,e)=>(i(),m("div",y,[p(r("input",{class:"Email",type:"email",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a)},null,512),[[d,t.value]]),l.value.EmailFormat?v("",!0):(i(),m("p",P,"이메일 형식이 아닙니다.")),l.value.EmailAlread?v("",!0):(i(),m("p",x,"중복된 이메일 입니다.")),p(r("input",{class:"Passwd mt20",type:"pwd",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a)},null,512),[[d,u.value]]),p(r("input",{class:"PasswdCh mb20",type:"pwdcheck",placeholder:"Password Check","onUpdate:modelValue":e[2]||(e[2]=a=>n.value=a)},null,512),[[d,n.value]]),u.value!=n.value?(i(),m("p",A,"비밀번호가 일치하지 않습니다.")):v("",!0),p(r("input",{class:"Name mb20",type:"name",placeholder:"Name","onUpdate:modelValue":e[3]||(e[3]=a=>c.value=a)},null,512),[[d,c.value]]),r("button",{onClick:e[4]||(e[4]=a=>h())},"Next Level")]))}},V=g(C,[["__scopeId","data-v-54d1677a"]]);export{V as default};
