import{r,o as h,a as m,e as i,f as t,F as k,k as x,w as p,m as g,n as P,g as _,h as v,b as E,d as u,t as U,i as f,u as I}from"./index-HUFp0Dkx.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={class:"container"},B={class:"postBox"},C={class:"postSlider"},H=["src"],N={class:"loginBox"},b={class:"bottom"},D={__name:"UserLogin",setup(M){const w=I(),a=r(""),l=r(""),d=()=>{if(localStorage.setItem("User_Email",a.value),localStorage.setItem("User_Pwd",l.value),!a||!l)return console.log("아이디 및 비밀번호 입력 필요합니다.");m.post("/users/login",{user_Email:a.value,user_Passwd:l.value},{withCredentials:!0}).then(o=>{console.log(o.data),w.dispatch("checkSession")}).catch(o=>{const{success:e,err_Code:n}=o.response.data;if(!e||n==="DisabledAccount")return console.log("비활성 계정입니다");if(!e||n==="PasswordDoesNotMatch")return console.log("비밀번호가 틀렸습니다");if(!e||n==="EmailDoesNotExist")return console.log("이메일이 존재하지 않습니다")})},S=()=>Math.floor(Math.random()*71+80)+"%";r(Array(20).fill("").map(()=>S()));const c=r([]);return h(()=>{localStorage.getItem("User_Email")&&(a.value=localStorage.getItem("User_Email")),localStorage.getItem("User_Pwd")&&(l.value=localStorage.getItem("User_Pwd")),m.get("/users/Top_Post").then(o=>{const{TopPosts:e}=o.data;c.value=e})}),(o,e)=>{const n=E("router-link");return u(),i("div",y,[t("div",B,[t("div",C,[(u(!0),i(k,null,x(c.value,s=>(u(),i("div",{class:"feedBox",key:s},[t("img",{src:s.Image_Src,alt:""},null,8,H),t("p",null,[t("span",null,U(s.Post_Caption),1)])]))),128)),e[4]||(e[4]=t("h3",{style:{color:"white"}},"당신도 TripTracks에서 함께하세요",-1))])]),t("div",N,[e[7]||(e[7]=t("h1",{class:"appName"},"TripTracks",-1)),p(t("input",{class:"Email",type:"email",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s)},null,512),[[g,a.value]]),p(t("input",{onKeyup:e[1]||(e[1]=P(s=>d(),["enter"])),class:"Passwd",type:"password",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=s=>l.value=s)},null,544),[[g,l.value]]),t("button",{onClick:e[3]||(e[3]=s=>d()),class:"Signin-button"},"Sign in"),t("div",b,[_(n,{class:"links",to:{name:"HomeFeed"}},{default:v(()=>e[5]||(e[5]=[f("Forgot password?")])),_:1}),_(n,{class:"links",to:{name:"Step1"}},{default:v(()=>e[6]||(e[6]=[f("Sign up")])),_:1})])])])}}},L=T(D,[["__scopeId","data-v-efef6180"]]);export{L as default};
