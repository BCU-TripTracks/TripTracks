import{u as y,h as c,y as D,m as g,o as a,a as o,b as s,F as _,g as u,t as i,i as v,j as C,v as U,k as $,s as w,p as N,f as M}from"./index-D6ZJYEmJ.js";import{s as S}from"./message.vue_vue_type_style_index_0_scoped_e99b3054_lang-CQMzb1x0.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P="/assets/ProfileImage2-DAt-H7rB.png",B="/assets/ProfileImage3-kxNyjHTU.png",d=m=>(N("data-v-e99b3054"),m=m(),M(),m),R={class:"messagecontainer"},V={class:"chatmenu"},q={class:"chatcontainer"},j={key:0},A=["src"],F={class:"chatroom"},H={class:"userID"},K={class:"userID"},L=d(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),E={key:1,class:"chatroom"},J=w('<div class="roomname" data-v-e99b3054><span data-v-e99b3054><img src="'+P+'" alt="" class="profile" data-v-e99b3054></span><div class="commentdetail" data-v-e99b3054><div data-v-e99b3054><span class="userID" data-v-e99b3054>Juuho.0</span></div><div class="sub" data-v-e99b3054><span class="uesrname" data-v-e99b3054>오준호</span></div></div></div>',1),z={class:"conversation"},G=d(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),O=d(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),Q={class:"commentdetail"},W={class:"me"},X={class:"mychat"},Y={class:"textcontainer"},Z={key:2},ss=d(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),es=["onClick"],ts=["src"],as={class:"chatroom"},os={class:"userID"},ns={class:"sub"},ls={class:"username"},cs={key:3},is=d(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),ds=["onClick"],rs=["src"],_s={class:"userlistbox"},us={class:"userID"},vs={class:"sub"},ms={class:"username"},ps={key:4},hs={class:"chatbox"},gs=d(()=>s("span",null,[s("img",{src:B,alt:"",class:"profile"})],-1)),fs=d(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),bs=[gs,fs],xs={__name:"message",setup(m){y();const l=c("messages");c("message");const r=c(""),f=c([]),b=c([]),x=c([]),h=c([]),I=()=>{f.value.push(r.value),S.emit("sendComment",r.value),r.value=""};D(()=>{g.get("/dms/followList").then(n=>{if(console.log(n.data),!n.data.success)return console.log(`${n.data.msg}`);const{userInfoMap:e}=n.data;b.value=e.follower,x.value=e.following}).catch(n=>{console.log(n)}),g.get("/dms/dmRooms").then(n=>{console.log(n.data);const{Rooms:e}=n.data;h.value=e}).catch(n=>{console.log(n)})});const k=n=>{g.post("/dms/createDM",{targetID:n}).then(e=>{if(console.log(e.data),!e.data.success)return console.log(`${e.data.msg}`);h.value=e.data.Rooms}).catch(e=>{console.log(e)})};return(n,e)=>(a(),o("div",R,[s("div",V,[s("span",{class:"messagebox",onClick:e[0]||(e[0]=t=>l.value="messages")},"메시지함"),s("span",{class:"follow",onClick:e[1]||(e[1]=t=>l.value="follow")},"팔로우"),s("span",{class:"following",onClick:e[2]||(e[2]=t=>l.value="following")},"팔로잉"),s("span",{class:"request",onClick:e[3]||(e[3]=t=>l.value="request")},"요청")]),s("div",q,[l.value==="messages"?(a(),o("div",j,[(a(!0),o(_,null,u(h.value,t=>(a(),o("div",{class:"chatbox",onClick:e[4]||(e[4]=p=>l.value="message")},[s("span",null,[s("img",{src:t.Target_User.Profile_Img,alt:"",class:"profile"},null,8,A)]),s("div",F,[s("div",null,[s("span",H,i(t.Target_User.User_ID),1),s("span",K,i(t.Target_User.User_Name),1)]),L])]))),256))])):v("",!0),l.value==="message"?(a(),o("div",E,[J,s("div",z,[G,O,(a(!0),o(_,null,u(f.value,(t,p)=>(a(),o("div",{key:p,class:"commentbox"},[s("div",Q,[s("div",W,[s("span",X,i(t),1)])])]))),128))]),s("div",Y,[C(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":e[5]||(e[5]=t=>r.value=t),onKeyup:$(I,["enter"])},null,544),[[U,r.value]]),s("button",{class:"send",onClick:I},"보내기")])])):v("",!0),l.value==="follow"?(a(),o("div",Z,[ss,(a(!0),o(_,null,u(b.value,t=>(a(),o("div",{class:"chatbox",onClick:p=>k(t.User_ID)},[s("span",null,[s("img",{src:t.Profile_Img,alt:"",class:"profile"},null,8,ts)]),s("div",as,[s("div",null,[s("span",os,i(t.User_ID),1)]),s("div",ns,[s("span",ls,i(t.User_Name),1)])])],8,es))),256))])):v("",!0),l.value==="following"?(a(),o("div",cs,[is,(a(!0),o(_,null,u(x.value,t=>(a(),o("div",{class:"chatbox",onClick:p=>k(t.User_ID)},[s("span",null,[s("img",{src:t.Profile_Img,alt:"",class:"profile"},null,8,rs)]),s("div",_s,[s("div",null,[s("span",us,i(t.User_ID),1)]),s("div",vs,[s("span",ms,i(t.User_Name),1)])])],8,ds))),256))])):v("",!0),l.value==="request"?(a(),o("div",ps,[(a(!0),o(_,null,u(Array(6),t=>(a(),o("div",hs,bs))),256))])):v("",!0)])]))}},Ds=T(xs,[["__scopeId","data-v-e99b3054"]]);export{P as _,Ds as m};
