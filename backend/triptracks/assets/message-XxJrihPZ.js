import{u as y,i as c,z as D,f as g,o,a as n,b as s,F as v,h as m,t as r,j as u,k as w,v as C,l as U,y as $,A as M,p as N,g as S}from"./index-aZut90aN.js";/* empty css                                                                */import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B="/assets/ProfileImage2-DAt-H7rB.png",P="/assets/ProfileImage3-kxNyjHTU.png",i=_=>(N("data-v-ab10c39a"),_=_(),S(),_),R={class:"messagecontainer"},V={class:"chatmenu"},q={class:"chatcontainer"},A={key:0},j=["src"],F={class:"chatroom"},H={class:"userID"},K={class:"userID"},L=i(()=>s("div",{class:"sub"},[s("span",{class:"chatcontent"},"뷰 너무 어렵습니다.")],-1)),z={key:1,class:"chatroom"},E=$('<div class="roomname" data-v-ab10c39a><span data-v-ab10c39a><img src="'+B+'" alt="" class="profile" data-v-ab10c39a></span><div class="commentdetail" data-v-ab10c39a><div data-v-ab10c39a><span class="userID" data-v-ab10c39a>Juuho.0</span></div><div class="sub" data-v-ab10c39a><span class="uesrname" data-v-ab10c39a>오준호</span></div></div></div>',1),J={class:"conversation"},G=i(()=>s("div",{class:"friend"},[s("span",{class:"friendchat"},"진짜 쉬워")],-1)),O=i(()=>s("div",{class:"me"},[s("span",{class:"mychat"},"뷰 너무 어렵습니다.")],-1)),Q={class:"commentdetail"},W={class:"me"},X={class:"mychat"},Y={class:"textcontainer"},Z={key:2},ss={key:3},es=i(()=>s("div",{class:"searchbox"},[s("input",{type:"text",class:"search",placeholder:" 친구를 찾아보세요."})],-1)),as=["onClick"],ts=["src"],os={class:"userlistbox"},ns={class:"userID"},ls={class:"sub"},cs={class:"username"},is={key:4},ds={class:"chatbox"},rs=i(()=>s("span",null,[s("img",{src:P,alt:"",class:"profile"})],-1)),us=i(()=>s("div",{class:"userlistbox"},[s("div",null,[s("span",{class:"userID"},"mxoxxo"),s("span",null," 님이 메시지를 요청하였습니다.")])],-1)),_s=[rs,us],vs={__name:"message",setup(_){y();const l=c("messages");c("message");const d=c(""),f=c([]),k=c([]),b=c([]),p=c([]),x=()=>{f.value.push(d.value),M.emit("sendComment",d.value),d.value=""};D(()=>{g.get("/dms/followList").then(t=>{if(console.log(t.data),!t.data.success)return console.log(`${t.data.msg}`);const{userInfoMap:e}=t.data;k.value=e.follower,b.value=e.following}).catch(t=>{console.log(t)}),g.get("/dms/dmRooms").then(t=>{console.log(t.data);const{Rooms:e}=t.data;p.value=e}).catch(t=>{console.log(t)})});const I=t=>{g.post("/dms/createDM",{targetID:t}).then(e=>{if(console.log(e.data),!e.data.success)return console.log(`${e.data.msg}`);p.value=e.data.Rooms}).catch(e=>{console.log(e)})};return(t,e)=>(o(),n("div",R,[s("div",V,[s("span",{class:"messagebox",onClick:e[0]||(e[0]=a=>l.value="messages")},"메시지함"),s("span",{class:"follow",onClick:e[1]||(e[1]=a=>l.value="follow")},"팔로우"),s("span",{class:"following",onClick:e[2]||(e[2]=a=>l.value="following")},"팔로잉"),s("span",{class:"request",onClick:e[3]||(e[3]=a=>l.value="request")},"요청")]),s("div",q,[l.value==="messages"?(o(),n("div",A,[(o(!0),n(v,null,m(p.value,a=>(o(),n("div",{class:"chatbox",onClick:e[4]||(e[4]=h=>l.value="message")},[s("span",null,[s("img",{src:a.Target_User.Profile_Img,alt:"",class:"profile"},null,8,j)]),s("div",F,[s("div",null,[s("span",H,r(a.Target_User.User_ID),1),s("span",K,r(a.Target_User.User_Name),1)]),L])]))),256))])):u("",!0),l.value==="message"?(o(),n("div",z,[E,s("div",J,[G,O,(o(!0),n(v,null,m(f.value,(a,h)=>(o(),n("div",{key:h,class:"commentbox"},[s("div",Q,[s("div",W,[s("span",X,r(a),1)])])]))),128))]),s("div",Y,[w(s("input",{class:"text",type:"text",placeholder:"채팅을 입력하세요","onUpdate:modelValue":e[5]||(e[5]=a=>d.value=a),onKeyup:U(x,["enter"])},null,544),[[C,d.value]]),s("button",{class:"send",onClick:x},"보내기")])])):u("",!0),l.value==="follow"?(o(),n("div",Z)):u("",!0),l.value==="following"?(o(),n("div",ss,[es,(o(!0),n(v,null,m(b.value,a=>(o(),n("div",{class:"chatbox",onClick:h=>I(a.User_ID)},[s("span",null,[s("img",{src:a.Profile_Img,alt:"",class:"profile"},null,8,ts)]),s("div",os,[s("div",null,[s("span",ns,r(a.User_ID),1)]),s("div",ls,[s("span",cs,r(a.User_Name),1)])])],8,as))),256))])):u("",!0),l.value==="request"?(o(),n("div",is,[(o(!0),n(v,null,m(Array(6),a=>(o(),n("div",ds,_s))),256))])):u("",!0)])]))}},gs=T(vs,[["__scopeId","data-v-ab10c39a"]]);export{B as _,gs as m};
