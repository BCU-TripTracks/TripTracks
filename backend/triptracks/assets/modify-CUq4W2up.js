import{c as L,r as o,d as a,e as n,f as e,l as p,t as I,w as x,m as y,i as w,n as W,F as K,k as N,x as $,a as A,p as P,j as R,u as j}from"./index-By30rEyO.js";import{_ as z}from"./ProfileImage-DDAmAK24.js";import{_ as T}from"./dropdown-DFkPxgV_.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const i=c=>(P("data-v-eaa188ea"),c=c(),R(),c),M={class:"writepot"},q={class:"writecontainer"},G=i(()=>e("span",{class:"newarticle"},"새 게시물 작성",-1)),H={class:"articlebox"},J={class:"photobox"},O={key:0,for:"chooseFile",class:"selectphoto"},Q={key:1,class:"photobox"},X=["src"],Y={class:"commentbox"},Z={class:"userinfo"},ee=i(()=>e("span",null,[e("img",{src:z,alt:"",class:"profile"})],-1)),te={class:"userid"},se={class:"articlecomment"},oe=i(()=>e("img",{src:T,alt:"",class:"down-icon"},null,-1)),le={key:0,class:"tagbox"},ae={id:"result",class:"tagresult"},ne=["onClick"],ie=i(()=>e("img",{src:T,alt:"",class:"down-icon"},null,-1)),ce={key:1,class:"locatebox"},de=i(()=>e("div",{id:"map"},null,-1)),ue=[de],re={class:"buttonzone"},pe={__name:"modify",setup(c){const _=j(),F=L(()=>_.state.User_ID),d=o(""),u=o([]);o(null);const r=o(""),v=o(""),m=o(""),b=o(null),h=o(null),B=()=>{u.value.push(d.value),d.value=""};function k(l){const t=l.target.files[0];if(h.value=b.value.files[0],t&&t.type.startsWith("image")){const s=new FileReader;s.onload=()=>{r.value=s.result},s.readAsDataURL(t)}else alert("이미지 파일을 선택해주세요.")}const S=()=>{console.log(h.value),A.post("/Feeds/Post_Save",{Title:v.value,comment:m.value,tag:u.value,image:h.value},{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(l=>{l.status==200&&_.commit("Switch_isWrite"),console.log(l)}).catch(l=>{console.log("오류발생"),console.log(l)})},U=l=>{u.value.splice(l,1)},g=o(!1),f=o(!1),V=()=>{g.value=!g.value},D=()=>{f.value=!f.value};return(l,t)=>(a(),n("div",M,[e("div",q,[G,e("div",H,[e("div",J,[r.value?p("",!0):(a(),n("label",O," 👉 CLICK 👈 ")),e("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},ref_key:"Input_Img",ref:b,onChange:k},null,544),r.value?(a(),n("div",Q,[e("div",null,[e("img",{src:r.value,alt:"Image preview",style:{width:"500px",height:"580px"}},null,8,X)])])):p("",!0)]),e("div",Y,[e("div",Z,[ee,e("span",te,I(F.value),1)]),e("div",null,[e("span",null,[x(e("input",{class:"Title",type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),placeholder:"제목을 입력하세요."},null,512),[[y,v.value]])])]),e("div",se,[x(e("textarea",{class:"Content",type:"text",placeholder:"글내용을 입력하세요.","onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s)},null,512),[[y,m.value]]),e("button",{class:"dropdown-button",onClick:V},[w(" add tag"),oe]),g.value?(a(),n("div",le,[x(e("input",{class:"inputtag",type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>d.value=s),onKeyup:W(B,["enter"]),placeholder:"이 곳에서 Tag를 추가해보세요."},null,544),[[y,d.value]]),e("div",ae,[(a(!0),n(K,null,N(u.value,(s,C)=>(a(),n("span",{key:C,class:"tag"},[w(I(s)+" ",1),e("button",{class:"deleteTagButton",onClick:_e=>U(C)}," x ",8,ne)]))),128))])])):p("",!0),e("button",{class:"dropdown-button",onClick:D},[w(" add location"),ie]),f.value?(a(),n("div",ce,ue)):p("",!0),e("div",re,[e("input",{type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",class:"inputphoto",style:{display:"none"},onChange:k},null,32),e("button",{class:"complete",onClick:t[3]||(t[3]=s=>S())},"완료")])])])])]),e("div",{class:"blur",onClick:t[4]||(t[4]=s=>$(_).commit("Switch_isWrite"))})]))}},fe=E(pe,[["__scopeId","data-v-eaa188ea"]]);export{fe as default};
