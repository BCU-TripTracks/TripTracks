import{E as $t,G as Gt,c as On,r as ne,y as Qe,o as kn,e as je,f as k,w as zt,m as Nt,F as Mt,k as Ft,n as Rn,a as jt,d as xe,z as _n,t as et,g as An,h as Vt,p as Pn,i as Bn,q as Ht,x as In,u as Tn,C as Ln}from"./index-DcFli-HX.js";import{c as zn}from"./_commonjsHelpers-CZnAS8i4.js";import{_ as Nn}from"./_plugin-vue_export-helper-DlAUqK2U.js";var tt={exports:{}};(function(A,N){(function(B,h){h(N)})(zn,function(B){var h,F,M="smooth-dnd-container-instance",I="smooth-dnd-draggable-wrapper",oe="animated",J="__smooth_dnd_draggable_translation_value",q="__smooth_dnd_draggable_visibility_value",$="smooth-dnd-ghost",z="smooth-dnd-container",j="smooth-dnd-extra-size-for-insertion",ae="smooth-dnd-stretcher-element",T="smooth-dnd-stretcher-instance",V="smooth-dnd-disable-touch-action",re="smooth-dnd-no-user-select",De="smooth-dnd-prevent-auto-scroll-class",ue="smooth-dnd-drop-preview-default-class",ce="smooth-dnd-drop-preview-inner-class",Q="smooth-dnd-drop-preview-constant-class",de="smooth-dnd-drop-preview-flex-container-class",Ve=Object.freeze({containerInstance:M,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:I,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:oe,translationValue:J,visibilityValue:q,ghostClass:$,containerClass:z,extraSizeForInsertion:j,stretcherElementClass:ae,stretcherElementInstance:T,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:V,noUserSelectClass:re,preventAutoScrollClass:De,dropPlaceholderDefaultClass:ue,dropPlaceholderInnerClass:ce,dropPlaceholderWrapperClass:Q,dropPlaceholderFlexContainerClass:de}),ee={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function fe(e){return(fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){return function(t){if(Array.isArray(t)){for(var n=0,o=new Array(t.length);n<t.length;n++)o[n]=t[n];return o}}(e)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(F=h||(h={})).x="x",F.y="y",F.xy="xy";function g(e,t,n){return n==="x"?{left:Math.max(e.left,t.left),top:e.top,right:Math.min(e.right,t.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,t.top),right:e.right,bottom:Math.min(e.bottom,t.bottom)}}function w(e){var t=window.getComputedStyle(e),n=t.overflow;if(n==="auto"||n==="scroll")return h.xy;var o=t["overflow-x"],a=o==="auto"||o==="scroll",i=t["overflow-y"],u=i==="auto"||i==="scroll";return a&&u?h.xy:a?h.x:u?h.y:null}function E(e,t){var n=window.getComputedStyle(e),o=n.overflow,a=n["overflow-".concat(t)];return o==="auto"||o==="scroll"||a==="auto"||a==="scroll"}var S=function(e,t){return{left:Math.max(e.left,t.left),top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom)}},O=function(e){var t=e.getBoundingClientRect(),n={left:t.left,right:t.right,top:t.top,bottom:t.bottom};if(G(e,"x")&&!D(e,"x")){var o=n.right-n.left;n.right=n.right+e.scrollWidth-o}if(G(e,"y")&&!D(e,"y")){var a=n.bottom-n.top;n.bottom=n.bottom+e.scrollHeight-a}return n},D=function(e,t){var n=window.getComputedStyle(e),o=n.overflow,a=n["overflow-".concat(t)];return o==="auto"||o==="scroll"||o==="hidden"||a==="auto"||a==="scroll"||a==="hidden"},G=function(e,t){return t==="x"?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},Se=function(e,t){var n=e,o=t||O(e);for(n=e.parentElement;n;)G(n,"x")&&D(n,"x")&&(o=g(o,n.getBoundingClientRect(),"x")),G(n,"y")&&D(n,"y")&&(o=g(o,n.getBoundingClientRect(),"y")),n=n.parentElement;return o},qt=function(e,t){for(var n=e;n;){if(n[M]){var o=function(){var a=n[M];if(t.some(function(i){return i===a}))return{v:a}}();if(fe(o)==="object")return o.v}n=n.parentElement}return null},ge=function(e,t){for(var n=e;n;){if(n.matches(t))return n;n=n.parentElement}return null},He=function(e,t){return-1<e.className.split(" ").map(function(n){return n}).indexOf(t)},Y=function(e,t){if(e){var n=e.className.split(" ").filter(function(o){return o});n.indexOf(t)===-1&&(n.unshift(t),e.className=n.join(" "))}},Oe=function(e,t){if(e){var n=e.className.split(" ").filter(function(o){return o&&o!==t});e.className=n.join(" ")}},Ut=function(e,t){return e.removeChild(e.children[t])},Kt=function(e,t,n){n>=e.children.length?e.appendChild(t):e.insertBefore(t,e.children[n])},Zt=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},nt=function(e){if(e){var t=window.getComputedStyle(e);if(t)return t.cursor}return null};function Xe(e){return!(e.bottom<=e.top||e.right<=e.left)}function ot(e){var t=e.element,n=e.draggables;return function(o,a){var i=o,u=i.removedIndex,s=i.addedIndex,d=i.droppedElement,r=null;if(u!==null&&(r=Ut(t,u),n.splice(u,1)),s!==null){var l=window.document.createElement("div");l.className="".concat(I),l.appendChild(r&&r.firstElementChild?r.firstElementChild:d),Kt(t,l,s),s>=n.length?n.push(l):n.splice(s,0,l)}a&&a(o)}}var Jt=Object.freeze({domDropHandler:ot,reactDropHandler:function(){return{handler:function(){return function(e,t){t&&t(e)}}}}}),Qt={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(e){return"translate3d(".concat(e,"px, 0, 0)")}}},en={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(e){return"translate3d(0,".concat(e,"px, 0)")}}};function tn(e,t,n){e[j]=0;var o=function(r){return{get:function(l,c){return l[r[c]||c]},set:function(l,c,f){l[r[c]]=r.setters[c]?r.setters[c](f):f}}}(t==="horizontal"?Qt:en),a={translation:0};function i(){u(e),function(r){var l=r.getBoundingClientRect();a.scaleX=r.offsetWidth?(l.right-l.left)/r.offsetWidth:1,a.scaleY=r.offsetHeight?(l.bottom-l.top)/r.offsetHeight:1}(e)}function u(r){a.rect=O(r);var l=Se(r,a.rect);Xe(l)&&(a.lastVisibleRect=a.visibleRect),a.visibleRect=l}function s(r){var l=r;if(l.tagName){var c=l.getBoundingClientRect();return t==="vertical"?c.bottom-c.top:c.right-c.left}return o.get(r,"size")*o.get(a,"scale")}function d(r){return o.get(r,"dragPosition")}return window.addEventListener("resize",function(){u(e)}),setTimeout(function(){i()},10),{getSize:s,getContainerRectangles:function(){return{rect:a.rect,visibleRect:a.visibleRect,lastVisibleRect:a.lastVisibleRect}},getBeginEndOfDOMRect:function(r){return{begin:o.get(r,"begin"),end:o.get(r,"end")}},getBeginEndOfContainer:function(){return{begin:o.get(a.rect,"begin")+a.translation,end:o.get(a.rect,"end")+a.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:o.get(a.visibleRect,"begin")+a.translation,end:o.get(a.visibleRect,"end")+a.translation}},getBeginEnd:function(r){var l=function(c){return(o.get(c,"distanceToParent")+(c[J]||0))*o.get(a,"scale")}(r)+(o.get(a.rect,"begin")+a.translation)-o.get(e,"scrollValue");return{begin:l,end:l+s(r)*o.get(a,"scale")}},getAxisValue:d,setTranslation:function(r,l){l?o.set(r.style,"translate",l):r.style.removeProperty("transform"),r[J]=l},getTranslation:function(r){return r[J]},setVisibility:function(r,l){r[q]!==void 0&&r[q]===l||(l?r.style.removeProperty("visibility"):r.style.visibility="hidden",r[q]=l)},isVisible:function(r){return r[q]===void 0||r[q]},isInVisibleRect:function(r,l){var c=a.visibleRect,f=c.left,p=c.top,m=c.right,x=c.bottom;x-p<2&&(x=p+30);var y=a.rect;return t==="vertical"?r>y.left&&r<y.right&&p<l&&l<x:f<r&&r<m&&l>y.top&&l<y.bottom},setSize:function(r,l){o.set(r,"setSize",l)},getTopLeftOfElementBegin:function(r){var l=0;return{top:t==="horizontal"?(l=r,a.rect.top):(l=a.rect.left,r),left:l}},getScrollSize:function(r){return o.get(r,"scrollSize")},getScrollValue:function(r){return o.get(r,"scrollValue")},setScrollValue:function(r,l){return o.set(r,"scrollValue",l)},invalidate:i,invalidateRects:function(){u(e)},getPosition:function(r){return d(r)},setBegin:function(r,l){o.set(r,"begin",l)}}}function at(e,t,n){var o,a,i,u=n.left,s=n.right,d=n.top,r=n.bottom,l=e.x,c=e.y;if(l<u||s<l||c<d||r<c)return null;i=t==="x"?(o=u,a=s,l):(o=d,a=r,c);var f=a-o,p=400<f?100:f/4;return a-i<p?{direction:"end",speedFactor:(p-(a-i))/p}:i-o<p?{direction:"begin",speedFactor:(p-(i-o))/p}:null}function ke(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",n=null,o=null,a=null,i=null;return{animate:function(u,s){a=u,i=s,function d(){n===null&&(n=requestAnimationFrame(function(r){o===null&&(o=r);var l=r-o;o=r;var c,f,p,m=l/1e3*i;f=t,p=m=a==="begin"?0-m:m,(c=e)&&(c!==window?f==="x"?c.scrollLeft+=p:c.scrollTop+=p:f==="x"?c.scrollBy(p,0):c.scrollBy(0,p)),n=null,d()}))}()},stop:function(){n!==null&&(cancelAnimationFrame(n),n=null),o=null}}}function nn(e){return function(){return Se(e,e.getBoundingClientRect())}}var U,Re,_,on=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,n=e.reduce(function(o,a){var i=function(u){for(var s=[],d=u.element;d;){var r=w(d);if(r&&!He(d,De)){var l={};switch(r){case h.xy:l.x={animator:ke(d,"x")},l.y={animator:ke(d,"y")};break;case h.x:l.x={animator:ke(d,"x")};break;case h.y:l.y={animator:ke(d,"y")}}s.push({axisAnimations:l,getRect:nn(d),scrollerElement:d})}d=d.parentElement}return s}(a).filter(function(u){return!o.find(function(s){return s.scrollerElement===u.scrollerElement})});return[].concat(Ce(o),Ce(i))},[]);return function(o){var a=o.draggableInfo;if(o.reset)n.forEach(function(s){s.axisAnimations.x&&s.axisAnimations.x.animator.stop(),s.axisAnimations.y&&s.axisAnimations.y.animator.stop()});else if(a){(function(s,d){s.forEach(function(r){var l=r.axisAnimations,c=(0,r.getRect)();l.x&&(l.x.scrollParams=at(d,"x",c),r.cachedRect=c),l.y&&(l.y.scrollParams=at(d,"y",c),r.cachedRect=c)})})(n,a.mousePosition),n.forEach(function(s){var d=s.axisAnimations,r=d.x,l=d.y;if(r)if(r.scrollParams){var c=r.scrollParams,f=c.direction,p=c.speedFactor;r.animator.animate(f,p*t)}else r.animator.stop();if(l)if(l.scrollParams){var m=l.scrollParams,x=m.direction,y=m.speedFactor;l.animator.animate(x,y*t)}else l.animator.stop()});var i=n.filter(function(s){return s.cachedRect});if(i.length&&1<i.length){var u=function(s,d){for(var r=document.elementFromPoint(d.x,d.y);r;){var l=s.find(function(c){return c.scrollerElement===r});if(l)return l;r=r.parentElement}return null}(i,a.mousePosition);u&&i.forEach(function(s){s!==u&&(s.axisAnimations.x&&s.axisAnimations.x.animator.stop(),s.axisAnimations.y&&s.axisAnimations.y.animator.stop())})}}}};typeof window<"u"&&((U=Element)&&U.prototype&&!U.prototype.matches&&(U.prototype.matches=U.prototype.matchesSelector||U.prototype.mozMatchesSelector||U.prototype.msMatchesSelector||U.prototype.oMatchesSelector||U.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),(Re=Node||Element)&&Re.prototype&&Re.prototype.firstElementChild==null&&Object.defineProperty(Re.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0;e=t[n++];)if(e.nodeType===1)return e;return null}}),Array.prototype.some||(Array.prototype.some=function(e){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof e!="function")throw new TypeError;for(var t=Object(this),n=t.length>>>0,o=2<=arguments.length?arguments[1]:void 0,a=0;a<n;a++)if(a in t&&e.call(o,t[a],a,t))return!0;return!1}));var rt={overflow:"hidden",display:"block"},it={height:"100%",display:"table-cell","vertical-align":"top"},an=(R(_={},".".concat(z),{position:"relative","min-height":"30px","min-width":"30px"}),R(_,".".concat(z,".horizontal"),{display:"table"}),R(_,".".concat(z,".horizontal > .").concat(ae),{display:"inline-block"}),R(_,".".concat(z,".horizontal > .").concat(I),it),R(_,".".concat(z,".vertical > .").concat(I),rt),R(_,".".concat(I),{"box-sizing":"border-box"}),R(_,".".concat(I,".horizontal"),it),R(_,".".concat(I,".vertical"),rt),R(_,".".concat(I,".animated"),{transition:"transform ease"}),R(_,".".concat($),{"box-sizing":"border-box"}),R(_,".".concat($,".animated"),{transition:"all ease-in-out"}),R(_,".".concat($," *"),{"pointer-events":"none"}),R(_,".".concat(V," *"),{"touch-action":"none","-ms-touch-action":"none"}),R(_,".".concat(re),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),R(_,".".concat(ce),{flex:"1"}),R(_,".".concat(z,".horizontal > .").concat(Q),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),R(_,".".concat(z,".vertical > .").concat(Q),{overflow:"hidden",display:"block",width:"100%"}),R(_,".".concat(de),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),R(_,".".concat(ue),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),_);function $e(e){return Object.keys(e).reduce(function(t,n){var o=e[n];return fe(o)==="object"?"".concat(t).concat(n,"{").concat($e(o),"}"):"".concat(t).concat(n,":").concat(o,";")},"")}function lt(e){if(e&&typeof window<"u"){var t=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style"),o=$e({"body *":{cursor:"".concat(e," !important")}});return n.type="text/css",n.styleSheet?n.styleSheet.cssText=o:n.appendChild(window.document.createTextNode(o)),t.appendChild(n),n}return null}var ie,_e,rn=["mousedown","touchstart"],Ae=["mousemove","touchmove"],Pe=["mouseup","touchend"],P=null,K=null,C=null,v=null,H=[],Z=!1,Be=!1,pe=!1,Ie=!1,le=null,X=null,me=null,ve=null,st=(ie=null,_e=!1,{start:function(){_e||(_e=!0,function e(){ie=requestAnimationFrame(function(){P.forEach(function(t){return t.layout.invalidateRects()}),setTimeout(function(){ie!==null&&e()},50)})}())},stop:function(){ie!==null&&(cancelAnimationFrame(ie),ie=null),_e=!1}}),ln=typeof window<"u"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function sn(){typeof window<"u"&&rn.forEach(function(e){window.document.addEventListener(e,cn,{passive:!1})})}function ut(){return v&&v.ghostParent?v.ghostParent:K&&K.parentElement||window.document.body}var he,Ge,ct,Te,Ye,We,un=(Te=null,Ye=1,We=5,function(e,t,n){he=ze(e),ct=n,(Ge=typeof t=="number"?t:ln?200:0)&&(Te=setTimeout(pt,Ge)),Ae.forEach(function(o){return window.document.addEventListener(o,dt)},{passive:!1}),Pe.forEach(function(o){return window.document.addEventListener(o,ft)},{passive:!1}),window.document.addEventListener("drag",gt,{passive:!1})});function dt(e){var t=ze(e),n=t.clientX,o=t.clientY;if(Ge)(Math.abs(he.clientX-n)>We||Math.abs(he.clientY-o)>We)&&Le();else if(Math.abs(he.clientX-n)>Ye||Math.abs(he.clientY-o)>Ye)return pt()}function ft(){Le()}function gt(){Le()}function Le(){clearTimeout(Te),Ae.forEach(function(e){return window.document.removeEventListener(e,dt)},{passive:!1}),Pe.forEach(function(e){return window.document.removeEventListener(e,ft)},{passive:!1}),window.document.removeEventListener("drag",gt,{passive:!1})}function pt(){clearTimeout(Te),Le(),ct()}function cn(e){var t=ze(e);if(!Z&&(t.button===void 0||t.button===0)&&(K=ge(t.target,"."+I))){var n=ge(K,"."+z),o=H.filter(function(s){return s.element===n})[0],a=o.getOptions().dragHandleSelector,i=o.getOptions().nonDragAreaSelector,u=!0;a&&!ge(t.target,a)&&(u=!1),i&&ge(t.target,i)&&(u=!1),u&&(o.layout.invalidate(),Y(window.document.body,V),Y(window.document.body,re),window.document.addEventListener("mouseup",function s(){Oe(window.document.body,V),Oe(window.document.body,re),window.document.removeEventListener("mouseup",s)})),u&&un(t,o.getOptions().dragBeginDelay,function(){Zt(),xt(t,nt(e.target)),Ae.forEach(function(s){window.document.addEventListener(s,mt,{passive:!1})}),Pe.forEach(function(s){window.document.addEventListener(s,qe,{passive:!1})})})}}function mt(e){e.preventDefault();var t=ze(e);if(v){var n=v.container.getOptions();n.behaviour==="contain"?function(o){var a,i,u,s,d=o.clientX,r=o.clientY,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",c=v.container.layout.getBeginEndOfContainerVisibleRect();s=l==="vertical"?(a=r,i="y",u="top",v.size.offsetHeight):(a=d,i="x",u="left",v.size.offsetWidth);var f=c.begin,p=c.end-s,m=Math.max(f,Math.min(p,a+C.positionDelta[u]));C.topLeft[i]=m,v.position[i]=Math.max(c.begin,Math.min(c.end,a+C.centerDelta[i])),v.mousePosition[i]=Math.max(c.begin,Math.min(c.end,a)),v.position[i]<c.begin+s/2&&(v.position[i]=c.begin+2),v.position[i]>c.end-s/2&&(v.position[i]=c.end-2)}(t,n.orientation):me?me==="y"?(C.topLeft.y=t.clientY+C.positionDelta.top,v.position.y=t.clientY+C.centerDelta.y,v.mousePosition.y=t.clientY):me==="x"&&(C.topLeft.x=t.clientX+C.positionDelta.left,v.position.x=t.clientX+C.centerDelta.x,v.mousePosition.x=t.clientX):(C.topLeft.x=t.clientX+C.positionDelta.left,C.topLeft.y=t.clientY+C.positionDelta.top,v.position.x=t.clientX+C.centerDelta.x,v.position.y=t.clientY+C.centerDelta.y,v.mousePosition.x=t.clientX,v.mousePosition.y=t.clientY),Ze(),(Ie=!le(v))&&dn()}else xt(t,nt(e.target))}var ye,vt,ht,se,dn=(ye=yt,ht=!(vt=20),se=null,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se&&clearTimeout(se),ht&&!se?ye.call.apply(ye,[null].concat(t)):se=setTimeout(function(){se=null,ye.call.apply(ye,[null].concat(t))},vt)});function yt(){Ie&&(Ie=!1,bt(v,P))}function qe(){Ae.forEach(function(e){window.document.removeEventListener(e,mt,{passive:!1})}),Pe.forEach(function(e){window.document.removeEventListener(e,qe,{passive:!1})}),X({reset:!0}),ve&&(function(e){e&&typeof window<"u"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(e)}(ve),ve=null),v&&(st.stop(),yt(),pe=!0,function(e){function t(){Oe(C.ghost,"animated"),C.ghost.style.transitionDuration=null,ut().removeChild(C.ghost),e()}function n(y,b,W){var Je=y.top,be=y.left;Y(C.ghost,"animated"),W&&Y(C.ghost.firstElementChild,W),C.topLeft.x=be,C.topLeft.y=Je,Ze(b),setTimeout(function(){t()},b+20)}function o(y,b){Y(C.ghost,"animated"),Ze(y,.9,!0),setTimeout(function(){b()},y+20)}if(v.targetElement){var a=H.filter(function(y){return y.element===v.targetElement})[0];!(x=a.getOptions()).shouldAnimateDrop||x.shouldAnimateDrop(v.container.getOptions(),v.payload)?n(a.getDragResult().shadowBeginEnd.rect,Math.max(150,a.getOptions().animationDuration/2),a.getOptions().dropClass):t()}else{var i=H.filter(function(y){return y===v.container})[0];if(i){var u=i.getOptions(),s=u.behaviour,d=u.removeOnDropOut;if(s!=="move"&&s!=="contain"||!Be&&d||!i.getDragResult())o(i.getOptions().animationDuration,t);else{var r=i.layout.getContainerRectangles();if(!Xe(r.visibleRect)&&Xe(r.lastVisibleRect))n({top:r.lastVisibleRect.top,left:r.lastVisibleRect.left},i.getOptions().animationDuration,i.getOptions().dropClass);else{var l=i.getDragResult(),c=l.removedIndex,f=l.elementSize,p=i.layout;i.getTranslateCalculator({dragResult:{removedIndex:c,addedIndex:c,elementSize:f,pos:void 0,shadowBeginEnd:void 0}});var m=0<c?p.getBeginEnd(i.draggables[c-1]).end:p.getBeginEndOfContainer().begin;n(p.getTopLeftOfElementBegin(m),i.getOptions().animationDuration,i.getOptions().dropClass)}}}else o(ee.animationDuration,t)}var x}(function(){wt(Z=!1);for(var e=P||[],t=e.shift();t!==void 0;)t.handleDrop(v),t=e.shift();le=me=v=C=K=P=null,pe=!1}))}function ze(e){return e.touches?e.touches[0]:e}function bt(e,t){var n=!1;t.forEach(function(o){var a=o.handleDrag(e);n=!!a.containerBoxChanged||!1,a.containerBoxChanged=!1}),n&&(n=!1,requestAnimationFrame(function(){H.forEach(function(o){o.layout.invalidateRects(),o.onTranslated()})}))}function Ue(e){var t=e,n=null;return function(o){return!(n!==null||!Z||pe)&&(n=requestAnimationFrame(function(){Z&&!pe&&(bt(o,t),X({draggableInfo:o})),n=null}),!0)}}function Ke(e,t){return e.getOptions().autoScrollEnabled?on(t,e.getScrollMaxSpeed()):function(n){return null}}function wt(e){H.forEach(function(t){var n=e?t.getOptions().onDragStart:t.getOptions().onDragEnd;if(n){var o={isSource:t===v.container,payload:v.payload};t.isDragRelevant(v.container,v.payload)?o.willAcceptDrop=!0:o.willAcceptDrop=!1,n(o)}})}function xt(e,t){if(K!==null){Z=!0;var n=H.filter(function(o){return K.parentElement===o.element})[0];n.setDraggables(),me=n.getOptions().lockAxis?n.getOptions().lockAxis.toLowerCase():null,v=function(o){var a=H.filter(function(d){return o.parentElement===d.element})[0],i=a.draggables.indexOf(o),u=a.getOptions().getGhostParent,s=o.getBoundingClientRect();return{container:a,element:o,size:{offsetHeight:s.bottom-s.top,offsetWidth:s.right-s.left},elementIndex:i,payload:a.getOptions().getChildPayload?a.getOptions().getChildPayload(i):void 0,targetElement:null,position:{x:0,y:0},groupName:a.getOptions().groupName,ghostParent:u?u():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(K),C=function(o,a,i,u){var s=a.x,d=a.y,r=o.getBoundingClientRect(),l=r.left,c=r.top,f=r.right,p=r.bottom,m=S(i.layout.getContainerRectangles().visibleRect,r),x=m.left+(m.right-m.left)/2,y=m.top+(m.bottom-m.top)/2,b=o.cloneNode(!0);return b.style.zIndex="1000",b.style.boxSizing="border-box",b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.transform=null,b.style.removeProperty("transform"),i.shouldUseTransformForGhost()?b.style.transform="translate3d(".concat(l,"px, ").concat(c,"px, 0)"):(b.style.top="".concat(c,"px"),b.style.left="".concat(l,"px")),b.style.width=f-l+"px",b.style.height=p-c+"px",b.style.overflow="visible",b.style.transition=null,b.style.removeProperty("transition"),b.style.pointerEvents="none",b.style.userSelect="none",i.getOptions().dragClass?setTimeout(function(){Y(b.firstElementChild,i.getOptions().dragClass);var W=window.getComputedStyle(b.firstElementChild).cursor;ve=lt(W)}):ve=lt(u),Y(b,i.getOptions().orientation||"vertical"),Y(b,$),{ghost:b,centerDelta:{x:x-s,y:y-d},positionDelta:{left:l-s,top:c-d},topLeft:{x:l,y:c}}}(K,{x:e.clientX,y:e.clientY},v.container,t),v.position={x:e.clientX+C.centerDelta.x,y:e.clientY+C.centerDelta.y},v.mousePosition={x:e.clientX,y:e.clientY},P=H.filter(function(o){return o.isDragRelevant(n,v.payload)}),v.relevantContainers=P,le=Ue(P),X&&X({reset:!0,draggableInfo:void 0}),X=Ke(n,P),P.forEach(function(o){return o.prepareDrag(o,P)}),wt(!0),le(v),ut().appendChild(C.ghost),st.start()}}var Ne=null;function Ze(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0&&arguments[2],o=C,a=o.ghost,i=o.topLeft,u=i.x,s=i.y,d=!v.container||v.container.shouldUseTransformForGhost(),r=d?"translate3d(".concat(u,"px,").concat(s,"px, 0)"):null;if(t!==1&&(r=r?"".concat(r," scale(").concat(t,")"):"scale(".concat(t,")")),0<e)return C.ghost.style.transitionDuration=e+"ms",void requestAnimationFrame(function(){r&&(a.style.transform=r),d||(a.style.left=u+"px",a.style.top=s+"px"),Ne=null,n&&(a.style.opacity="0")});Ne===null&&(Ne=requestAnimationFrame(function(){r&&(a.style.transform=r),d||(a.style.left=u+"px",a.style.top=s+"px"),Ne=null,n&&(a.style.opacity="0")}))}function fn(){if(Z&&!Be&&!pe){Ie=!(Be=!0);var e=Object.assign({},v,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});P.forEach(function(t){t.handleDrag(e)}),v.targetElement=null,v.cancelDrop=!0,qe(),Be=!1}}typeof window<"u"&&function(){if(typeof window<"u"){var e=window.document.head||window.document.getElementsByTagName("head")[0],t=window.document.createElement("style");t.id="smooth-dnd-style-definitions";var n=$e(an);t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(window.document.createTextNode(n)),e.appendChild(t)}}();var Me=(sn(),{register:function(e){(function(t){H.push(t),Z&&v&&t.isDragRelevant(v.container,v.payload)&&(P.push(t),t.prepareDrag(t,P),X&&X({reset:!0,draggableInfo:void 0}),X=Ke(t,P),le=Ue(P),t.handleDrag(v))})(e)},unregister:function(e){(function(t){if(H.splice(H.indexOf(t),1),Z&&v){v.container===t&&t.fireRemoveElement(),v.targetElement===t.element&&(v.targetElement=null);var n=P.indexOf(t);-1<n&&(P.splice(n,1),X&&X({reset:!0,draggableInfo:void 0}),X=Ke(t,P),le=Ue(P))}})(e)},isDragging:function(){return Z},cancelDrag:fn});function Et(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:ee.animationDuration;t?(Y(e,oe),e.style.transitionDuration=n+"ms"):(Oe(e,oe),e.style.removeProperty("transition-duration"))}function Dt(e){var t=[];return Array.prototype.forEach.call(e.children,function(n){if(n.nodeType===Node.ELEMENT_NODE){var o=n;He(n,I)||(o=function(a){if(L.wrapChild){var i=window.document.createElement("div");return i.className="".concat(I),a.parentElement.insertBefore(i,a),i.appendChild(a),i}return a}(n)),o[J]=0,t.push(o)}else e.removeChild(n)}),t}function gn(e){var t=e.layout;return function(n,o){var a=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function i(u,s,d,r){var l=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(r<d)return d;if(d===r){var c=t.getBeginEnd(u[d]),f=c.begin,p=c.end;return l?s<(p+f)/2?d:d+1:d}var m=Math.floor((r+d)/2),x=t.getBeginEnd(u[m]),y=x.begin,b=x.end;return s<y?i(u,s,d,m-1,l):b<s?i(u,s,m+1,r,l):l?s<(b+y)/2?m:m+1:m}(n,o,0,n.length-1,a)}}function pn(e){var t=e.element,n=e.draggables,o=e.layout,a=e.getOptions,i=function(s){var d=s.element,r=s.draggables,l=s.layout;return function(){r.forEach(function(c){Et(c,!1),l.setTranslation(c,0),l.setVisibility(c,!0)}),d[T]&&(d[T].parentNode.removeChild(d[T]),d[T]=null)}}({element:t,draggables:n,layout:o,getOptions:a}),u=(L.dropHandler||ot)({element:t,draggables:n,layout:o,getOptions:a});return function(s,d){var r=d.addedIndex,l=d.removedIndex,c=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(i(),!s.cancelDrop&&(s.targetElement||a().removeOnDropOut||c)){var f={removedIndex:l,addedIndex:r!==null?l!==null&&l<r?r-1:r:null,payload:s.payload};u(f,a().onDrop)}}}function Ct(e){var t=e.element,n=e.getOptions,o=null;return function(a){var i=a.draggableInfo,u=o;return o==null&&i.container.element===t&&n().behaviour!=="copy"&&(u=o=i.elementIndex),{removedIndex:u}}}function St(e){var t=e.draggables,n=e.layout;return function(o){var a=o.dragResult;a.removedIndex!==null&&n.setVisibility(t[a.removedIndex],!1)}}function Ot(e){var t=e.element,n=e.layout;return function(o){var a=o.draggableInfo,i=document.elementFromPoint(a.position.x,a.position.y);if(i){var u=qt(i,a.relevantContainers);if(u&&u.element===t)return{pos:n.getPosition(a.position)}}return{pos:null}}}function kt(e){var t=e.layout,n=null;return function(o){var a=o.draggableInfo;return o.dragResult.pos===null?n=null:{elementSize:n=n||t.getSize(a.size)}}}function Rt(e){var t=e.element;return function(n){var o=n.draggableInfo,a=n.dragResult;(function(i,u){var s=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];u&&s?i.targetElement=u:i.targetElement===u&&(i.targetElement=null)})(o,t,!!a.pos)}}function mn(){return function(e){return e.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function vn(e){var t=e.layout,n=null;return function(o){var a=o.dragResult.addedIndex;if(a===n)return null;n=a;var i=t.getBeginEndOfContainer(),u=i.begin;return i.end,{shadowBeginEnd:{rect:t.getTopLeftOfElementBegin(u)}}}}function hn(e){var t=e.layout,n=e.element,o=e.getOptions,a=null;return function(i){var u=i.dragResult,s=u.elementSize,d=u.shadowBeginEnd,r=u.addedIndex,l=u.dropPlaceholderContainer,c=o();if(c.dropPlaceholder){var f=typeof c.dropPlaceholder=="boolean"?{}:c.dropPlaceholder,p=f.animationDuration,m=f.className,x=f.showOnTop;if(r===null)return l&&a!==null&&n.removeChild(l),a=null,{dropPlaceholderContainer:void 0};if(!l){var y=document.createElement("div"),b=document.createElement("div");b.className=de,y.className="".concat(ce," ").concat(m||ue),(l=document.createElement("div")).className="".concat(Q),l.style.position="absolute",p!==void 0&&(l.style.transition="all ".concat(p,"ms ease")),l.appendChild(b),b.appendChild(y),t.setSize(l.style,s+"px"),l.style.pointerEvents="none",x?n.appendChild(l):n.insertBefore(l,n.firstElementChild)}return a!==r&&d.dropArea&&t.setBegin(l.style,d.dropArea.begin-t.getBeginEndOfContainer().begin+"px"),a=r,{dropPlaceholderContainer:l}}return null}}function yn(e){var t=At(e);return function(n){var o=n.draggableInfo,a=n.dragResult;return o.invalidateShadow?t({draggableInfo:o,dragResult:a}):null}}function bn(e){var t=function(n){var o=n.draggables,a=gn({layout:n.layout});return function(i){var u=i.dragResult,s=u.shadowBeginEnd,d=u.pos;if(s)return s.begin+s.beginAdjustment<=d&&s.end>=d?null:d<s.begin+s.beginAdjustment?a(o,d):d>s.end?a(o,d)+1:o.length;var r=a(o,d,!0);return r!==null?r:o.length}}(e);return function(n){var o=n.dragResult,a=null;return o.pos!==null&&(a=t({dragResult:o}))===null&&(a=o.addedIndex),{addedIndex:a}}}function wn(){var e=null;return function(t){var n=t.dragResult,o=n.addedIndex,a=n.shadowBeginEnd;o!==e&&e!==null&&a&&(a.beginAdjustment=0),e=o}}function xn(e){var t=e.element,n=e.draggables,o=e.layout,a=e.getOptions,i=null;return function(u){var s=u.dragResult,d=s.addedIndex,r=s.removedIndex,l=s.elementSize;if(r===null){if(d!==null){if(!i){var c=o.getBeginEndOfContainer();c.end=c.begin+o.getSize(t);var f=o.getScrollSize(t)>o.getSize(t)?c.begin+o.getScrollSize(t)-o.getScrollValue(t):c.end,p=0<n.length?o.getBeginEnd(n[n.length-1]).end-n[n.length-1][J]:c.begin;if(f<p+l){(i=window.document.createElement("div")).className=ae+" "+a().orientation;var m=0<n.length?l+p-f:l;return o.setSize(i.style,"".concat(m,"px")),t.appendChild(i),t[T]=i,{containerBoxChanged:!0}}}}else if(i){o.setTranslation(i,0);var x=i;return i=null,t.removeChild(x),{containerBoxChanged:!(t[T]=null)}}}}}function _t(e){var t=e.draggables,n=e.layout,o=null,a=null;return function(i){var u=i.dragResult,s=u.addedIndex,d=u.removedIndex,r=u.elementSize;if(s!==o||d!==a){for(var l=0;l<t.length;l++)if(l!==d){var c=t[l],f=0;d!==null&&d<l&&(f-=r),s!==null&&s<=l&&(f+=r),n.setTranslation(c,f)}return{addedIndex:o=s,removedIndex:a=d}}}}function At(e){var t=e.draggables,n=e.layout,o=null;return function(a){var i=a.draggableInfo,u=a.dragResult,s=u.addedIndex,d=u.removedIndex,r=u.elementSize,l=u.pos,c=u.shadowBeginEnd;if(l===null)return{shadowBeginEnd:o=null};if(s===null||!i.invalidateShadow&&s===o)return null;var f=s-1,p=Number.MIN_SAFE_INTEGER,m=0,x=0,y=null,b=null;if(f===d&&f--,-1<f){var W=n.getSize(t[f]);if(b=n.getBeginEnd(t[f]),r<W){var Je=(W-r)/2;p=b.end-Je}else p=b.end;m=b.end}else b={end:n.getBeginEndOfContainer().begin},m=n.getBeginEndOfContainer().begin;var be=Number.MAX_SAFE_INTEGER,we=s;if(we===d&&we++,we<t.length){var Lt=n.getSize(t[we]);if(y=n.getBeginEnd(t[we]),r<Lt){var Cn=(Lt-r)/2;be=y.begin+Cn}else be=y.begin;x=y.begin}else y={begin:n.getContainerRectangles().rect.end},x=n.getContainerRectangles().rect.end-n.getContainerRectangles().rect.begin;var Sn=b&&y?n.getTopLeftOfElementBegin(b.end):null;return o=s,{shadowBeginEnd:{dropArea:{begin:m,end:x},begin:p,end:be,rect:Sn,beginAdjustment:c?c.beginAdjustment:0}}}}function En(){var e=null;return function(t){var n=t.dragResult,o=n.pos,a=n.addedIndex,i=n.shadowBeginEnd;if(o!==null){if(a!=null&&e===null){if(o<i.begin){var u=o-i.begin-5;i.beginAdjustment=u}e=a}}else e=null}}function Pt(e){var t=e.getOptions,n=!1,o=t();return function(a){var i=!!a.dragResult.pos;i!==n&&((n=i)?o.onDragEnter&&o.onDragEnter():o.onDragLeave&&o.onDragLeave())}}function Bt(e){var t=e.getOptions,n=null,o=t();return function(a){var i=a.dragResult,u=i.addedIndex,s=i.removedIndex,d=a.draggableInfo,r=d.payload,l=d.element;if(o.onDropReady&&u!==null&&n!==u){var c=n=u;s!==null&&s<u&&c--,o.onDropReady({addedIndex:c,removedIndex:s,payload:r,element:l?l.firstElementChild:void 0})}}}function It(e){return e.getOptions().behaviour==="drop-zone"?Tt(e)(Ct,St,Ot,kt,Rt,mn,vn,Pt,Bt):Tt(e)(Ct,St,Ot,kt,Rt,yn,bn,wn,xn,_t,At,hn,En,Pt,Bt)}function Tt(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n.map(function(u){return u(e)}),i=null;return function(u){return i=a.reduce(function(s,d){return Object.assign(s,d({draggableInfo:u,dragResult:s}))},i||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function Dn(e){return function(t){var n=Object.assign({},ee,t),o=null,a=null,i=function(f,p){var m=Dt(f),x=p();return Y(f,"".concat(z," ").concat(x.orientation)),{element:f,draggables:m,getOptions:p,layout:tn(f,x.orientation,x.animationDuration)}}(e,c),u=It(i),s=pn(i),d=function(f,p){var m=[];function x(){m&&(m.forEach(function(y){return y.removeEventListener("scroll",p)}),window.removeEventListener("scroll",p))}return function(){for(var y=f;y;)(E(y,"x")||E(y,"y"))&&m.push(y),y=y.parentElement}(),{dispose:function(){x(),m=null},start:function(){m&&(m.forEach(function(y){return y.addEventListener("scroll",p)}),window.addEventListener("scroll",p))},stop:x}}(e,function(){i.layout.invalidateRects(),r()});function r(){a!==null&&(a.invalidateShadow=!0,o=u(a),a.invalidateShadow=!1)}function l(f,p){for(var m=Dt(p),x=0;x<m.length;x++)f[x]=m[x];for(var y=0;y<f.length-m.length;y++)f.pop()}function c(){return n}return{element:e,draggables:i.draggables,isDragRelevant:function(f){var p=f.element,m=f.getOptions;return function(x,y){var b=m();if(b.shouldAcceptDrop)return b.shouldAcceptDrop(x.getOptions(),y);var W=x.getOptions();return b.behaviour!=="copy"&&ge(p,"."+I)!==x.element&&(x.element===p||!(!W.groupName||W.groupName!==b.groupName))}}(i),layout:i.layout,dispose:function(f){d.dispose(),function(p){L.wrapChild&&Array.prototype.forEach.call(p.children,function(m){m.nodeType===Node.ELEMENT_NODE&&He(m,I)&&(p.insertBefore(m.firstElementChild,m),p.removeChild(m))})}(f.element)},prepareDrag:function(f,p){var m=f.element,x=i.draggables;l(x,m),f.layout.invalidateRects(),x.forEach(function(y){return Et(y,!0,c().animationDuration)}),d.start()},handleDrag:function(f){return o=u(a=f)},handleDrop:function(f){d.stop(),o&&o.dropPlaceholderContainer&&e.removeChild(o.dropPlaceholderContainer),a=null,u=It(i),s(f,o),o=null},fireRemoveElement:function(){s(a,Object.assign({},o,{addedIndex:null}),!0),o=null},getDragResult:function(){return o},getTranslateCalculator:function(f){return _t(i)(f)},onTranslated:function(){r()},setDraggables:function(){l(i.draggables,e)},getScrollMaxSpeed:function(){return L.maxScrollSpeed},shouldUseTransformForGhost:function(){return L.useTransformForGhost===!0},getOptions:c,setOptions:function(f){var p=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];n=p===!1?Object.assign({},ee,f):Object.assign({},ee,n,f)}}}}var L=function(e,t){var n=Dn(e)(t);return e[M]=n,Me.register(n),{dispose:function(){Me.unregister(n),n.dispose(n)},setOptions:function(o,a){n.setOptions(o,a)}}};function Fe(e,t,n){Object.defineProperty(e,n,{set:function(o){t[n]=o},get:function(){return t[n]}})}L.wrapChild=!0,L.cancelDrag=function(){Me.cancelDrag()},L.isDragging=function(){return Me.isDragging()};function te(e,t){return console.warn('default export is deprecated. please use named export "smoothDnD"'),L(e,t)}te.cancelDrag=function(){L.cancelDrag()},te.isDragging=function(){return L.isDragging()},Fe(te,L,"useTransformForGhost"),Fe(te,L,"maxScrollSpeed"),Fe(te,L,"wrapChild"),Fe(te,L,"dropHandler"),B.smoothDnD=L,B.constants=Ve,B.dropHandlers=Jt,B.default=te,Object.defineProperty(B,"__esModule",{value:!0})})})(tt,tt.exports);var Ee=tt.exports;function Yt(A){return A?typeof A=="string"||typeof A=="object"&&(typeof A.value=="string"||typeof A.value=="function"||typeof A.value=="object"):!0}function Wt(A,N){const B=A.$props.tag;if(B){if(typeof B=="string"){const h={value:B};return N&&(h.props={class:N}),h}else if(typeof B=="object"){const h={value:B.value||"div",props:B.props||{}};return N&&(h.props.class?Array.isArray(h.props.class)?h.props.class.push(N):h.props.class=[N,h.props.class]:h.props.class=N),h}}return{value:"div"}}Ee.smoothDnD.dropHandler=Ee.dropHandlers.reactDropHandler().handler;Ee.smoothDnD.wrapChild=!1;const Xt={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var Mn=$t({name:"Container",mounted(){const A=Object.assign({},this.$props);for(const N in Xt)A[Xt[N]]=B=>{this.$emit(N,B)};this.containerElement=this.$refs.container||this.$el,this.container=Ee.smoothDnD(this.containerElement,A)},unmounted(){if(this.container)try{this.container.dispose()}catch{}},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{orientation:{type:String,default:"vertical"},removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},animationDuration:{type:Number,default:250},behaviour:String,groupName:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:Yt,default:"div"}},render(){const A=Wt(this);return Gt(A.value,Object.assign({},{ref:"container"},A.props),this.$slots.default())}}),Fn=$t({name:"Draggable",props:{tag:{validator:Yt,default:"div"}},render:function(){const A=Wt(this,Ee.constants.wrapperClass);return Gt(A.value,Object.assign({},A.props),this.$slots.default())}});const jn={class:"writepot"},Vn={class:"ml30 mr30"},Hn={class:"planner"},Xn={class:"left-panel"},$n={class:"day-list"},Gn=["onClick"],Yn={class:"evenwide"},Wn=["onClick"],qn={class:"place-list"},Un={class:"dayplace"},Kn={class:"evenwide"},Zn=["onClick"],Jn={class:"right-panel"},Qn={class:"menu-wrap"},eo={__name:"planning",setup(A){In();const N=Tn(),B=On(()=>N.state.planningID),h=ne([]),F=ne(1),M=ne("");let I=!0;Qe(()=>B.value,async g=>{if(g)try{const w=`/feeds/my_plan_detail/${g}`,E=await jt.get(w,{withCredentials:!0}),{planning:S}=E.data;if(!S){console.error("Planning data is undefined or null");return}M.value=S.planning_title||"",h.value=S.travelDays.reduce((O,D)=>{const G=O.find(Se=>Se.day===D.day);return G?G.places.push({place_name:D.place,place_ID:D.place_ID,address:D.place_address||"주소 정보 없음",x:D.x,y:D.y}):O.push({day:D.day,places:[{place_name:D.place,place_ID:D.place_ID,address:D.place_address||"주소 정보 없음",x:D.x,y:D.y}]}),O},[]),F.value=1,I&&Ln(()=>{re(),I=!1})}catch(w){console.error("Error fetching planning data:",w)}else M.value="",h.value=[]},{immediate:!0}),Qe(()=>h.value,g=>{console.log("TravelDays changed:",g),I||g.map((E,S)=>S).forEach(E=>V(E))},{deep:!0}),Qe(()=>F.value,(g,w)=>{console.log(`currentDay changed from Day ${w} to Day ${g}`),T.value.forEach(S=>{S&&S.setOptions({strokeColor:"#808080"})});const E=g-1;T.value[E]?(T.value[E].setOptions({strokeColor:"#FF0000"}),console.log(`Day ${g} polyline updated to red.`)):console.log(`No polyline found for Day ${g}.`),oe(E)});function oe(g=null){var S;let w;if(g!==null?w=(S=h.value[g])==null?void 0:S.places.map(O=>new kakao.maps.LatLng(O.y,O.x)):w=h.value.flatMap(O=>O.places.map(D=>new kakao.maps.LatLng(D.y,D.x))),!w||w.length===0)return;const E=new kakao.maps.LatLngBounds;w.forEach(O=>E.extend(O)),j.setBounds(E)}const J=async()=>{if(console.log("Saving travel plan with data:",{title:M.value,travelDays:h.value}),h.value.length===0||!M.value.trim()){alert("저장할 여행 데이터 또는 제목이 없습니다.");return}try{(await jt.post("/feeds/planning",{title:M.value.trim(),travelDays:h.value},{withCredentials:!0})).status===200&&alert("여행 계획이 성공적으로 저장되었습니다!")}catch(g){console.error("저장 중 오류 발생:",g),alert("저장에 실패했습니다.")}},q=ne(null),$=ne(""),z=ne([]);let j,ae;const T=ne([]);kn(()=>{if(!window.kakao||!window.kakao.maps){console.error("Kakao Maps SDK is not loaded.");return}const g={center:new kakao.maps.LatLng(37.566826,126.9786567),level:3};j=new kakao.maps.Map(q.value,g),new kakao.maps.services.Geocoder,ae=new kakao.maps.services.Places,new kakao.maps.InfoWindow({zIndex:1}),h.value.forEach((w,E)=>{V(E)})});function V(g,w=!0){T.value[g]&&(T.value[g].setMap(null),T.value[g]=null);const E=h.value[g].places;if(E.length<2)return;const S=E.map(D=>new kakao.maps.LatLng(D.y,D.x)),O=new kakao.maps.Polyline({map:j,path:S,strokeWeight:5,strokeColor:"#FF0000",strokeOpacity:.8,strokeStyle:"solid"});if(T.value[g]=O,w){const D=new kakao.maps.LatLngBounds;S.forEach(G=>D.extend(G)),j.setBounds(D)}}function re(){T.value.forEach(g=>{g&&g.setMap(null)}),T.value=[],h.value.forEach((g,w)=>{V(w)}),oe()}const De=()=>{h.value.push({day:`Day ${h.value.length+1}`,places:[]})},ue=g=>{if(g<0||g>=h.value.length){alert("유효하지 않은 날짜입니다.");return}h.value[g].places.length>0&&!confirm(`Day ${g+1} 안에 ${h.value[g].places.length}개의 여행지가 포함되어 있습니다. 정말로 삭제하시겠습니까?`)||(h.value.splice(g,1),h.value=h.value.map((w,E)=>({...w,day:`Day ${E+1}`})),F.value>h.value.length&&(F.value=h.value.length))},ce=(g,w)=>{h.value[g].places.splice(w,1),V(g)},Q=()=>{if(!$.value.trim()){alert("장소를 입력해주세요!");return}ae.keywordSearch($.value,de)};function de(g,w,E){w===kakao.maps.services.Status.OK?Ve(g):w===kakao.maps.services.Status.ZERO_RESULT&&alert("검색 결과가 없습니다.")}function Ve(g){const w=new kakao.maps.LatLngBounds;R(),g.forEach((E,S)=>{const O=new kakao.maps.LatLng(E.y,E.x),D=fe(O);kakao.maps.event.addListener(D,"click",()=>{ee(E)}),w.extend(O)}),j.setBounds(w)}function ee(g){const w=F.value-1,E=h.value[w].places.length===0;if(h.value[w].places.push({place_name:g.place_name,place_ID:g.id,address:g.address_name||"주소 정보 없음",y:g.y,x:g.x}),E){const S=new kakao.maps.LatLng(g.y,g.x);j.setCenter(S),j.setLevel(3),Q()}else V(w,!1)}function fe(g){const w=new kakao.maps.Marker({position:g,map:j});return z.value.push(w),w}function R(){z.value.forEach(g=>g.setMap(null)),z.value=[]}const Ce=g=>({removedIndex:w,addedIndex:E})=>{const S=h.value[g].places,[O]=S.splice(w,1);S.splice(E,0,O),V(g)};return(g,w)=>(xe(),je("div",jn,[k("div",Vn,[zt(k("input",{"onUpdate:modelValue":w[0]||(w[0]=E=>M.value=E),type:"text",class:"title",placeholder:"새 여행일정 제목을 입력하세요.",maxlength:"25"},null,512),[[Nt,M.value]])]),k("div",Hn,[k("div",Xn,[k("button",{onClick:De,class:"add-day-btn"},"+ 날짜 추가"),k("ul",$n,[(xe(!0),je(Mt,null,Ft(h.value,(E,S)=>(xe(),je("li",{key:S,class:_n({active:F.value===S+1}),onClick:O=>F.value=S+1},[k("div",Yn,[k("h3",null,et(E.day),1),k("button",{onClick:O=>ue(S),class:"remove-day-btn"}," X ",8,Wn)]),k("ul",qn,[An(Ht(Mn),{getChildPayload:O=>E.places[O],onDrop:Ce(S),"group-name":"places"},{default:Vt(()=>[(xe(!0),je(Mt,null,Ft(E.places,(O,D)=>(xe(),Pn(Ht(Fn),{key:D},{default:Vt(()=>[k("li",Un,[k("div",Kn,[k("h3",null,[Bn(et(O.place_name)+" ",1),k("button",{onClick:G=>ce(S,D),class:"remove-place-btn"}," x ",8,Zn)])]),k("p",null,et(O.address),1)])]),_:2},1024))),128))]),_:2},1032,["getChildPayload","onDrop"])])],10,Gn))),128))])]),k("div",Jn,[k("div",Qn,[zt(k("input",{class:"keyword",type:"text","onUpdate:modelValue":w[1]||(w[1]=E=>$.value=E),placeholder:"장소를 입력하세요",onKeyup:Rn(Q,["enter"])},null,544),[[Nt,$.value]]),k("button",{onClick:Q},"검색")]),k("div",{ref_key:"mapContainer",ref:q,class:"map-container"},null,512),k("div",{class:"buttonzone"},[k("button",{onClick:J,class:"save-btn mt10"},"완료")])])])]))}},ao=Nn(eo,[["__scopeId","data-v-59c3cb54"]]);export{ao as default};
